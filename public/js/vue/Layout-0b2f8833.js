import e from"./Layout-8c51cdb8.js";import"./vue-toast-notification-f2a3de7a.js";import t from"./ModalView-c09da2fc.js";import{c as o,M as i}from"./app-0745d670.js";import s from"./ModalRedirectEdit-6298d48a.js";import{am as l,o as r,c as a,a as n,k as d,q as c,M as m,N as p,E as u,C as f,K as h,m as j}from"./@vue-9ee83fb6.js";import"./@vueuse-3c3b27e0.js";import"./unidecode-5a54da0f.js";import"./@ckeditor-fa9b3055.js";import"./vue-abe8eda6.js";import"./vue-draggable-next-3bc70602.js";import"./ckeditor5-custom-build-7f9f8982.js";import"./vue3-treeview-e35ab4eb.js";import"./vue-filepond-82332930.js";import"./filepond-136e7cc4.js";import"./filepond-plugin-image-preview-4f29f0b3.js";import"./filepond-plugin-file-validate-type-324437b8.js";import"./mapbox-gl-38e32bee.js";/* empty css             */import"./vuetify-193e6d04.js";import"./@inertiajs-d76518b1.js";import"./axios-3d65c6bd.js";import"./deepmerge-3a6ffb65.js";import"./side-channel-e57be611.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./call-bind-36d0f176.js";import"./set-function-length-801a4962.js";import"./define-data-property-daf1763a.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-61b1e1fb.js";import"./object-inspect-0fa0b9de.js";import"./nprogress-9c4c7d08.js";import"./lodash.clonedeep-c1370659.js";import"./lodash.isequal-feeae999.js";import"./@vuepic-f846cd73.js";import"./date-fns-421fcf3e.js";import"./@babel-0d6f2215.js";import"./element-plus-e3c76eb0.js";import"./lodash-es-fb3d0246.js";import"./@element-plus-283d896c.js";import"./@popperjs-2d1e819d.js";import"./@ctrl-91de2ec7.js";import"./dayjs-7398d4dd.js";import"./async-validator-8d480e59.js";import"./memoize-one-63ab667a.js";import"./escape-html-5c28ffbb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-24fcdcc4.js";import"./vue3-apexcharts-663397fa.js";import"./apexcharts-4d1d416c.js";import"./vue-i18n-d397f996.js";import"./@intlify-90b40ed7.js";const x={class:"mainAppWrapper d-flex flex-column"},g={class:"mainBarWrapper px-5 pt-3 flex-grow-0 flex-shrink-0"},v={class:"--text"},y={class:"--text"},R={class:"--text"},_={class:"mainContentWrapper detailContentWrapper d-flex flex-grow-1 flex-shrink-1 overflow-auto"},M={class:"detailFormWrapper pa-5 flex-grow-1 overflow-auto"},b=n("p",null,"Your sitemap index can be found here: https://panoee.com/sitemap_index.xml",-1),k={class:"--text"},L={class:"--text"},S={class:"--text"},w={key:0,class:"reportTableWrapper py-4 d-flex flex-column overflow-visible"},A={class:"--filterBar d-flex align-center justify-end mb-2"},T={class:"tableListingWrapper d-flex flex-column"},V={key:0,class:"reportTableWrapper py-4 d-flex flex-column overflow-visible"},D={class:"--filterBar d-flex align-center justify-end mb-2"},I={class:"tableListingWrapper d-flex flex-column"},$={data(){let e=[{title:"Xem",icon:"mdi-eye-outline",url:"seo_monitor_detail",component:t,post:!1,reload:!1},{title:"Xóa",icon:"mdi-delete-outline",url:{path:"seo_monitor_delete",data:{}},component:o,post:!0,reload:!1}],l=[{title:"Delete",icon:"mdi-delete-outline",url:{path:"seo_monitor_delete",data:{all:!0},content:{title:"Delete",content:"Are you sure you want to delete all selected objects",confirm:"Delete"}},component:i,post:!0,reload:!1}],r=[{title:"Sửa",icon:"mdi-pencil-outline",url:"seo_monitor_edit",component:s,post:!1,reload:!1},{title:"Xóa",icon:"mdi-delete-outline",url:{path:"seo_redirect_delete",data:{}},component:o,post:!0,reload:!1}],a=[{title:"Delete",icon:"mdi-delete-outline",url:{path:"seo_redirect_delete",data:{all:!0},content:{title:"Delete",content:"Are you sure you want to delete all selected objects",confirm:"Delete"}},component:i,post:!0,reload:!1}];return{dialog:!1,ModalView:j(t),ModalDelete:j(o),ModalSelected:j(i),ModalRedirectEdit:j(s),tabAll:null,tabSeoRedirect:null,seoMonitor:!1,seoMonitorListing:[],seoMonitorHeaders:[],seoMonitorFields:[],seoMonitorTotalItems:0,seoMonitorLimit:10,seoMonitorRouterList:{router:route("seo_monitor")},seoMonitorAction:e,seoMonitorSelectAction:l,seoRedirect:!1,seoRedirectListing:[],seoRedirectHeaders:[],seoRedirectFields:[],seoRedirectTotalItems:0,seoRedirectLimit:10,seoRedirectRouterList:{router:route("seo_redirect")},seoRedirectAction:r,seoRedirectSelectAction:a}},methods:{clearSeoMonitor(){fetch(route("seo_monitor_truncate"),{method:"POST"}).then((e=>{if(e.ok)return e.json();throw new Error("Lỗi xảy ra khi gửi yêu cầu.")})).then((e=>{})).catch((e=>{console.error("Lỗi xảy ra khi gửi yêu cầu:",e)})).finally((()=>{this.dialog=!this.dialog}))},getMonitor(){this.seoMonitor||fetch(route("seo_monitor"),{method:"POST"}).then((e=>{if(e.ok)return e.json();throw new Error("Lỗi xảy ra khi gửi yêu cầu.")})).then((e=>{this.$nextTick((()=>{this.seoMonitorFields=e.fields,this.seoMonitorHeaders=e.fields,this.seoMonitorListing=e.listData,this.seoMonitorLimit=e.limit,this.seoMonitorTotalItems=e.totalItems,this.seoMonitor=!0}))})).catch((e=>{console.error("Lỗi xảy ra khi gửi yêu cầu:",e)})).finally((()=>{}))},getRedirect(){this.seoRedirect||fetch(route("seo_redirect"),{method:"POST"}).then((e=>{if(e.ok)return e.json();throw new Error("Lỗi xảy ra khi gửi yêu cầu.")})).then((e=>{this.$nextTick((()=>{this.seoRedirectFields=e.fields,this.seoRedirectHeaders=e.fields,this.seoRedirectListing=e.listData,this.seoRedirectLimit=e.limit,this.seoRedirectTotalItems=e.totalItems,this.seoRedirect=!0}))})).catch((e=>{console.error("Lỗi xảy ra khi gửi yêu cầu:",e)})).finally((()=>{}))},exportExcel(e=""){let t=new FormData,o=[],i=[],s="export.xlsx";if("monitor"==e?(o=this.seoMonitorListing,i=this.seoMonitorHeaders,s="monitor.xlsx"):"redirect"==e&&(o=this.seoRedirectListing,i=this.seoRedirectHeaders,s="redirect.xlsx"),o&&i){for(var[l,r]of Object.entries(o))t.append("data[]",JSON.stringify(r));t.append("fields",JSON.stringify(i)),fetch(route("vuetify_export_excel"),{method:"POST",body:t}).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=s,o.click(),URL.revokeObjectURL(t)})).catch((e=>{})).finally((()=>{}))}}}},C=Object.assign($,{layout:e},{__name:"Layout",setup:e=>(e,t)=>{const o=l("v-tab"),i=l("v-tabs"),s=l("v-card-item"),j=l("v-card"),$=l("v-window-item"),C=l("CustomField"),E=l("v-btn"),H=l("DataTableServer"),U=l("v-window"),O=l("v-toolbar-title"),F=l("v-toolbar"),W=l("v-card-text"),P=l("v-card-actions"),B=l("v-dialog");return r(),a(h,null,[n("div",x,[n("div",g,[d(i,{modelValue:e.tabAll,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tabAll=t),class:"mainTabPanel"},{default:c((()=>[d(o,{value:"seoSitemap"},{default:c((()=>[n("span",v,m(e.$t("Sitemap")),1)])),_:1}),d(o,{value:"seoRedirect",onClick:t[0]||(t[0]=t=>e.getMonitor())},{default:c((()=>[n("span",y,m(e.$t("404 & 301 Redirection")),1)])),_:1}),d(o,{value:"seoAi"},{default:c((()=>[n("span",R,m(e.$t("Instant Indexing")),1)])),_:1})])),_:1},8,["modelValue"])]),n("div",_,[n("div",M,[d(U,{modelValue:e.tabAll,"onUpdate:modelValue":t[12]||(t[12]=t=>e.tabAll=t)},{default:c((()=>[d($,{key:"seoSitemapItem",value:"seoSitemap"},{default:c((()=>[d(j,{class:"mx-auto"},{default:c((()=>[d(s,null,{default:c((()=>[n("h3",null,m(e.$t("General")),1),b])),_:1})])),_:1})])),_:1}),d($,{key:"seoRedirectItem",value:"seoRedirect"},{default:c((()=>[d(j,{class:"mx-auto"},{default:c((()=>[d(s,null,{default:c((()=>[d(i,{modelValue:e.tabSeoRedirect,"onUpdate:modelValue":t[3]||(t[3]=t=>e.tabSeoRedirect=t),class:"mainTabPanel"},{default:c((()=>[d(o,{value:"seoMonitors"},{default:c((()=>[n("span",k,m(e.$t("404 Monitors")),1)])),_:1}),d(o,{value:"seoRedirections",onClick:t[2]||(t[2]=t=>e.getRedirect())},{default:c((()=>[n("span",L,m(e.$t("301 Redirections")),1)])),_:1}),d(o,{value:"seoSetting"},{default:c((()=>[n("span",S,m(e.$t("Setting")),1)])),_:1})])),_:1},8,["modelValue"]),d(U,{modelValue:e.tabSeoRedirect,"onUpdate:modelValue":t[11]||(t[11]=t=>e.tabSeoRedirect=t)},{default:c((()=>[d($,{key:"seoMonitorsItem",value:"seoMonitors"},{default:c((()=>[e.seoMonitor?(r(),a("div",w,[n("div",A,[d(C,{headers:e.seoMonitorHeaders,list:e.seoMonitorFields,"onUpdate:headers":t[4]||(t[4]=t=>e.seoMonitorHeaders=t)},null,8,["headers","list"]),d(E,{variant:"text",class:"","prepend-icon":"mdi-microsoft-excel",onClick:t[5]||(t[5]=t=>e.exportExcel("monitor"))},{default:c((()=>[p(m(e.$t("Export")),1)])),_:1}),d(E,{variant:"text",class:"","prepend-icon":"mdi-close",onClick:t[6]||(t[6]=t=>e.dialog=!0)},{default:c((()=>[p(m(e.$t("Clear log")),1)])),_:1})]),n("div",T,[d(H,{listing:e.seoMonitorListing,router:e.seoMonitorRouterList,"total-items":e.seoMonitorTotalItems,headers:e.seoMonitorHeaders,limit:e.seoMonitorLimit,fetchData:!0,multipleSelecte:!0,"onUpdate:data":t[7]||(t[7]=t=>e.seoMonitorListing=t),action:e.seoMonitorAction,selectedAction:e.seoMonitorSelectAction},null,8,["listing","router","total-items","headers","limit","action","selectedAction"])])])):u("",!0)])),_:1}),d($,{key:"seoRedirectionsItem",value:"seoRedirections"},{default:c((()=>[e.seoRedirect?(r(),a("div",V,[n("div",D,[d(C,{headers:e.seoRedirectHeaders,list:e.seoRedirectFields,"onUpdate:headers":t[8]||(t[8]=t=>e.seoRedirectHeaders=t)},null,8,["headers","list"]),d(E,{variant:"text",class:"","prepend-icon":"mdi-microsoft-excel",onClick:t[9]||(t[9]=t=>e.exportExcel("redirect"))},{default:c((()=>[p(m(e.$t("Export")),1)])),_:1})]),n("div",I,[d(H,{listing:e.seoRedirectListing,router:e.seoRedirectRouterList,"total-items":e.seoRedirectTotalItems,headers:e.seoRedirectHeaders,limit:e.seoRedirectLimit,fetchData:!0,multipleSelecte:!0,"onUpdate:data":t[10]||(t[10]=t=>e.seoRedirectListing=t),action:e.seoRedirectAction,selectedAction:e.seoRedirectSelectAction},null,8,["listing","router","total-items","headers","limit","action","selectedAction"])])])):u("",!0)])),_:1}),d($,{key:"seoSettingItem",value:"seoSetting"},{default:c((()=>[p(" 3 ")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),d($,{key:"seoAiItem",value:"seoAi"},{default:c((()=>[d(j,{class:"mx-auto"},{default:c((()=>[d(s,null,{default:c((()=>[p(" dfsghjhfghj ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])])]),e.dialog?(r(),f(B,{key:0,modelValue:e.dialog,"onUpdate:modelValue":t[15]||(t[15]=t=>e.dialog=t)},{default:c((()=>[d(j,null,{default:c((()=>[d(F,{color:"red-lighten-5",density:"compact"},{default:c((()=>[d(O,{text:"Delete",class:"text-red-darken-1"})])),_:1}),d(W,{class:"py-8"},{default:c((()=>[p(m(e.$t("Are you sure you want to delete?")),1)])),_:1}),d(P,{class:"justify-end"},{default:c((()=>[d(E,{color:"",variant:"text",onClick:t[13]||(t[13]=t=>e.dialog=!e.dialog)},{default:c((()=>[p(m(e.$t("Close")),1)])),_:1}),d(E,{variant:"elevated",color:"red",onClick:t[14]||(t[14]=t=>e.clearSeoMonitor())},{default:c((()=>[p(m(e.$t("Delete")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])):u("",!0)],64)}});export{C as default};
