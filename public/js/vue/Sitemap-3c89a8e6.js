import e from"./Layout-b42d48af.js";import{d as l}from"./vue-toast-notification-f2a3de7a.js";import{am as s,o as a,c as t,a as o,M as i,k as n,q as c,K as r,p as u,C as d,N as p}from"./@vue-9ee83fb6.js";import"./@vueuse-3c3b27e0.js";import"./unidecode-5a54da0f.js";import"./@ckeditor-fa9b3055.js";import"./vue-abe8eda6.js";const m={class:"mainAppWrapper d-flex flex-column"},f={class:"mainBarWrapper px-5 pt-3 flex-grow-0 flex-shrink-0"},h={class:"--text"},g={class:"mainContentWrapper detailContentWrapperflex-grow-1 flex-shrink-1 overflow-auto"},C={class:"detailFormWrapper pa-5 flex-grow-1 overflow-auto"},v=o("p",null,"Your sitemap index can be found here: https://panoee.com/sitemap_index.xml",-1),x={class:"detailFormWrapper pa-5 flex-grow-1 overflow-auto",style:{width:"300px"}},k=o("h4",null,"Sort by",-1),y={class:"detailFormWrapper pa-5 flex-grow-1 overflow-auto"},b=o("h3",null,"Select Data",-1),w=o("h4",null,"Object",-1),V=o("h4",null,"Document",-1),j={data:()=>({classConfig:[],classAll:!0,initClass:!0,documentAll:!1,documentConfig:[],sortByOption:[{title:"Published Data",value:"Published Data",key:"Published Data"}],sortBy:null,toast:l.useToast({position:"top-right",style:{zIndex:"200"}})}),mounted(){this.getClassConfig()},watch:{classAll(e,l){if(e){for(var s=0;s<this.classConfig.length;s++)this.classConfig[s].check=!0;this.initClass=!1}else if(!this.initClass)for(s=0;s<this.classConfig.length;s++)this.classConfig[s].check=!1},classConfig:{deep:!0,handler(){this.classAll=this.classConfig.every((e=>e.check)),this.initClass=!0}}},methods:{getClassConfig(e){let l=new FormData;if(e)for(var[s,a]of(l.append("update",e),Object.entries(this.classConfig)))a.check&&l.append("keys[]",a.key);fetch(route("seo_sitemap_config"),{method:"POST",body:l}).then((e=>{if(e.ok)return e.json();throw new Error("Lỗi xảy ra khi gửi yêu cầu.")})).then((l=>{this.classConfig=l.classConfig,this.documentConfig=l.documentConfig;for(var s=0;s<l.classConfig.length;s++)if(!l.classConfig[s].check){this.classAll=!1;break}e&&this.successMess("Update success!")})).catch((e=>{})).finally((()=>{}))},successMess(e){e&&setTimeout((()=>{this.toast.open({message:e,type:"success"})}),1e3)}}},A=Object.assign(j,{layout:e},{__name:"Sitemap",setup:e=>(e,l)=>{const j=s("v-card-item"),A=s("v-card"),S=s("Select"),_=s("v-checkbox"),W=s("v-btn");return a(),t("div",m,[o("div",f,[o("h1",h,i(e.$t("Sitemap")),1)]),o("div",g,[o("div",C,[n(A,{class:"mx-auto"},{default:c((()=>[n(j,null,{default:c((()=>[o("h3",null,i(e.$t("General")),1),v])),_:1})])),_:1})]),o("div",x,[k,n(S,{items:e.sortByOption,modelValue:e.sortBy,"onUpdate:modelValue":l[0]||(l[0]=l=>e.sortBy=l)},null,8,["items","modelValue"])]),o("div",y,[b,w,n(_,{modelValue:e.classAll,"onUpdate:modelValue":l[1]||(l[1]=l=>e.classAll=l),label:"All"},null,8,["modelValue"]),(a(!0),t(r,null,u(e.classConfig,((e,l)=>(a(),d(_,{label:e.name,modelValue:e.check,"onUpdate:modelValue":l=>e.check=l},null,8,["label","modelValue","onUpdate:modelValue"])))),256)),V,n(_,{modelValue:e.documentAll,"onUpdate:modelValue":l[2]||(l[2]=l=>e.documentAll=l),label:"All"},null,8,["modelValue"]),n(W,{"prepend-icon":"mdi-edit",onClick:l[3]||(l[3]=l=>e.getClassConfig(!0))},{default:c((()=>[p(i(e.$t("Save changes")),1)])),_:1})])])])}});export{A as default};
