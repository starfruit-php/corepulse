import{r as e,am as a,o as s,c as l,a as t,k as i,q as n,C as o,N as u,E as d,J as r}from"./@vue-9ee83fb6.js";import c from"./Layout-808b9c88.js";import{d as p}from"./vue-toast-notification-f2a3de7a.js";import"./@vueuse-3c3b27e0.js";import"./unidecode-5a54da0f.js";import"./@ckeditor-fa9b3055.js";import"./vue-abe8eda6.js";const m={class:"mainAppWrapper adminSettingWrapper d-flex flex-column"},f={class:"mainBarWrapper px-5 pt-3 flex-grow-0 flex-shrink-0"},h={class:"d-flex align-center"},b={class:"--left d-flex align-center"},v=t("div",{class:"d-flex flex-column me-4"},[t("h3",{class:"--objectTitle me-4"},"Plausible Setting")],-1),g=t("span",{class:"--text"},"License",-1),y=t("span",{class:"--text"},"Setup",-1),_=t("span",{class:"--text"},"Account Login",-1),w={class:"mainContentWrapper detailContentWrapper d-flex flex-column flex-grow-1 flex-shrink-1 overflow-hidden"},x={class:"detailFormWrapper pa-5 overflow-auto"},S=t("h3",null,"License Status",-1),V={class:"d-flex flex-column mt-2 mb-4"},j={class:"d-flex align-center justify-space-between mb-2"},k=t("span",null,"Current Plan",-1),C=t("div",{class:"d-flex align-center justify-space-between"},[t("span",null,"End of plan"),t("strong",null,"20th December 2023")],-1),I={class:"d-flex"},U=t("h3",null,"Setup",-1),K=t("h4",{class:"mb-2"},"Domain",-1),F=t("h4",{class:"mb-2"},"Site ID",-1),T=t("h4",{class:"mb-2"},"Api Key",-1),W={class:"--right"},A=t("h3",null,"Account",-1),D={class:"flex-column mt-2 mb-4"},P={class:"align-center justify-space-between mb-2"},L={class:"--formContent componentField-input"},O=t("label",null,"Username",-1),E={class:"align-center justify-space-between"},q={class:"--formContent componentField-input"},J=t("label",null,"Password",-1),N={class:"d-flex"},R={data(){return{shows:!1,loading:!1,domain:this.plausibleSetting?this.plausibleSetting.domain:"",apiKey:this.plausibleSetting?this.plausibleSetting.apiKey:"",siteId:this.plausibleSetting?this.plausibleSetting.siteId:"",username:this.plausibleSetting?this.plausibleSetting.username:"",password:this.plausibleSetting?this.plausibleSetting.password:"",toast:p.useToast({position:"top-right"})}},methods:{saveUser(){this.loading=!0;const e={username:this.username,password:this.password};this.$inertia.post(route("vuetify_plausible_account"),{user:e},{forceFormData:!0}),setTimeout((()=>{this.flash.success&&(this.toast.open({message:this.flash.success,type:"success"}),this.loading=!1);var e=this.flash.errors.key??"",a=this.flash.errors.message??this.flash.errors;this.flash.errors&&this.toast.open({message:e+" "+a,type:"error"})}),1e3)},onSubmit(){this.loading=!0;const e={domain:this.domain,siteId:this.siteId,apiKey:this.apiKey};this.$inertia.post(route("vuetify_plausible_setup"),e,{forceFormData:!0}),setTimeout((()=>{this.flash.success&&(this.toast.open({message:this.flash.success,type:"success"}),this.loading=!1);var e=this.flash.errors.key??"",a=this.flash.errors.message??this.flash.errors;this.flash.errors&&this.toast.open({message:e+" "+a,type:"error"})}),1e3)}}},Y=Object.assign(R,{layout:c},{__name:"Setting",props:{plausibleSetting:Object,flash:Object},setup(c){const p=e("tab-1"),R=()=>{window.open("https://plausible.panoee.com/share/sunsettown.com.vn?auth=xn6e7qRTREJbAKNOrcxYY","_blank")},Y=()=>{p.value="tab-3"};return(e,c)=>{const $=a("v-icon"),z=a("v-tab"),B=a("v-tabs"),G=a("v-card-title"),M=a("v-card-item"),H=a("v-chip"),Q=a("v-btn"),X=a("v-card-text"),Z=a("v-card"),ee=a("Input"),ae=a("v-col"),se=a("v-row"),le=a("v-text-field");return s(),l("div",m,[t("div",f,[t("div",h,[t("div",b,[i($,{icon:"mdi-cog-outline",class:"--objectIcon me-3"}),v])]),i(B,{modelValue:p.value,"onUpdate:modelValue":c[0]||(c[0]=e=>p.value=e),class:"mainTabPanel"},{default:n((()=>[i(z,{value:"tab-1"},{default:n((()=>[g])),_:1}),i(z,{value:"tab-3"},{default:n((()=>[y])),_:1}),i(z,{value:"tab-4"},{default:n((()=>[_])),_:1})])),_:1},8,["modelValue"])]),t("div",w,[t("div",x,["tab-1"===p.value?(s(),o(Z,{key:0,width:"320",class:"pa-3 mb-5"},{default:n((()=>[i(M,null,{default:n((()=>[i(G,null,{default:n((()=>[S])),_:1})])),_:1}),i(X,null,{default:n((()=>[t("div",V,[t("div",j,[k,i(H,{size:"small",color:"primary"},{default:n((()=>[u("Free")])),_:1})]),C]),t("div",I,[i(Q,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-open-in-new",onClick:R},{default:n((()=>[u(" Go to Plausible ")])),_:1}),"tab-3"!==p.value?(s(),o(Q,{key:0,variant:"tonal",class:"","prepend-icon":"mdi-cog-outline",onClick:Y},{default:n((()=>[u(" Configure ")])),_:1})):d("",!0)])])),_:1})])),_:1})):d("",!0),"tab-3"===p.value?(s(),o(Z,{key:1,class:"pa-3 mb-5"},{default:n((()=>[i(M,null,{default:n((()=>[i(G,null,{default:n((()=>[U])),_:1})])),_:1}),i(X,null,{default:n((()=>[i(se,null,{default:n((()=>[i(ae,{cols:"6"},{default:n((()=>[i(ae,{cols:"12"},{default:n((()=>[K,i(ee,{name:"domain",label:"",modelValue:e.domain,"onUpdate:modelValue":c[1]||(c[1]=a=>e.domain=a)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"12"},{default:n((()=>[F,i(ee,{name:"siteId",label:"",modelValue:e.siteId,"onUpdate:modelValue":c[2]||(c[2]=a=>e.siteId=a)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"12"},{default:n((()=>[T,i(ee,{name:"apiKey",label:"",modelValue:e.apiKey,"onUpdate:modelValue":c[3]||(c[3]=a=>e.apiKey=a)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"12"},{default:n((()=>[t("div",W,[i(Q,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-content-save",onClick:e.onSubmit,loading:e.loading},{default:n((()=>[u(" Save ")])),_:1},8,["onClick","loading"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):d("",!0),"tab-4"===p.value?(s(),o(Z,{key:2,width:"320",class:"pa-3 mb-5"},{default:n((()=>[i(M,null,{default:n((()=>[i(G,null,{default:n((()=>[A])),_:1})])),_:1}),i(X,null,{default:n((()=>[t("form",{onSubmit:c[7]||(c[7]=r(((...a)=>e.saveUser&&e.saveUser(...a)),["prevent"]))},[t("div",D,[t("div",P,[t("div",L,[O,i(le,{variant:"outlined",density:"compact","bg-color":"white",type:e.text,modelValue:e.username,"onUpdate:modelValue":c[4]||(c[4]=a=>e.username=a)},null,8,["type","modelValue"])])]),t("div",E,[t("div",q,[J,i(le,{variant:"outlined",density:"compact","bg-color":"white",modelValue:e.password,"onUpdate:modelValue":c[5]||(c[5]=a=>e.password=a),type:e.shows?"text":"password","append-inner-icon":e.shows?"mdi-eye":"mdi-eye-off","onClick:appendInner":c[6]||(c[6]=a=>e.shows=!e.shows)},null,8,["modelValue","type","append-inner-icon"])])])]),t("div",N,[i(Q,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-content-save",type:"submit",loading:e.loading},{default:n((()=>[u(" Save ")])),_:1},8,["loading"])])],32)])),_:1})])),_:1})):d("",!0)])])])}}});export{Y as default};
