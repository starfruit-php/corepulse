import e from"./Layout-064ecad1.js";import{r as l,o as s,h as a,f as t,t as o,a as n,w as i,d as c,F as r,l as u,c as d,k as f}from"./app-3e05614b.js";const h={class:"mainAppWrapper d-flex flex-column"},p={class:"mainBarWrapper px-5 pt-3 flex-grow-0 flex-shrink-0"},m={class:"--text"},g={class:"mainContentWrapper detailContentWrapperflex-grow-1 flex-shrink-1 overflow-auto"},C={class:"detailFormWrapper pa-5 flex-grow-1 overflow-auto"},k=["href"],v={class:"detailFormWrapper pa-5 flex-grow-1 overflow-auto"},b=t("h3",null,"Select Data",-1),x=t("h4",null,"Object",-1),w=t("h4",null,"Document",-1),y={data:()=>({classConfig:[],classAll:!0,initClass:!0,documentAll:!0,documentConfig:[],sortByOption:[{title:"Published Data",value:"Published Data",key:"Published Data"}],sortBy:null,toast:f.useToast({position:"top-right",style:{zIndex:"200"}}),url:window.location.protocol+"//"+window.location.hostname+"/sitemap.xml"}),mounted(){this.getClassConfig()},watch:{classAll(e,l){if(e){for(var s=0;s<this.classConfig.length;s++)this.classConfig[s].check=!0;this.initClass=!1}else if(!this.initClass)for(s=0;s<this.classConfig.length;s++)this.classConfig[s].check=!1},classConfig:{deep:!0,handler(){this.classAll=this.classConfig.every((e=>e.check)),this.initClass=!0}}},methods:{getClassConfig(e){let l=new FormData;if(e)for(var[s,a]of(l.append("update",e),Object.entries(this.classConfig)))a.check&&l.append("keys[]",a.key);fetch(route("seo_sitemap_config"),{method:"POST",body:l}).then((e=>{if(e.ok)return e.json();throw new Error("Lỗi xảy ra khi gửi yêu cầu.")})).then((l=>{this.classConfig=l.classConfig,this.documentConfig=l.documentConfig;for(var s=0;s<l.classConfig.length;s++)if(!l.classConfig[s].check){this.classAll=!1;break}e&&this.successMess("Update success!")})).catch((e=>{})).finally((()=>{}))},successMess(e){e&&setTimeout((()=>{this.toast.open({message:e,type:"success"})}),1e3)}}},A=Object.assign(y,{layout:e},{__name:"Sitemap",setup:e=>(e,f)=>{const y=l("v-card-item"),A=l("v-card"),V=l("v-checkbox"),_=l("v-btn");return s(),a("div",h,[t("div",p,[t("h1",m,o(e.$t("Sitemap")),1)]),t("div",g,[t("div",C,[n(A,{class:"mx-auto"},{default:i((()=>[n(y,null,{default:i((()=>[t("h3",null,o(e.$t("General")),1),t("p",null,[c("Your sitemap index can be found here: "),t("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},o(e.url),9,k)])])),_:1})])),_:1})]),t("div",v,[b,x,n(V,{modelValue:e.classAll,"onUpdate:modelValue":f[0]||(f[0]=l=>e.classAll=l),label:"All"},null,8,["modelValue"]),(s(!0),a(r,null,u(e.classConfig,((e,l)=>(s(),d(V,{label:e.name,modelValue:e.check,"onUpdate:modelValue":l=>e.check=l},null,8,["label","modelValue","onUpdate:modelValue"])))),256)),w,n(V,{disabled:"",modelValue:e.documentAll,"onUpdate:modelValue":f[1]||(f[1]=l=>e.documentAll=l),label:"All"},null,8,["modelValue"]),n(_,{"prepend-icon":"mdi-edit",onClick:f[2]||(f[2]=l=>e.getClassConfig(!0))},{default:i((()=>[c(o(e.$t("Save changes")),1)])),_:1})])])])}});export{A as default};
