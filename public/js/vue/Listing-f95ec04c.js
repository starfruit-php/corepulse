import e from"./Layout-b42d48af.js";import t from"./ModalEdit-b8767201.js";import i from"./ModalCreate-8329fac8.js";import{c as o,M as a}from"./app-4cb9c936.js";import{am as s,o as l,c as r,a as n,k as p,q as d,N as m,M as c,m as u}from"./@vue-9ee83fb6.js";import"./@vueuse-3c3b27e0.js";import"./unidecode-5a54da0f.js";import"./@ckeditor-fa9b3055.js";import"./vue-abe8eda6.js";import"./vue-toast-notification-f2a3de7a.js";import"./vue-draggable-next-3bc70602.js";import"./ckeditor5-custom-build-7f9f8982.js";import"./vue3-treeview-e35ab4eb.js";import"./vue-filepond-82332930.js";import"./filepond-136e7cc4.js";import"./filepond-plugin-image-preview-4f29f0b3.js";import"./filepond-plugin-file-validate-type-324437b8.js";import"./mapbox-gl-38e32bee.js";/* empty css             */import"./vuetify-193e6d04.js";import"./@inertiajs-d76518b1.js";import"./axios-3d65c6bd.js";import"./deepmerge-3a6ffb65.js";import"./side-channel-e57be611.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./call-bind-36d0f176.js";import"./set-function-length-801a4962.js";import"./define-data-property-daf1763a.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-61b1e1fb.js";import"./object-inspect-0fa0b9de.js";import"./nprogress-9c4c7d08.js";import"./lodash.clonedeep-c1370659.js";import"./lodash.isequal-feeae999.js";import"./@vuepic-f846cd73.js";import"./date-fns-421fcf3e.js";import"./@babel-0d6f2215.js";import"./element-plus-e3c76eb0.js";import"./lodash-es-fb3d0246.js";import"./@element-plus-283d896c.js";import"./@popperjs-2d1e819d.js";import"./@ctrl-91de2ec7.js";import"./dayjs-7398d4dd.js";import"./async-validator-8d480e59.js";import"./memoize-one-63ab667a.js";import"./escape-html-5c28ffbb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-24fcdcc4.js";import"./vue3-apexcharts-663397fa.js";import"./apexcharts-4d1d416c.js";import"./vue-i18n-d397f996.js";import"./@intlify-90b40ed7.js";const j={class:"mainAppWrapper d-flex flex-column"},f={class:"mainBarWrapper px-5 py-3 d-flex justify-space-between align-center flex-grow-0 flex-shrink-0"},h={class:"--left d-flex align-center"},g=n("div",{class:"d-flex flex-column me-4"},[n("h3",{class:"--objectTitle me-4"},"Translations")],-1),v={class:"--right"},x=n("div",{class:"utilityBarWrapper flex-grow-0 flex-shrink-0"},null,-1),b={class:"mainContentWrapper px-5 py-4 d-flex flex-column flex-grow-1 flex-shrink-1 overflow-hidden"},y={class:"tableListingWrapper d-flex flex-column flex-shrink-1 flex-grow-1 overflow-hidden"},w={name:"Object",data(){var e=window.location.href;let s=window.localStorage.getItem(e),l=[{title:this.$t("key"),align:"start",key:"id",sortable:!0,removable:!0}];var r={path:"translations_edit"};this.lang.map((e=>{l.push({title:this.$t(e),key:e,sortable:!0,removable:!0,url:r,component:"ModalEdit",handleEdit:!0,type:"textarea"})})),s?(s=JSON.parse(s),s.length!=l.length&&(s=l)):(s=l,window.localStorage.setItem(e,JSON.stringify(s)));var n=[];s.map((e=>{e.removable&&n.push(e)}));var p=[this.createAction("Sửa","mdi-pencil-outline","translations_edit",t,!1,!1,!1),this.createAction("Xóa","mdi-delete-outline","translations_delete",o,!0,!0,!1)],d=[{title:"Delete",icon:"mdi-delete-outline",url:{path:"translations_delete",data:{type:1},content:{title:"Delete",content:"Are you sure you want to delete all selected items",confirm:"Delete"}},component:a,post:!0,reload:!1}];let m=(new Date).getTime();return{ModalSelected:u(a),ModalDelete:u(o),ModalCreate:u(i),ModalEdit:u(t),dialog:!1,fav:!0,menu:!1,message:!1,hints:!0,enabled:!0,headers:n,list:s,selected:[],routerList:{router:route("translations_listing")},action:p,componentLoad:m,limit:25,selectedAction:d}},methods:{export(){this.$inertia.visit(route("export"))},import(){this.$inertia.visit(route("import"))},createAction:(e,t,i,o=!1,a=!0,s=!0,l=!0)=>({title:e,icon:t,url:i,component:o,multiple:a,post:s,reload:l}),exportExcel(){let e=new FormData;if(this.data){for(var[t,i]of Object.entries(this.data))e.append("data[]",JSON.stringify(i));var o=this.headers;e.append("fields",JSON.stringify(o)),this.loading=!0,fetch(route("vuetify_export_excel"),{method:"POST",body:e}).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e);console.log(t);const i=document.createElement("a");i.href=t,i.download="translations-listing.xlsx",i.click(),URL.revokeObjectURL(t)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))}}},watch:{componentLoad(){this.loadItems({page:1,itemsPerPage:this.limit})}}},k=Object.assign(w,{layout:e},{props:{data:Array,totalItems:{default:0},lang:{type:Object,default:[]},formData:{type:Object,default:[]}},setup:e=>(t,o)=>{const a=s("v-icon"),u=s("v-card"),w=s("v-dialog"),k=s("v-btn"),O=s("v-menu"),_=s("CustomField"),A=s("DataTableServer");return l(),r("div",j,[n("div",f,[n("div",h,[p(a,{icon:"mdi-translate",class:"--objectIcon me-3"}),g]),n("div",v,[p(O,{modelValue:t.menu,"onUpdate:modelValue":o[2]||(o[2]=e=>t.menu=e),"close-on-content-click":!1},{activator:d((({props:a})=>[p(k,{class:"btn-primary me-2",variant:"elevated","prepend-icon":"mdi-plus"},{default:d((()=>[m(" Add new "),p(w,{modelValue:t.dialog,"onUpdate:modelValue":o[1]||(o[1]=e=>t.dialog=e),activator:"parent",persistent:"",width:"420"},{default:d((()=>[p(u,null,{default:d((()=>[p(i,{formData:e.formData,url:"translations_create","onUpdate:dialog":o[0]||(o[0]=e=>t.dialog=e)},null,8,["formData"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),p(k,{variant:"text",class:"","prepend-icon":"mdi-microsoft-excel",onClick:t.exportExcel},{default:d((()=>[m(c(t.$t("Export")),1)])),_:1},8,["onClick"]),p(_,{headers:t.headers,list:t.list,"onUpdate:headers":o[3]||(o[3]=e=>t.headers=e)},null,8,["headers","list"])])]),x,n("div",b,[n("div",y,[p(A,{listing:e.data,router:t.routerList,"total-items":e.totalItems,headers:t.headers,action:t.action,limit:t.limit,selectedAction:t.selectedAction},null,8,["listing","router","total-items","headers","action","limit","selectedAction"])])])])}});export{k as default};
