import e from"./Layout-dfa4b0ea.js";import{r as t,o as a,h as l,f as i,a as o,w as s,F as r,l as d,c as n,t as c,i as m,z as u,d as p,x as g,M as f}from"./app-043f1e93.js";import h from"./ModalCreatePage-af50ca43.js";const v={class:"mainAppWrapper d-flex flex-column"},y={class:"mainBarWrapper px-5 py-3 d-flex justify-space-between align-center flex-grow-0 flex-shrink-0"},b={class:"--left d-flex align-center"},C={class:"d-flex flex-column me-4"},_=i("span",null,"Home",-1),k=i("span",{class:"--divider"},"·",-1),x=i("span",{class:"--divider"},"·",-1),P=i("h3",{class:"--objectTitle me-4"},"Document",-1),w={class:"--right"},A={class:"mainContentWrapper px-5 py-4 d-flex flex-column flex-grow-1 flex-shrink-1 overflow-hidden"},D={class:"tableListingWrapper d-flex flex-column flex-shrink-1 flex-grow-1 overflow-hidden"},j={props:{nameParent:Object},data(){var e=window.location.href;let t=window.localStorage.getItem(e);t?t=JSON.parse(t):(t=[{title:"ID",align:"start",key:"id",sortable:!1,removable:!0},{title:"Title",key:"name",removable:!0,handleClick:!0,url:"vuetify_doc_detail",doubleClickIcon:"mdi-plus",doubleClickUrl:"vuetify_doc_get_item_chill",doubleClick:!0},{title:"Type",key:"type",removable:!0},{title:"Status",key:"status",removable:!0,searchType:"Select",type:"status",options:[{value:"-1",key:"All"},{value:"1",key:"Publish"},{value:"0",key:"Draft"}]},{title:"Last Update",key:"modificationDate",removable:!0,searchType:"DatePicker"}],window.localStorage.setItem(e,JSON.stringify(t)));var a=[];t.map((e=>{e.removable&&a.push(e)}));var l=[this.createAction("xem","mdi-eye-outline","detail","vuetify_doc_detail",!1,!1,!1),this.createAction("xóa","mdi-delete-outline","delete","vuetify_doc_delete",g,!0)],i=[{title:"Delete",icon:"mdi-delete-outline",url:{path:"vuetify_doc_delete",content:{title:"Delete",content:"Are you sure you want to Delete all selected",confirm:"Delete"},data:{test:"1"}},component:f,post:!0,reload:!1}];const o=new URLSearchParams(window.location.search).get("folderId");var s=[];return o&&(s={folderId:o}),{isActive:!1,items:[{text:"Add Page",icon:"mdi-file-document-plus-outline"},{text:"Audience",icon:"mdi-account"},{text:"Conversions",icon:"mdi-flag"}],object:this.listing,page:1,itemsPerPage:15,headers:a,desserts:this.listing,confirmDeleteDialog:!1,list:t,routerList:{router:route("vuetify_doc_listing_email",s)},action:l,fav:!0,menu:!1,message:!1,hints:!0,titlePage:"",navigationPage:"",keyPage:"",dialogCreatePage:!1,selectedAction:i,typeCreate:"",folderId:o}},computed:{pageCount(){return Math.ceil(this.countData/this.itemsPerPage)}},methods:{createAction:(e,t,a,l,i=!1,o=!0,s=!0,r=!0)=>({title:e,icon:t,key:a,url:l,component:i,multiple:o,post:s,reload:r}),updateData(){console.log(this.titlePage),this.keyPage=this.titlePage,this.navigationPage=this.titlePage},openDialog(){this.isActive=!0},navigateToFolder(){this.$inertia.post("/cms/document/listing")},navigateToFolderChill(e){this.$inertia.post("/cms/document/listing?folderId="+e.id)},createEmail(){this.dialogCreatePage=!0,this.typeCreate="Email",this.menu=!1}}},I=Object.assign(j,{layout:e},{__name:"Email",props:{listing:[Object,Array],countData:Object,totalItems:Number,nameParent:Object,chips:[Object,Array],chipsColor:[Object,Array]},setup:e=>(g,f)=>{const j=t("v-icon"),I=t("v-breadcrumbs-item"),T=t("v-breadcrumbs"),O=t("v-btn"),S=t("v-list-item-title"),U=t("v-list-item"),F=t("v-list"),L=t("v-card"),V=t("v-menu"),E=t("v-dialog"),W=t("CustomField"),N=t("DataTableServer");return a(),l("div",v,[i("div",y,[i("div",b,[o(j,{icon:"mdi-file-document",class:"--objectIcon me-3"}),i("div",C,[o(T,{class:"breadcrumbWrapper pa-0"},{default:s((()=>[o(I,{class:"--itemBreadcrumb",disabled:!e.nameParent,onClick:g.navigateToFolder,title:"Home"},{default:s((()=>[_])),_:1},8,["disabled","onClick"]),k,(a(!0),l(r,null,d(e.nameParent,((e,t)=>(a(),l(r,{key:t},[e?(a(),n(I,{key:0,onClick:t=>g.navigateToFolderChill(e),class:"--itemBreadcrumb",disabled:e.end},{default:s((()=>[i("span",null,c(e.name),1)])),_:2},1032,["onClick","disabled"])):m("",!0),x],64)))),128))])),_:1}),P]),o(V,{modelValue:g.menu,"onUpdate:modelValue":f[1]||(f[1]=e=>g.menu=e),"close-on-content-click":!1},{activator:s((({props:e})=>[o(O,u({class:"btn-primary me-2",variant:"elevated","prepend-icon":"mdi-plus"},e),{default:s((()=>[p(" Add New ")])),_:2},1040)])),default:s((()=>[o(L,{"min-width":"150"},{default:s((()=>[o(F,null,{default:s((()=>[o(U,{onClick:f[0]||(f[0]=e=>g.createEmail())},{prepend:s((()=>[o(j,{icon:"mdi-email-outline"})])),default:s((()=>[o(S,null,{default:s((()=>[p("Add Email")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),o(E,{width:"500",modelValue:g.dialogCreatePage,"onUpdate:modelValue":f[3]||(f[3]=e=>g.dialogCreatePage=e)},{default:s((()=>[o(L,null,{default:s((()=>[o(h,{"onUpdate:dialog":f[2]||(f[2]=e=>g.dialogCreatePage=e),type:g.typeCreate,folderId:g.folderId},null,8,["type","folderId"])])),_:1})])),_:1},8,["modelValue"])]),i("div",w,[o(W,{headers:g.headers,list:g.list,"onUpdate:headers":f[4]||(f[4]=e=>g.headers=e)},null,8,["headers","list"])])]),i("div",A,[i("div",D,[o(N,{listing:e.listing,router:g.routerList,"total-items":e.totalItems,headers:g.headers,action:g.action,chips:e.chips,chipsColor:e.chipsColor,selectedAction:g.selectedAction},null,8,["listing","router","total-items","headers","action","chips","chipsColor","selectedAction"])])])])}});export{I as default};
