import{e,r as a,d as t,u as l,t as n,g as r,n as o,f as i,j as u,w as s,o as d,c,k as p,l as v,p as m,q as y,v as f,x as h,y as g,z as _,A as b,B as w,C as k,D,T as M,E as A,F as T,G as $,h as x,H as S,I as P,a as C,J as N,K as Y,L as O,M as R,N as I,O as V,P as B,Q as E,R as F,S as H}from"./@vue-9ee83fb6.js";import{g as U,a as z,b as L,e as j,d as K,f as W,i as q,c as Z,h as G,s as J,j as X,k as Q,l as ee,m as ae,n as te,o as le,p as ne,q as re,r as oe,t as ie,u as ue,v as se,w as de,x as ce,y as pe,z as ve,A as me,B as ye,C as fe,D as he,E as ge,F as _e,G as be,H as we,I as ke,J as De,K as Me,L as Ae,M as Te,N as $e,O as xe}from"./date-fns-421fcf3e.js";function Se(){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),C("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),C("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),C("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function Pe(){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),C("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function Ce(){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Ne(){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function Ye(){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),C("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Oe(){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Re(){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Se.compatConfig={MODE:3},Pe.compatConfig={MODE:3},Ce.compatConfig={MODE:3},Ne.compatConfig={MODE:3},Ye.compatConfig={MODE:3},Oe.compatConfig={MODE:3},Re.compatConfig={MODE:3};var Ve,Be={exports:{}};(Ve=Be).exports=function(e){return e&&e.__esModule?e:{default:e}},Ve.exports.__esModule=!0,Ve.exports.default=Ve.exports;var Ee=Be.exports,Fe={exports:{}};!function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){if(null===e||!0===e||!1===e)return NaN;var a=Number(e);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)},e.exports=a.default}(Fe,Fe.exports);const He=Ie(Fe.exports);var Ue={exports:{}};!function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return a.setUTCFullYear(e.getFullYear()),e.getTime()-a.getTime()},e.exports=a.default}(Ue,Ue.exports);const ze=Ie(Ue.exports);function Le(e,a){var t=function(e){if(!Ke[e]){var a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),t="06/25/2014, 00:00:00"===a||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===a;Ke[e]=t?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Ke[e]}(a);return t.formatToParts?function(e,a){try{for(var t=e.formatToParts(a),l=[],n=0;n<t.length;n++){var r=je[t[n].type];r>=0&&(l[r]=parseInt(t[n].value,10))}return l}catch(o){if(o instanceof RangeError)return[NaN];throw o}}(t,e):function(e,a){var t=e.format(a).replace(/\u200E/g,""),l=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[l[3],l[1],l[2],l[4],l[5],l[6]]}(t,e)}var je={year:0,month:1,day:2,hour:3,minute:4,second:5};var Ke={};function We(e,a,t,l,n,r,o){var i=new Date(0);return i.setUTCFullYear(e,a,t),i.setUTCHours(l,n,r,o),i}var qe=36e5,Ze=6e4,Ge={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Je(e,a,t){var l,n,r;if(""===e||(l=Ge.timezoneZ.exec(e)))return 0;if(l=Ge.timezoneHH.exec(e))return Qe(r=parseInt(l[1],10))?-r*qe:NaN;if(l=Ge.timezoneHHMM.exec(e)){r=parseInt(l[1],10);var o=parseInt(l[2],10);return Qe(r,o)?(n=Math.abs(r)*qe+o*Ze,r>0?-n:n):NaN}if(function(e){if(ea[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),ea[e]=!0,!0}catch{return!1}}(e)){a=new Date(a||Date.now());var i=t?a:function(e){return We(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(a),u=Xe(i,e),s=t?u:function(e,a,t){var l=e.getTime(),n=l-a,r=Xe(new Date(n),t);if(a===r)return a;n-=r-a;var o=Xe(new Date(n),t);return r===o?r:Math.max(r,o)}(a,u,e);return-s}return NaN}function Xe(e,a){var t=Le(e,a),l=We(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime(),n=e.getTime(),r=n%1e3;return l-(n-=r>=0?r:1e3+r)}function Qe(e,a){return-23<=e&&e<=23&&(null==a||0<=a&&a<=59)}var ea={};var aa=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ta=36e5,la=6e4,na=2,ra={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:aa};function oa(e,a){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var t=a||{},l=null==t.additionalDigits?na:He(t.additionalDigits);if(2!==l&&1!==l&&0!==l)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var n=function(e){var a,t={},l=ra.dateTimePattern.exec(e);if(l?(t.date=l[1],a=l[3]):(l=ra.datePattern.exec(e),l?(t.date=l[1],a=l[2]):(t.date=null,a=e)),a){var n=ra.timeZone.exec(a);n?(t.time=a.replace(n[1],""),t.timeZone=n[1].trim()):t.time=a}return t}(e),r=function(e,a){var t,l=ra.YYY[a],n=ra.YYYYY[a];if(t=ra.YYYY.exec(e)||n.exec(e),t){var r=t[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(t=ra.YY.exec(e)||l.exec(e),t){var o=t[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(n.date,l),o=r.year,i=function(e,a){if(null===a)return null;var t,l,n,r;if(0===e.length)return l=new Date(0),l.setUTCFullYear(a),l;if(t=ra.MM.exec(e),t)return l=new Date(0),n=parseInt(t[1],10)-1,ca(a,n)?(l.setUTCFullYear(a,n),l):new Date(NaN);if(t=ra.DDD.exec(e),t){l=new Date(0);var o=parseInt(t[1],10);return function(e,a){if(a<1)return!1;var t=da(e);return!(t&&a>366||!t&&a>365)}(a,o)?(l.setUTCFullYear(a,0,o),l):new Date(NaN)}if(t=ra.MMDD.exec(e),t){l=new Date(0),n=parseInt(t[1],10)-1;var i=parseInt(t[2],10);return ca(a,n,i)?(l.setUTCFullYear(a,n,i),l):new Date(NaN)}if(t=ra.Www.exec(e),t)return r=parseInt(t[1],10)-1,pa(a,r)?ia(a,r):new Date(NaN);if(t=ra.WwwD.exec(e),t){r=parseInt(t[1],10)-1;var u=parseInt(t[2],10)-1;return pa(a,r,u)?ia(a,r,u):new Date(NaN)}return null}(r.restDateString,o);if(isNaN(i))return new Date(NaN);if(i){var u,s=i.getTime(),d=0;if(n.time&&(d=function(e){var a,t,l;if(a=ra.HH.exec(e),a)return t=parseFloat(a[1].replace(",",".")),va(t)?t%24*ta:NaN;if(a=ra.HHMM.exec(e),a)return t=parseInt(a[1],10),l=parseFloat(a[2].replace(",",".")),va(t,l)?t%24*ta+l*la:NaN;if(a=ra.HHMMSS.exec(e),a){t=parseInt(a[1],10),l=parseInt(a[2],10);var n=parseFloat(a[3].replace(",","."));return va(t,l,n)?t%24*ta+l*la+1e3*n:NaN}return null}(n.time),isNaN(d)))return new Date(NaN);if(n.timeZone||t.timeZone){if(u=Je(n.timeZone||t.timeZone,new Date(s+d)),isNaN(u))return new Date(NaN)}else u=ze(new Date(s+d)),u=ze(new Date(s+d+u));return new Date(s+d+u)}return new Date(NaN)}function ia(e,a,t){a=a||0,t=t||0;var l=new Date(0);l.setUTCFullYear(e,0,4);var n=7*a+t+1-(l.getUTCDay()||7);return l.setUTCDate(l.getUTCDate()+n),l}var ua=[31,28,31,30,31,30,31,31,30,31,30,31],sa=[31,29,31,30,31,30,31,31,30,31,30,31];function da(e){return e%400==0||e%4==0&&e%100!=0}function ca(e,a,t){if(a<0||a>11)return!1;if(null!=t){if(t<1)return!1;var l=da(e);if(l&&t>sa[a]||!l&&t>ua[a])return!1}return!0}function pa(e,a,t){return!(a<0||a>52||null!=t&&(t<0||t>6))}function va(e,a,t){return!(null!=e&&(e<0||e>=25)||null!=a&&(a<0||a>=60)||null!=t&&(t<0||t>=60))}var ma={exports:{}},ya={exports:{}};!function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,a){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e},e.exports=a.default}(ya,ya.exports);var fa=ya.exports;!function(e,a){var t=Ee.default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){return(0,l.default)({},e)};var l=t(fa);e.exports=a.default}(ma,ma.exports);const ha=Ie(ma.exports);function ga(e){return a=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)}const _a=(e,a,t)=>{const l=[1,2,3,4,5,6,7];let n;if(null!==e)try{n=l.map(function(e){return a=>W(new Date(`2017-01-0${a}T00:00:00+00:00`),"EEEEEE",{locale:e})}(e))}catch{n=l.map(ga(a))}else n=l.map(ga(a));const r=n.slice(0,t),o=n.slice(t+1,n.length);return[n[t]].concat(...o).concat(...r)},ba=(e,a)=>{const t=[];for(let l=+e[0];l<=+e[1];l++)t.push({value:+l,text:`${l}`});return a?t.reverse():t},wa=(e,a,t)=>{const l=[1,2,3,4,5,6,7,8,9,10,11,12].map((e=>new Date(`2017-${e<10?`0${e}`:e}-01T00:00:00+00:00`)));if(null!==e)try{const a="long"===t?"MMMM":"MMM";return l.map(((t,l)=>{const n=W(t,a,{locale:e});return{text:n.charAt(0).toUpperCase()+n.substring(1),value:l}}))}catch{}const n=new Intl.DateTimeFormat(a,{month:t,timeZone:"UTC"});return l.map(((e,a)=>{const t=n.format(e);return{text:t.charAt(0).toUpperCase()+t.substring(1),value:a}}))},ka=e=>{const a=_(e);return null!=a&&a.$el?null==a?void 0:a.$el:a},Da=e=>!!Array.isArray(e)&&(!!e[0]&&!!e[1]),Ma=e=>`"${e}" prop must be enabled!`,Aa=e=>`You need to use array as "model-value" binding in order to support "${e}"`,Ta=e=>0===e?e:!e||isNaN(+e)?null:+e,$a=e=>null===e,xa=(e,a,t)=>{const l=t??0===t,n=a??0===a;if(!l&&!n)return!1;const r=+t,o=+a;return l&&n?+e>r||+e<o:l?+e>r:!!n&&+e<o},Sa=(e,a)=>(e=>{const a=[],t=e=>e.filter((e=>e));for(let l=0;l<e.length;l+=3){const n=[e[l],e[l+1],e[l+2]];a.push(t(n))}return a})(e).map((e=>e.map((e=>{const{active:t,disabled:l,isBetween:n,highlighted:r}=a(e);return{...e,active:t,disabled:l,className:{dp__overlay_cell_active:t,dp__overlay_cell:!t,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&t,dp__cell_in_between:n,"dp--highlighted":r}}})))),Pa=(e,a,t=!1)=>{e&&a.allowStopPropagation&&(t&&e.stopImmediatePropagation(),e.stopPropagation())},Ca=e=>{if(e.nextElementSibling)return e.nextElementSibling;for(;e.parentElement&&!e.parentElement.nextElementSibling;)e=e.parentElement;return e.parentElement?e.parentElement.nextElementSibling:null},Na=e=>{if(!e)return!1;const a=e.matches(["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])"].join(", ")),t=e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0;return a&&t},Ya=(e,a,t,l,n)=>{const r=fe(e,a.slice(0,e.length),new Date);return X(r)&&Ae(r)?l||n?r:J(r,{hours:+t.hours,minutes:+(null==t?void 0:t.minutes),seconds:+(null==t?void 0:t.seconds),milliseconds:0}):null},Oa=e=>e?new Date(e):new Date,Ra=e=>{let a=Oa(JSON.parse(JSON.stringify(e)));return a=pe(a,0),a=ve(a,0),a=me(a,0),a=ye(a,0),a},Ia=(e,a,t,l)=>{let n=e?Oa(e):Oa();return(a||0===a)&&(n=pe(n,+a)),(t||0===t)&&(n=ve(n,+t)),(l||0===l)&&(n=me(n,+l)),ye(n,0)},Va=(e,a)=>!(!e||!a)&&q(Ra(e),Ra(a)),Ba=(e,a)=>!(!e||!a)&&Z(Ra(e),Ra(a)),Ea=(e,a)=>!(!e||!a)&&G(Ra(e),Ra(a)),Fa=(e,a,t)=>null!=e&&e[0]&&null!=e&&e[1]?Ea(t,e[0])&&Va(t,e[1]):!(null==e||!e[0]||!a)&&(Ea(t,e[0])&&Va(t,a)||Va(t,e[0])&&Ea(t,a)),Ha=e=>{const a=J(new Date(e),{date:1});return Ra(a)},Ua=(e,a,t)=>a&&(t||0===t)?Object.fromEntries(["hours","minutes","seconds"].map((l=>l===a?[l,t]:[l,isNaN(+e[l])?void 0:+e[l]]))):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},za=e=>({hours:ae(e),minutes:te(e),seconds:le(e)}),La=(e,a)=>{if(a){const t=L(Oa(a));if(t>e)return 12;if(t===e)return U(Oa(a))}},ja=(e,a)=>{if(a){const t=L(Oa(a));return t<e?-1:t===e?U(Oa(a)):void 0}},Ka=e=>{if(e)return L(Oa(e))},Wa=(e,a)=>a?function(e,a,t){var l=oa(e,t),n=Je(a,l,!0),r=new Date(l.getTime()-n),o=new Date(0);return o.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),o.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),o}(e,a):e,qa=(e,a)=>a?function(e,a,t){if("string"==typeof e&&!e.match(aa)){var l=ha(t);return l.timeZone=a,oa(e,l)}var n=oa(e,t),r=We(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()).getTime(),o=Je(a,new Date(r));return new Date(r+o)}(e,a):e,Za=(e,a)=>{const t=Ea(e,a)?a:e,l=Ea(a,e)?a:e;return j({start:t,end:l})},Ga=e=>{const a=ne(e,1);return{month:U(a),year:L(a)}},Ja=(e,a,t)=>[ge(Wa(e,a),{weekStartsOn:+t}),Te(Wa(e,a),{weekStartsOn:+t})],Xa=(e,a)=>{const t={hours:ae(Oa()),minutes:te(Oa()),seconds:a?le(Oa()):0};return Object.assign(t,e)},Qa=(e,a,t)=>[J(Oa(e),{date:1}),J(Oa(),{month:a,year:t,date:1})],et=(e,a,t)=>{let l=e?Oa(e):Oa();return(a||0===a)&&(l=be(l,a)),t&&(l=Q(l,t)),l},at=(e,a,t,l,n)=>{if(!l||n&&!a||!n&&!t)return!1;const r=n?ne(e,1):he(e,1),o=[U(r),L(r)];return n?!lt(...o,a):!tt(...o,t)},tt=(e,a,t)=>Va(...Qa(t,e,a))||Ba(...Qa(t,e,a)),lt=(e,a,t)=>Ea(...Qa(t,e,a))||Ba(...Qa(t,e,a)),nt=(e,a,t,l,n,r,o)=>{if("function"==typeof a&&!o)return a(e);const i=t?{locale:t}:void 0;return Array.isArray(e)?`${W(e[0],r,i)}${n&&!e[1]?"":l}${e[1]?W(e[1],r,i):""}`:W(e,r,i)},rt=e=>{if(e)return null;throw new Error(Ma("partial-range"))},ot=(e,a)=>{if(a)return e();throw new Error(Ma("range"))},it=e=>Array.isArray(e)?X(e[0])&&(!e[1]||X(e[1])):!!e&&X(e),ut=(e,a,t,l)=>{if(!e)return!0;if(l){const l={seconds:0,milliseconds:0};return("max"===t?q(e,a):G(e,a))||Z(J(e,l),J(a,l))}return"max"===t?e.getTime()<=a.getTime():e.getTime()>=a.getTime()},st=(e,a,t)=>e?((e,a)=>J(a??Oa(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}))(e,a):Oa(t??a),dt=(e,a,t,l,n)=>{if(Array.isArray(l)){const r=st(e,l[0],a),o=st(e,l[1],a);return ut(l[0],r,t,!!a)&&ut(l[1],o,t,!!a)&&n}const r=st(e,l,a);return ut(l,r,t,!!a)&&n},ct=e=>J(Oa(),za(e)),pt=(e,a,t)=>"function"==typeof e?e({month:a,year:t}):!!e.months.find((e=>e.month===a&&e.year===t)),vt=(e,a)=>"function"==typeof e?e(a):e.years.includes(a),mt=e({menuFocused:!1,shiftKeyInMenu:!1}),yt=()=>({control:i((()=>({shiftKeyInMenu:mt.shiftKeyInMenu,menuFocused:mt.menuFocused}))),setMenuFocused:e=>{mt.menuFocused=e},setShiftKey:e=>{mt.shiftKeyInMenu!==e&&(mt.shiftKeyInMenu=e)}}),ft=e({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ht=a(null),gt=a(!1),_t=a(!1),bt=a(!1),wt=a(!1),kt=a(0),Dt=a(0),Mt=()=>{const e=i((()=>gt.value?[...ft.selectionGrid,ft.actionRow].filter((e=>e.length)):_t.value?[...ft.timePicker[0],...ft.timePicker[1],wt.value?[]:[ht.value],ft.actionRow].filter((e=>e.length)):bt.value?[...ft.monthPicker,ft.actionRow]:[ft.monthYear,...ft.calendar,ft.time,ft.actionRow].filter((e=>e.length)))),a=a=>{kt.value=a?kt.value+1:kt.value-1;let t=null;e.value[Dt.value]&&(t=e.value[Dt.value][kt.value]),t||(kt.value=a?kt.value-1:kt.value+1)},t=a=>{0===Dt.value&&!a||Dt.value===e.value.length&&a||(Dt.value=a?Dt.value+1:Dt.value-1,e.value[Dt.value]?e.value[Dt.value]&&!e.value[Dt.value][kt.value]&&0!==kt.value&&(kt.value=e.value[Dt.value].length-1):Dt.value=a?Dt.value-1:Dt.value+1)},l=a=>{let t=null;e.value[Dt.value]&&(t=e.value[Dt.value][kt.value]),t?t.focus({preventScroll:!gt.value}):kt.value=a?kt.value-1:kt.value+1},n=()=>{kt.value=0,Dt.value=0};return{buildMatrix:(e,a)=>{ft[a]=e},buildMultiLevelMatrix:(e,a)=>{ft[a]=e},setTimePickerBackRef:e=>{ht.value=e},setSelectionGrid:e=>{gt.value=e,n(),e||(ft.selectionGrid=[])},setTimePicker:(e,a=!1)=>{_t.value=e,wt.value=a,n(),e||(ft.timePicker[0]=[],ft.timePicker[1]=[])},setTimePickerElements:(e,a=0)=>{ft.timePicker[a]=e},arrowRight:()=>{a(!0),l(!0)},arrowLeft:()=>{a(!1),l(!1)},arrowUp:()=>{t(!1),l(!0)},arrowDown:()=>{t(!0),l(!0)},clearArrowNav:()=>{ft.monthYear=[],ft.calendar=[],ft.time=[],ft.actionRow=[],ft.selectionGrid=[],ft.timePicker[0]=[],ft.timePicker[1]=[],gt.value=!1,_t.value=!1,wt.value=!1,bt.value=!1,n(),ht.value=null},setMonthPicker:e=>{bt.value=e,n()},refSets:ft}},At=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),Tt=e=>e?"boolean"==typeof e?e?2:0:+e>=2?+e:2:0,$t=e=>{const a=()=>{const a=e.enableSeconds?":ss":"";return e.is24?`HH:mm${a}`:`hh:mm${a} aa`},t=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy",l=a=>Xa(a,e.enableSeconds),n=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[l(e.startTime[0]),l(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?l(e.startTime):null,r=i((()=>(e=>{const a="object"==typeof e&&e,t={static:!0,solo:!1};if(!e)return{...t,count:Tt(!1)};const l=a?e:{},n=a?l.count??!0:e,r=Tt(n);return Object.assign(t,l,{count:r})})(e.multiCalendars))),o=i((()=>n())),u=i((()=>(e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...e??{}}))(e.ariaLabels))),s=i((()=>(e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}))(e.filters))),d=i((()=>(e=>"boolean"==typeof e?!!e&&At({}):At(e))(e.transitions))),c=i((()=>(e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}))(e.actionRow))),p=i((()=>((e,a,t)=>e||("string"==typeof t?t:a))(e.previewFormat,e.format,t()))),v=i((()=>(e=>{const a={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return"object"==typeof e?{...a,...e??{},enabled:!0}:{...a,enabled:e}})(e.textInput))),m=i((()=>(e=>{const a={input:!1};return"object"==typeof e?{...a,...e??{},enabled:!0}:{enabled:e,...a}})(e.inline))),y=i((()=>(e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...e??{}}))(e.config))),f=i((()=>((e,a,t)=>{const l={dates:Array.isArray(e)?e.map((e=>Oa(e))):[],years:[],months:[],quarters:[],weeks:[],weekdays:a,options:{highlightDisabled:t}};return"function"==typeof e?e:{...l,...e??{}}})(e.highlight,e.highlightWeekDays,e.highlightDisabledDays))),h=i((()=>(e=>"object"==typeof e?{type:e.type,hideOnOffsetDates:e.hideOnOffsetDates??!1}:{type:e,hideOnOffsetDates:!1})(e.weekNumbers)));return{defaultedTransitions:d,defaultedMultiCalendars:r,defaultedStartTime:o,defaultedAriaLabels:u,defaultedFilters:s,defaultedActionRow:c,defaultedPreviewFormat:p,defaultedTextInput:v,defaultedInline:m,defaultedConfig:y,defaultedHighlight:f,defaultedWeekNumbers:h,getDefaultPattern:t,getDefaultStartTime:n}},xt=(e,t,l)=>{const r=a(),{defaultedTextInput:o,getDefaultPattern:i}=$t(t),u=a(""),d=n(t,"format");s(r,(()=>{e("internal-model-change",r.value)})),s(d,(()=>{w()}));const c=e=>qa(e,t.timezone),p=e=>Wa(e,t.timezone),v=(e,a,l=!1)=>nt(e,t.format,t.formatLocale,o.value.rangeSeparator,t.modelAuto,a??i(),l),m=e=>e?t.modelType?D(e):{hours:ae(e),minutes:te(e),seconds:t.enableSeconds?le(e):0}:null,y=e=>t.modelType?D(e):{month:U(e),year:L(e)},f=(e,a)=>"string"!=typeof e&&"number"!=typeof e||!t.modelType?a:k(e),h=()=>{const e=r.value;return[D(e[0]),e[1]?D(e[1]):rt(t.partialRange)]},g=()=>(Array.isArray(r.value)&&t.range&&1===r.value.length&&r.value.push(rt(t.partialRange)),t.modelAuto?r.value[1]?h():D(r.value[0]):t.multiDates?(r.value||[]).map((e=>D(e))):Array.isArray(r.value)?ot((()=>h()),t.range):D(r.value)),_=e=>!e||Array.isArray(e)&&!e.length?null:t.timePicker?(e=>Array.isArray(e)?[f(e[0],Ia(null,+e[0].hours,+e[0].minutes,e[0].seconds)),f(e[1],Ia(null,+e[1].hours,+e[1].minutes,e[1].seconds))]:f(e,Ia(null,e.hours,e.minutes,e.seconds)))(e):t.monthPicker?(e=>Array.isArray(e)?t.multiDates?e.map((e=>f(e,et(null,+e.month,+e.year)))):ot((()=>[f(e[0],et(null,+e[0].month,+e[0].year)),f(e[1],e[1]?et(null,+e[1].month,+e[1].year):rt(t.partialRange))]),t.range):f(e,et(null,+e.month,+e.year)))(e):t.yearPicker?(e=>Array.isArray(e)?t.multiDates?e.map((e=>f(e,Q(Oa(),e)))):ot((()=>[Q(Oa(),e[0]),e[1]?Q(Oa(),e[1]):rt(t.partialRange)]),t.range):Q(Oa(),+e))(e):t.multiDates?(e=>{if(Array.isArray(e))return e.map((e=>k(e)));throw new Error(Aa("multi-dates"))})(e):t.weekPicker?(e=>{if(Array.isArray(e))return[Oa(e[0]),Oa(e[1])];throw new Error(Aa("week-picker"))})(e):(e=>t.modelAuto?Array.isArray(e)?[k(e[0]),k(e[1])]:t.autoApply?[k(e)]:[k(e),null]:Array.isArray(e)?ot((()=>[k(e[0]),e[1]?k(e[1]):rt(t.partialRange)]),t.range):k(e))(e),b=()=>l.value&&r.value?Array.isArray(r.value)?(()=>{const e=e=>W(e,o.value.format);return`${e(r.value[0])} ${o.value.rangeSeparator} ${r.value[1]?e(r.value[1]):""}`})():W(r.value,o.value.format):v(r.value),w=()=>{!t.format||"string"==typeof t.format||o.value.enabled&&"string"==typeof o.value.format?u.value=r.value?t.multiDates?r.value.map((e=>v(e))).join("; "):o.value.enabled&&"string"==typeof o.value.format?b():v(r.value):"":u.value=t.format(r.value)},k=e=>{if(t.utc){const a=new Date(e);return"preserve"===t.utc?new Date(a.getTime()+6e4*a.getTimezoneOffset()):a}return t.modelType?"date"===t.modelType||"timestamp"===t.modelType?p(new Date(e)):"format"!==t.modelType||"string"!=typeof t.format&&t.format?p(fe(e,t.modelType,new Date)):fe(e,i(),new Date):p(new Date(e))},D=e=>e?t.utc?((e,a,t)=>{if(a){const a=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0"),n=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0"),o=t?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${a}-${l}T${n}:${r}:${o}.000Z`}const l=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(l).toISOString()})(e,"preserve"===t.utc,t.enableSeconds):t.modelType?"timestamp"===t.modelType?+c(e):"format"!==t.modelType||"string"!=typeof t.format&&t.format?v(c(e),t.modelType,!0):v(c(e)):c(e):"",M=(a,l=!1)=>{if(e("update:model-value",a),t.emitTimezone&&l){const l=Array.isArray(a)?a.map((e=>Wa(e)),t.emitTimezone):Wa(a,t.emitTimezone);e("update:model-timezone-value",l)}},A=e=>M((e=>Array.isArray(r.value)?t.multiDates?r.value.map((a=>e(a))):[e(r.value[0]),r.value[1]?e(r.value[1]):rt(t.partialRange)]:e(r.value))(e));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>!!r.value&&(t.range?t.partialRange?r.value.length>=1:2===r.value.length:!!r.value),parseExternalModelValue:e=>{const a=_(e);it(a)?(r.value=a,w()):(r.value=null,u.value="")},formatInputValue:w,emitModelValue:()=>(w(),t.monthPicker?A(y):t.timePicker?A(m):t.yearPicker?A(L):t.weekPicker?M(r.value.map((e=>D(e))),!0):M(g(),!0))}};var St=(e=>(e.center="center",e.left="left",e.right="right",e))(St||{}),Pt=(e=>(e.month="month",e.year="year",e))(Pt||{}),Ct=(e=>(e.top="top",e.bottom="bottom",e))(Ct||{}),Nt=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Nt||{}),Yt=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Yt||{});const Ot=({menuRef:e,menuRefInner:t,inputRef:l,pickerWrapperRef:r,inline:o,emit:i,props:u,slots:d})=>{const c=a({}),p=a(!1),v=a({top:"0",left:"0"}),m=a(!1),y=n(u,"teleportCenter");s(y,(()=>{v.value=JSON.parse(JSON.stringify({})),b()}));const f=(e,a)=>{v.value.left=e+a-c.value.width+"px"},h=e=>{v.value.left=`${e}px`},g=(e,a)=>{u.position===St.left&&h(e),u.position===St.right&&f(e,a),u.position===St.center&&(v.value.left=e+a/2-c.value.width/2+"px")},_=e=>{const{width:a,height:t}=e.getBoundingClientRect(),{top:l,left:n}=u.altPosition?u.altPosition(e):(e=>{if(u.teleport){const a=e.getBoundingClientRect();return{left:a.left+window.scrollX,top:a.top+window.scrollY}}return{top:0,left:0}})(e);return{top:+l,left:+n,width:a,height:t}},b=(a=!0)=>{var n;if(!o.value.enabled){if(y.value)return v.value.left="50%",v.value.top="50%",v.value.transform="translate(-50%, -50%)",v.value.position="fixed",void delete v.value.opacity;if(null!==u.altPosition)return(()=>{const e=ka(l),{top:a,left:t,transform:n}=u.altPosition(e);v.value={top:`${a}px`,left:`${t}px`,transform:n??""}})();if(a){const a=u.teleport?null==(n=t.value)?void 0:n.$el:e.value;a&&(c.value=a.getBoundingClientRect()),i("recalculate-position")}return A()}},w=({inputEl:e,left:a,width:t})=>{window.screen.width>768&&!p.value&&g(a,t),D(e)},k=e=>{const{top:a,left:t,height:l,width:n}=_(e);v.value.top=`${l+a+ +u.offset}px`,m.value=!1,p.value||(v.value.left=t+n/2-c.value.width/2+"px"),w({inputEl:e,left:t,width:n})},D=e=>{if(u.autoPosition){const{left:a,width:t}=_(e),{left:l,right:n}=c.value;if(!p.value){if(Math.abs(l)!==Math.abs(n)){if(l<=0)return p.value=!0,h(a);if(n>=document.documentElement.clientWidth)return p.value=!0,f(a,t)}return g(a,t)}}},M=e=>(()=>{const e=ka(l);if(e){const{height:a}=c.value,{top:t,height:l}=e.getBoundingClientRect(),n=window.innerHeight-t-l,r=t;return a<=n?Ct.bottom:a>n&&a<=r?Ct.top:n>=r?Ct.bottom:Ct.top}return Ct.bottom})()===Ct.bottom?k(e):(e=>{const{top:a,left:t,width:l}=_(e);v.value.top=a-+u.offset-c.value.height+"px",m.value=!0,w({inputEl:e,left:t,width:l})})(e),A=()=>{const e=ka(l);if(e)return u.autoPosition?M(e):k(e)},T=function(e){return e&&e!==document.body&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?function(e){if(e){const a=e.scrollHeight>e.clientHeight,t=-1!==window.getComputedStyle(e).overflowY.indexOf("hidden");return a&&!t}return!0}(e)?e:T(e.parentNode):window};return{openOnTop:m,menuStyle:v,xCorrect:p,setMenuPosition:b,getScrollableParent:T,shadowRender:(e,a)=>{var t,n,o;const i=document.createElement("div"),s=null==(t=ka(l))?void 0:t.getBoundingClientRect();i.setAttribute("id","dp--temp-container");const p=null!=(n=r.value)&&n.clientWidth?r.value:document.body;p.append(i);const v=(e=>{if(e)switch(u.position){case St.left:return{left:0,transform:"translateX(0)"};case St.right:return{left:`${e.width}px`,transform:"translateX(-100%)"};default:return{left:e.width/2+"px",transform:"translateX(-50%)"}}return{}})(s),m=x(e,{...a,shadow:!0,style:{opacity:0,position:"absolute",...v}},Object.fromEntries(Object.keys(d).filter((e=>["right-sidebar","left-sidebar"].includes(e))).map((e=>[e,d[e]]))));S(m,i),c.value=null==(o=m.el)?void 0:o.getBoundingClientRect(),S(null,i),p.removeChild(i)}}},Rt=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],It=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Vt={all:()=>Rt,monthYear:()=>Rt.filter((e=>e.use.includes("month-year"))),input:()=>It,timePicker:()=>Rt.filter((e=>e.use.includes("time"))),action:()=>Rt.filter((e=>e.use.includes("action"))),calendar:()=>Rt.filter((e=>e.use.includes("calendar"))),menu:()=>Rt.filter((e=>e.use.includes("menu"))),shared:()=>Rt.filter((e=>e.use.includes("shared"))),yearMode:()=>Rt.filter((e=>e.use.includes("year-mode")))},Bt=(e,a,t)=>{const l=[];return Vt[a]().forEach((a=>{e[a.name]&&l.push(a.name)})),null!=t&&t.length&&t.forEach((e=>{e.slot&&l.push(e.slot)})),l},Et=e=>{const a=i((()=>a=>e.value?a?e.value.open:e.value.close:"")),t=i((()=>a=>e.value?a?e.value.menuAppearTop:e.value.menuAppearBottom:""));return{transitionName:a,showTransition:!!e.value,menuTransition:t}},Ft=(t,l)=>{const n=Oa(Wa(new Date,t.timezone)),r=a([{month:U(n),year:L(n)}]),o=e({hours:t.range?[ae(n),ae(n)]:ae(n),minutes:t.range?[te(n),te(n)]:te(n),seconds:t.range?[0,0]:0}),u=i({get:()=>t.internalModelValue,set:e=>{!t.readonly&&!t.disabled&&l("update:internal-model-value",e)}}),s=i((()=>e=>r.value[e]?r.value[e].month:0)),d=i((()=>e=>r.value[e]?r.value[e].year:0));return{calendars:r,time:o,modelValue:u,month:s,year:d}},Ht=(e,t)=>{const{defaultedMultiCalendars:l,defaultedHighlight:n}=$t(t),{isDisabled:r,matchDate:o}=Ut(t),i=a(null),u=a(Oa(Wa(new Date,t.timezone))),s=(a,l=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)&&2===e.value.length?!(t.hideOffsetDates&&!a.current)&&Ba(Oa(a.value),e.value[l?0:1]):!!t.range&&(((a,t)=>{const l=e.value&&Array.isArray(e.value)&&e.value?t?e.value[0]||null:e.value[1]:null;return Ba(Oa(a.value),l)})(a,l)&&(a=>{const t=Array.isArray(e.value)?e.value[0]:null;return!a||!Va(i.value??null,t)})(l)||Ba(a.value,Array.isArray(e.value)?e.value[0]:null)&&(a=>!(Array.isArray(e.value)&&t.range&&e.value[0]&&i.value)||(a?Ea(i.value,e.value[0]):Va(i.value,e.value[0])))(l)),d=(a,t,l)=>!(!Array.isArray(e.value)||!e.value[0]||1!==e.value.length)&&(!a&&(l?Ea(e.value[0],t.value):Va(e.value[0],t.value))),c=a=>!(!e.value||t.hideOffsetDates&&!a.current)&&(t.range?!(!t.modelAuto||!Array.isArray(e.value))&&Ba(a.value,e.value[0]?e.value[0]:u.value):t.multiDates&&Array.isArray(e.value)?e.value.some((e=>Ba(e,a.value))):Ba(a.value,e.value?e.value:u.value)),p=e=>{if(t.autoRange||t.weekPicker){if(i.value){if(t.hideOffsetDates&&!e.current)return!1;const a=Me(i.value,+t.autoRange),l=Ja(Oa(i.value),t.timezone,t.weekStart);return t.weekPicker?Ba(l[1],Oa(e.value)):Ba(a,Oa(e.value))}return!1}return!1},v=e=>{if(t.autoRange||t.weekPicker){if(i.value){const a=Me(i.value,+t.autoRange);if(t.hideOffsetDates&&!e.current)return!1;const l=Ja(Oa(i.value),t.timezone,t.weekStart);return t.weekPicker?Ea(e.value,l[0])&&Va(e.value,l[1]):Ea(e.value,i.value)&&Va(e.value,a)}return!1}return!1},m=e=>{if(t.autoRange||t.weekPicker){if(i.value){if(t.hideOffsetDates&&!e.current)return!1;const a=Ja(Oa(i.value),t.timezone,t.weekStart);return t.weekPicker?Ba(a[0],e.value):Ba(i.value,e.value)}return!1}return!1},y=()=>!t.modelAuto||Da(t.internalModelValue),f=a=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const l=!t.range||!s(a)&&!s(a,!1);return!r(a.value)&&!c(a)&&!(!a.current&&t.hideOffsetDates)&&l},h=e=>t.range?!!t.modelAuto&&(!(!t.modelAuto||!Array.isArray(t.internalModelValue)||!t.internalModelValue[0])&&c(e)):c(e),g=e=>{var a;return!!n.value&&("function"==typeof n.value?n.value(e.value):o(e.value,null!=(a=t.arrMapValues)&&a.highlightedDates?t.arrMapValues.highlightedDates:n.value.dates))},_=e=>{const a=r(e.value);return a&&("function"==typeof n.value?!n.value(e.value,a):!n.value.options.highlightDisabled)},b=e=>{var a;return"function"==typeof n.value?n.value(e.value):null==(a=n.value.weekdays)?void 0:a.includes(e.value.getDay())},w=a=>!(!t.range&&!t.weekPicker||l.value.count>0&&!a.current||!y()||!a.current&&t.hideOffsetDates||c(a))&&(a=>Fa(e.value,i.value,a.value))(a),k=e=>{const{isRangeStart:a,isRangeEnd:l}=M(e),n=!!t.range&&(a||l);return{dp__cell_offset:!e.current,dp__pointer:!(t.disabled||!e.current&&t.hideOffsetDates||r(e.value)),dp__cell_disabled:r(e.value),dp__cell_highlight:!_(e)&&(g(e)||b(e))&&!h(e)&&!n&&!m(e)&&!(w(e)&&t.weekPicker)&&!l,dp__cell_highlight_active:!_(e)&&(g(e)||b(e))&&h(e),dp__today:!t.noToday&&Ba(e.value,u.value)&&e.current}},D=e=>({dp__active_date:h(e),dp__date_hover:f(e)}),M=e=>({isRangeStart:l.value.count>0?e.current&&s(e)&&y():s(e)&&y(),isRangeEnd:l.value.count>0?e.current&&s(e,!1)&&y():s(e,!1)&&y()}),A=e=>{const{isRangeStart:a,isRangeEnd:l}=M(e);return{dp__range_start:a,dp__range_end:l,dp__range_between:w(e)&&!t.weekPicker,dp__date_hover_start:d(f(e),e,!0),dp__date_hover_end:d(f(e),e,!1)}},T=e=>({...A(e),dp__cell_auto_range:v(e),dp__cell_auto_range_start:m(e),dp__cell_auto_range_end:p(e)}),$=e=>t.range?t.autoRange?T(e):t.modelAuto?{...D(e),...A(e)}:A(e):t.weekPicker?(e=>({...A(e),...T(e),dp__range_between_week:w(e)&&t.weekPicker}))(e):D(e);return{setHoverDate:e=>{!e.current&&t.hideOffsetDates||(i.value=e.value)},clearHoverDate:()=>{i.value=null},getDayClassData:e=>t.hideOffsetDates&&!e.current?{}:{...k(e),...$(e),[t.dayClass?t.dayClass(e.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName}}},Ut=e=>{const{defaultedFilters:a,defaultedHighlight:t}=$t(e),l=()=>e.timezone?e.timezone:e.utc?"UTC":void 0,n=e=>{const a=Ra(r(Oa(e))).toISOString(),[t]=a.split("T");return t},r=a=>"preserve"===e.utc?qa(a,l()):Wa(a,l()),o=t=>{var l;const n=!!e.maxDate&&Ea(t,r(Oa(e.maxDate))),o=!!e.minDate&&Va(t,r(Oa(e.minDate))),i=s(r(t),null!=(l=e.arrMapValues)&&l.disabledDates?e.arrMapValues.disabledDates:e.disabledDates),u=a.value.months.map((e=>+e)).includes(U(t)),c=!!e.disabledWeekDays.length&&e.disabledWeekDays.some((e=>+e===z(t))),p=d(t),v=L(t),m=v<+e.yearRange[0]||v>+e.yearRange[1];return!(n||o||i||u||m||c||p)},i=(a,t)=>Va(...Qa(e.minDate,a,t))||Ba(...Qa(e.minDate,a,t)),u=(a,t)=>Ea(...Qa(e.maxDate,a,t))||Ba(...Qa(e.maxDate,a,t)),s=(e,a)=>!e||(a instanceof Map?!!a.get(n(e)):Array.isArray(a)?a.some((a=>Ba(r(Oa(a)),e))):!!a&&a(Oa(JSON.parse(JSON.stringify(e))))),d=a=>{var t,l,n,o,i;return!(!Array.isArray(e.allowedDates)||null!=(t=e.allowedDates)&&t.length)||(null!=(l=e.arrMapValues)&&l.allowedDates?!s(a,null==(n=e.arrMapValues)?void 0:n.allowedDates):!(null==(o=e.allowedDates)||!o.length)&&!(null!=(i=e.allowedDates)&&i.some((e=>Ba(r(Oa(e)),r(a))))))},c=e=>!o(e),p=e=>new Map(e.map((e=>[n(e),!0]))),v=e=>Array.isArray(e)&&e.length>0,m=(e,a,t)=>e.find((e=>+e.hours===ae(a)&&"*"===e.minutes||+e.minutes===te(a)&&+e.hours===ae(a)))&&t,y=(a,t)=>{const l=Array.isArray(t)?t:[t];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?((e,a,t)=>{const[l,n]=e,[r,o]=a;return!m(l,r,t)&&!m(n,o,t)&&t})(e.disabledTimes,l,a):!l.some((t=>m(e.disabledTimes,t,a))):a},f=(a,t)=>e.disabledTimes?Array.isArray(e.disabledTimes)?y(t,a):((a,t)=>{const l=Array.isArray(t)?[za(t[0]),t[1]?za(t[1]):void 0]:za(t),n=!e.disabledTimes(l);return a&&n})(t,a):t;return{isDisabled:c,validateDate:o,validateMonthYearInRange:(a,t,l,n)=>{let r=!1;return n?e.minDate&&e.maxDate?r=((a,t,l)=>{let n=!1;return e.maxDate&&l&&u(a,t)&&(n=!0),e.minDate&&!l&&i(a,t)&&(n=!0),n})(a,t,l):(e.minDate&&i(a,t)||e.maxDate&&u(a,t))&&(r=!0):r=!0,r},isDateRangeAllowed:a=>!e.noDisabledRange||!j({start:a[0],end:a[1]}).some((e=>c(e))),checkMinMaxRange:(a,t,l=0)=>{if(Array.isArray(t)&&t[l]){const n=K(a,t[l]),r=Za(t[l],a),o=1===r.length?0:r.filter((e=>c(e))).length,i=Math.abs(n)-o;if(e.minRange&&e.maxRange)return i>=+e.minRange&&i<=+e.maxRange;if(e.minRange)return i>=+e.minRange;if(e.maxRange)return i<=+e.maxRange}return!0},matchDate:s,mapDatesArrToMap:()=>{const a={disabledDates:null,allowedDates:null,highlightedDates:null};return v(e.allowedDates)&&(a.allowedDates=p(e.allowedDates)),"function"!=typeof t.value&&v(t.value.dates)&&(a.highlightedDates=p(t.value.dates)),v(e.disabledDates)&&(a.disabledDates=p(e.disabledDates)),a},isValidTime:a=>{let t=!0;if(!a||!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation)return!0;const l=e.minDate||e.maxDate?a:(e=>Array.isArray(e)?[e[0]?ct(e[0]):null,e[1]?ct(e[1]):null]:ct(e))(a);return(e.maxTime||e.maxDate)&&(t=dt(e.maxTime,e.maxDate,"max",l,t)),(e.minTime||e.minDate)&&(t=dt(e.minTime,e.minDate,"min",l,t)),f(a,t)}}},zt=()=>({hideNavigationButtons:i((()=>(e,a)=>null==e?void 0:e.includes(a))),showLeftIcon:i((()=>(e,a)=>!e.count||(!!e.solo||0===a))),showRightIcon:i((()=>(e,a)=>!e.count||(!!e.solo||a===e.count-1)))}),Lt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},jt={...Lt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},Kt={key:1,class:"dp__input_wrap"},Wt=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],qt={key:2,class:"dp__clear_icon"},Zt=t({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Lt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:t,emit:l}){const n=l,r=e,{defaultedTextInput:o,defaultedAriaLabels:u,defaultedInline:s,defaultedConfig:p,getDefaultPattern:v,getDefaultStartTime:m}=$t(r),{checkMinMaxRange:y}=Ut(r),h=a(),g=a(null),b=a(!1),w=a(!1),D=i((()=>({dp__pointer:!r.disabled&&!r.readonly&&!o.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:!!r.state,dp__input_invalid:!1===r.state,dp__input_focus:b.value||r.isMenuOpen,dp__input_reg:!o.value.enabled,[r.inputClassName]:!!r.inputClassName}))),M=e=>{const a=m();return((e,a,t,l,n)=>{const r=Array.isArray(t)?t[0]:t;if("string"==typeof a)return Ya(e,a,r,l,n);if(Array.isArray(a)){let t=null;for(const o of a)if(t=Ya(e,o,r,l,n),t)break;return t}return"function"==typeof a?a(e):null})(e,o.value.format??v(),a??Xa({},r.enableSeconds),r.inputValue,w.value)},T=()=>{w.value=!0},x=e=>{if(r.range)(e=>{const{rangeSeparator:a}=o.value,[t,l]=e.split(`${a}`);if(t){const e=M(t.trim()),a=l?M(l.trim()):null,n=e&&a?[e,a]:[e];y(a,n,0)&&(h.value=e?n:null)}})(e);else if(r.multiDates){const a=e.split(";");h.value=a.map((e=>M(e.trim()))).filter((e=>e))}else h.value=M(e)},S=e=>{var a;const t="string"==typeof e?e:null==(a=e.target)?void 0:a.value;""!==t?(o.value.openMenu&&!r.isMenuOpen&&n("open"),x(t),n("set-input-date",h.value)):(n("set-input-date",null),r.autoApply&&(n("set-empty-date"),h.value=null)),w.value=!1,n("update:input-value",t)},Y=e=>{o.value.enabled?(x(e.target.value),o.value.enterSubmit&&it(h.value)&&""!==r.inputValue?(n("set-input-date",h.value,!0),h.value=null):o.value.enterSubmit&&""===r.inputValue&&(h.value=null,n("clear"))):I(e)},O=e=>{o.value.enabled&&o.value.tabSubmit&&x(e.target.value),o.value.tabSubmit&&it(h.value)&&""!==r.inputValue?(n("set-input-date",h.value,!0,!0),h.value=null):o.value.tabSubmit&&""===r.inputValue&&(h.value=null,n("clear",!0))},R=()=>{var e;b.value=!0,n("focus"),o.value.enabled&&o.value.selectOnFocus&&(null==(e=g.value)||e.select())},I=e=>{e.preventDefault(),Pa(e,p.value,!0),o.value.enabled&&o.value.openMenu&&!s.value.input&&!r.isMenuOpen?n("open"):o.value.enabled||n("toggle")},V=()=>{n("real-blur"),b.value=!1,(!r.isMenuOpen||s.value.enabled&&s.value.input)&&n("blur"),r.autoApply&&o.value.enabled&&h.value&&!r.isMenuOpen&&(n("set-input-date",h.value),n("select-date"),h.value=null)},B=e=>{Pa(e,p.value,!0),n("clear")},E=e=>{if(!o.value.enabled){if("Tab"===e.code)return;e.preventDefault()}};return t({focusInput:()=>{var e;null==(e=g.value)||e.focus({preventScroll:!0})},setParsedDate:e=>{h.value=e}}),(a,t)=>{var l;return d(),c("div",{onClick:I},[!a.$slots.trigger||a.$slots["dp-input"]||_(s).enabled?A("",!0):f(a.$slots,"trigger",{key:0}),a.$slots.trigger||_(s).enabled&&!_(s).input?A("",!0):(d(),c("div",Kt,[!a.$slots["dp-input"]||a.$slots.trigger||_(s).enabled?A("",!0):f(a.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:S,onEnter:Y,onTab:O,onClear:B,onBlur:V,onKeypress:E,onPaste:T}),a.$slots["dp-input"]?A("",!0):(d(),c("input",{key:1,id:a.uid?`dp-input-${a.uid}`:void 0,ref_key:"inputRef",ref:g,name:a.name,class:$(D.value),inputmode:_(o).enabled?"text":"none",placeholder:a.placeholder,disabled:a.disabled,readonly:a.readonly,required:a.required,value:e.inputValue,autocomplete:a.autocomplete,"aria-label":null==(l=_(u))?void 0:l.input,"aria-disabled":a.disabled||void 0,"aria-invalid":!1===a.state||void 0,onInput:S,onKeydown:[P(Y,["enter"]),P(O,["tab"]),E],onBlur:V,onFocus:R,onKeypress:E,onPaste:T},null,42,Wt)),C("div",{onClick:t[2]||(t[2]=e=>n("toggle"))},[a.$slots["input-icon"]&&!a.hideInputIcon?(d(),c("span",{key:0,class:"dp__input_icon",onClick:t[0]||(t[0]=e=>n("toggle"))},[f(a.$slots,"input-icon")])):A("",!0),a.$slots["input-icon"]||a.hideInputIcon||a.$slots["dp-input"]?A("",!0):(d(),k(_(Se),{key:1,class:"dp__input_icon dp__input_icons",onClick:t[1]||(t[1]=e=>n("toggle"))}))]),a.$slots["clear-icon"]&&e.inputValue&&a.clearable&&!a.disabled&&!a.readonly?(d(),c("span",qt,[f(a.$slots,"clear-icon",{clear:B})])):A("",!0),!a.clearable||a.$slots["clear-icon"]||!e.inputValue||a.disabled||a.readonly?A("",!0):(d(),k(_(Pe),{key:3,class:"dp__clear_icon dp__input_icons",onClick:t[3]||(t[3]=N((e=>B(e)),["prevent"]))}))]))])}}}),Gt=["title"],Jt={class:"dp__action_buttons"},Xt=["disabled","onKeydown"],Qt=t({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...jt},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const l=t,n=e,{defaultedActionRow:o,defaultedPreviewFormat:u,defaultedMultiCalendars:s,defaultedTextInput:p,defaultedInline:v,getDefaultPattern:m}=$t(n),{isValidTime:y}=Ut(n),{buildMatrix:g}=Mt(),w=a(null),k=a(null);r((()=>{n.arrowNavigation&&g([ka(w),ka(k)],"actionRow")}));const D=i((()=>!(n.range&&!n.partialRange&&n.internalModelValue)||2===n.internalModelValue.length)),M=i((()=>!T.value||!$.value||!D.value)),T=i((()=>!(n.enableTimePicker&&!n.ignoreTimeValidation)||y(n.internalModelValue))),$=i((()=>!n.monthPicker||(n.range&&Array.isArray(n.internalModelValue)?!n.internalModelValue.filter((e=>!V(e))).length:V(n.internalModelValue)))),x=e=>nt(e,u.value,n.formatLocale,p.value.rangeSeparator,n.modelAuto,m()),S=i((()=>n.internalModelValue&&n.menuMount?"string"==typeof u.value?Array.isArray(n.internalModelValue)?2===n.internalModelValue.length&&n.internalModelValue[1]?(()=>{const e=n.internalModelValue;return s.value.count>0?`${x(e[0])} - ${x(e[1])}`:[x(e[0]),x(e[1])]})():n.multiDates?n.internalModelValue.map((e=>`${x(e)}`)):n.modelAuto?`${x(n.internalModelValue[0])}`:`${x(n.internalModelValue[0])} -`:x(n.internalModelValue):(()=>{const e=u.value;return n.timePicker||n.monthPicker,e(n.internalModelValue)})():"")),N=i((()=>Array.isArray(S.value)?S.value.join(n.multiDates?"; ":" - "):S.value)),V=e=>{if(!n.monthPicker)return!0;let a=!0;const t=Oa(Ha(e));if(n.minDate&&n.maxDate){const e=Oa(Ha(n.minDate)),a=Oa(Ha(n.maxDate));return Ea(t,e)&&Va(t,a)||Ba(t,e)||Ba(t,a)}if(n.minDate){const e=Oa(Ha(n.minDate));a=Ea(t,e)||Ba(t,e)}if(n.maxDate){const e=Oa(Ha(n.maxDate));a=Va(t,e)||Ba(t,e)}return a},B=()=>{T.value&&$.value&&D.value?l("select-date"):l("invalid-select")};return(a,t)=>(d(),c("div",{class:"dp__action_row",style:O(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[a.$slots["action-row"]?f(a.$slots,"action-row",h(b({key:0},{internalModelValue:a.internalModelValue,disabled:M.value,selectDate:()=>a.$emit("select-date"),closePicker:()=>a.$emit("close-picker")}))):(d(),c(Y,{key:1},[_(o).showPreview?(d(),c("div",{key:0,class:"dp__selection_preview",title:N.value},[a.$slots["action-preview"]?f(a.$slots,"action-preview",{key:0,value:a.internalModelValue}):A("",!0),a.$slots["action-preview"]?A("",!0):(d(),c(Y,{key:1},[I(R(N.value),1)],64))],8,Gt)):A("",!0),C("div",Jt,[a.$slots["action-buttons"]?f(a.$slots,"action-buttons",{key:0,value:a.internalModelValue}):A("",!0),a.$slots["action-buttons"]?A("",!0):(d(),c(Y,{key:1},[!_(v).enabled&&_(o).showCancel?(d(),c("button",{key:0,ref_key:"cancelButtonRef",ref:w,type:"button",class:"dp__action_button dp__action_cancel",onClick:t[0]||(t[0]=e=>a.$emit("close-picker")),onKeydown:[t[1]||(t[1]=P((e=>a.$emit("close-picker")),["enter"])),t[2]||(t[2]=P((e=>a.$emit("close-picker")),["space"]))]},R(a.cancelText),545)):A("",!0),_(o).showNow?(d(),c("button",{key:1,ref_key:"cancelButtonRef",ref:w,type:"button",class:"dp__action_button dp__action_cancel",onClick:t[3]||(t[3]=e=>a.$emit("select-now")),onKeydown:[t[4]||(t[4]=P((e=>a.$emit("select-now")),["enter"])),t[5]||(t[5]=P((e=>a.$emit("select-now")),["space"]))]},R(a.nowButtonLabel),545)):A("",!0),_(o).showSelect?(d(),c("button",{key:2,ref_key:"selectButtonRef",ref:k,type:"button",class:"dp__action_button dp__action_select",disabled:M.value,onKeydown:[P(B,["enter"]),P(B,["space"])],onClick:B},R(a.selectText),41,Xt)):A("",!0)],64))])],64))],4))}}),el=["onKeydown"],al={class:"dp__selection_grid_header"},tl=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],ll=["aria-label","onKeydown"],nl=t({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:l}){const{setSelectionGrid:n,buildMultiLevelMatrix:p,setMonthPicker:v}=Mt(),y=l,h=e,{defaultedAriaLabels:g,defaultedTextInput:b,defaultedConfig:w}=$t(h),{hideNavigationButtons:k}=zt(),D=a(!1),M=a(null),T=a(null),x=a([]),S=a(),F=a(null),H=a(0),U=a(null);V((()=>{M.value=null})),r((()=>{o().then((()=>G())),h.noOverlayFocus||L(),z(!0)})),u((()=>z(!1)));const z=e=>{var a;h.arrowNavigation&&(null!=(a=h.headerRefs)&&a.length?v(e):n(e))},L=()=>{var e;const a=ka(T);a&&(b.value.enabled||(M.value?null==(e=M.value)||e.focus({preventScroll:!0}):a.focus({preventScroll:!0})),D.value=a.clientHeight<a.scrollHeight)},j=i((()=>({dp__overlay:!0,"dp--overlay-absolute":!h.useRelative,"dp--overlay-relative":h.useRelative}))),K=i((()=>h.useRelative?{height:`${h.height}px`,width:"260px"}:void 0)),W=i((()=>({dp__overlay_col:!0}))),q=i((()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:D.value,dp__button_bottom:h.isLast}))),Z=i((()=>{var e,a;return{dp__overlay_container:!0,dp__container_flex:(null==(e=h.items)?void 0:e.length)<=6,dp__container_block:(null==(a=h.items)?void 0:a.length)>6}}));s((()=>h.items),(()=>G()),{deep:!0});const G=()=>{o().then((()=>{const e=ka(M),a=ka(T),t=ka(F),l=ka(U),n=t?t.getBoundingClientRect().height:0;a&&(a.getBoundingClientRect().height?H.value=a.getBoundingClientRect().height-n:H.value=w.value.modeHeight-n),e&&l&&(l.scrollTop=e.offsetTop-l.offsetTop-(H.value/2-e.getBoundingClientRect().height)-n)}))},J=e=>{e.disabled||y("selected",e.value)},X=()=>{y("toggle"),y("reset-flow")},Q=()=>{h.escClose&&X()},ee=()=>{var e,a;const t=null!=(e=h.headerRefs)&&e.length?[h.headerRefs].concat(x.value):x.value.concat([h.skipButtonRef?[]:[F.value]]);p(t,null!=(a=h.headerRefs)&&a.length?"monthPicker":"selectionGrid")},ae=e=>{h.arrowNavigation||Pa(e,w.value,!0)};return t({focusGrid:L}),(e,a)=>{var t;return d(),c("div",{ref_key:"gridWrapRef",ref:T,class:$(j.value),style:O(K.value),role:"dialog",tabindex:"0",onKeydown:[P(N(Q,["prevent"]),["esc"]),a[0]||(a[0]=P(N((e=>ae(e)),["prevent"]),["left"])),a[1]||(a[1]=P(N((e=>ae(e)),["prevent"]),["up"])),a[2]||(a[2]=P(N((e=>ae(e)),["prevent"]),["down"])),a[3]||(a[3]=P(N((e=>ae(e)),["prevent"]),["right"]))]},[C("div",{ref_key:"containerRef",ref:U,class:$(Z.value),role:"grid",style:O({height:`${H.value}px`})},[C("div",al,[f(e.$slots,"header")]),e.$slots.overlay?f(e.$slots,"overlay",{key:0}):(d(!0),c(Y,{key:1},m(e.items,((a,t)=>(d(),c("div",{key:t,class:$(["dp__overlay_row",{dp__flex_row:e.items.length>=3}]),role:"row"},[(d(!0),c(Y,null,m(a,((a,l)=>(d(),c("div",{key:a.value,ref_for:!0,ref:e=>((e,a,t,l)=>{e&&((a.active||a.value===h.focusValue)&&(M.value=e),h.arrowNavigation&&(Array.isArray(x.value[t])?x.value[t][l]=e:x.value[t]=[e],ee()))})(e,a,t,l),role:"gridcell",class:$(W.value),"aria-selected":a.active,"aria-disabled":a.disabled||void 0,tabindex:"0",onClick:e=>J(a),onKeydown:[P(N((e=>J(a)),["prevent"]),["enter"]),P(N((e=>J(a)),["prevent"]),["space"])],onMouseover:e=>(e=>{S.value=e,y("hover-value",e)})(a.value)},[C("div",{class:$(a.className)},[e.$slots.item?f(e.$slots,"item",{key:0,item:a}):A("",!0),e.$slots.item?A("",!0):(d(),c(Y,{key:1},[I(R(a.text),1)],64))],2)],42,tl)))),128))],2)))),128))],6),e.$slots["button-icon"]?B((d(),c("button",{key:0,ref_key:"toggleButton",ref:F,type:"button","aria-label":null==(t=_(g))?void 0:t.toggleOverlay,class:$(q.value),tabindex:"0",onClick:X,onKeydown:[P(X,["enter"]),P(X,["tab"])]},[f(e.$slots,"button-icon")],42,ll)),[[E,!_(k)(e.hideNavigation,e.type)]]):A("",!0)],46,el)}}}),rl=t({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(e){const a=e,t=i((()=>a.multiCalendars>0?[...Array(a.multiCalendars).keys()]:[0])),l=i((()=>({dp__instance_calendar:a.multiCalendars>0})));return(e,a)=>(d(),c("div",{class:$({dp__menu_inner:!e.stretch,"dp--menu--inner-stretched":e.stretch,dp__flex_display:e.multiCalendars>0})},[(d(!0),c(Y,null,m(t.value,((a,t)=>(d(),c("div",{key:a,class:$(l.value)},[f(e.$slots,"default",{instance:a,index:t})],2)))),128))],2))}}),ol=["aria-label","aria-disabled"],il=t({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const l=t,n=a(null);return r((()=>l("set-ref",n))),(e,a)=>(d(),c("button",{ref_key:"elRef",ref:n,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":e.ariaLabel,"aria-disabled":e.disabled||void 0,onClick:a[0]||(a[0]=a=>e.$emit("activate")),onKeydown:[a[1]||(a[1]=P(N((a=>e.$emit("activate")),["prevent"]),["enter"])),a[2]||(a[2]=P(N((a=>e.$emit("activate")),["prevent"]),["space"]))]},[C("span",{class:$(["dp__inner_nav",{dp__inner_nav_disabled:e.disabled}])},[f(e.$slots,"default")],2)],40,ol))}}),ul={class:"dp--year-mode-picker"},sl=["aria-label"],dl=t({__name:"YearModePicker",props:{...jt,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:a}){const t=a,l=e,{showRightIcon:n,showLeftIcon:r}=zt(),{defaultedConfig:o,defaultedMultiCalendars:i,defaultedAriaLabels:u,defaultedTransitions:s}=$t(l),{showTransition:m,transitionName:h}=Et(s),g=(e=!1,a)=>{t("toggle-year-picker",{flow:e,show:a})},b=(e=!1)=>{t("handle-year",e)};return(a,l)=>{var s,w,D;return d(),c("div",ul,[_(r)(_(i),e.instance)?(d(),k(il,{key:0,ref:"mpPrevIconRef","aria-label":null==(s=_(u))?void 0:s.prevYear,disabled:e.isDisabled(!1),onActivate:l[0]||(l[0]=e=>b(!1))},{default:y((()=>[a.$slots["arrow-left"]?f(a.$slots,"arrow-left",{key:0}):A("",!0),a.$slots["arrow-left"]?A("",!0):(d(),k(_(Ce),{key:1}))])),_:3},8,["aria-label","disabled"])):A("",!0),C("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":null==(w=_(u))?void 0:w.openYearsOverlay,onClick:l[1]||(l[1]=()=>g(!1)),onKeydown:l[2]||(l[2]=P((()=>g(!1)),["enter"]))},[a.$slots.year?f(a.$slots,"year",{key:0,year:e.year}):A("",!0),a.$slots.year?A("",!0):(d(),c(Y,{key:1},[I(R(e.year),1)],64))],40,sl),_(n)(_(i),e.instance)?(d(),k(il,{key:1,ref:"mpNextIconRef","aria-label":null==(D=_(u))?void 0:D.nextYear,disabled:e.isDisabled(!0),onActivate:l[3]||(l[3]=e=>b(!0))},{default:y((()=>[a.$slots["arrow-right"]?f(a.$slots,"arrow-right",{key:0}):A("",!0),a.$slots["arrow-right"]?A("",!0):(d(),k(_(Ne),{key:1}))])),_:3},8,["aria-label","disabled"])):A("",!0),p(T,{name:_(h)(e.showYearPicker),css:_(m)},{default:y((()=>[e.showYearPicker?(d(),k(nl,{key:0,items:e.items,"text-input":a.textInput,"esc-close":a.escClose,config:a.config,"is-last":a.autoApply&&!_(o).keepActionRow,type:"year",onToggle:g,onSelected:l[4]||(l[4]=e=>(e=>{t("year-select",e)})(e))},v({"button-icon":y((()=>[a.$slots["calendar-icon"]?f(a.$slots,"calendar-icon",{key:0}):A("",!0),a.$slots["calendar-icon"]?A("",!0):(d(),k(_(Se),{key:1}))])),_:2},[a.$slots["year-overlay-value"]?{name:"item",fn:y((({item:e})=>[f(a.$slots,"year-overlay-value",{text:e.text,value:e.value})])),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last"])):A("",!0)])),_:3},8,["name","css"])])}}}),cl=(e,a,t)=>{if(a.value&&Array.isArray(a.value))if(a.value.some((a=>Ba(e,a)))){const t=a.value.filter((a=>!Ba(a,e)));a.value=t.length?t:null}else(t&&+t>a.value.length||!t)&&a.value.push(e);else a.value=[e]},pl=(e,a,t)=>{let l=e.value?e.value.slice():[];return 2===l.length&&null!==l[1]&&(l=[]),l.length?Va(a,l[0])?(l.unshift(a),t("range-start",l[0]),t("range-start",l[1])):(l[1]=a,t("range-end",a)):(l=[a],t("range-start",a)),e.value=l,l},vl=(e,a,t,l)=>{e[0]&&e[1]&&t&&a("auto-apply"),e[0]&&!e[1]&&l&&t&&a("auto-apply")},ml=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map((a=>Wa(Oa(a),e.timezone))):Array.isArray(e.value)||(e.modelValue.value=Wa(Oa(e.value),e.timezone))},yl=({multiCalendars:e,highlight:t,calendars:l,modelValue:n,props:o,year:u,month:s,emit:d})=>{const c=i((()=>ba(o.yearRange,o.reverseYears))),p=a([!1]),v=i((()=>(e,a)=>{const t=J(Ha(new Date),{month:s.value(e),year:u.value(e)});return at(t,o.maxDate,o.minDate,o.preventMinMaxNavigation,a)})),m=()=>{for(let a=0;a<e.value.count;a++)if(0===a)l.value[a]=l.value[0];else{const e=J(Oa(),l.value[a-1]);l.value[a]={month:U(e),year:L(we(e,1))}}},y=()=>{if(n.value){const e=Array.isArray(n.value)?(e=>o.focusStartDate?e[0]:e[1]?e[1]:e[0])(n.value):n.value;l.value[0]={month:U(e),year:L(e)}}};r((()=>{y(),e.value.count&&m()}));const f=(a,t)=>{l.value[t].year=a,e.value.count&&!e.value.solo&&(a=>{if(!a)return m();const t=J(Oa(),l.value[a]);l.value[0].year=L($e(t,e.value.count-1)),m()})(t)},h=i((()=>e=>Sa(c.value,(a=>({active:u.value(e)===a.value,disabled:xa(a.value,Ka(o.minDate),Ka(o.maxDate)),highlighted:vt(t.value,a.value)}))))),g=(e,a=!1,t)=>{a||d("reset-flow"),p.value[e]=void 0!==t?t:!p.value[e],p.value||d("overlay-closed")};return{isDisabled:v,groupedYears:h,showYearPicker:p,selectYear:f,toggleYearPicker:g,handleYearSelect:(e,a)=>{f(e,a),g(a)},handleYear:(e,a=!1)=>{if(!v.value(e,a)){const t=a?u.value(e)+1:u.value(e)-1;f(t,e)}}}},fl=(e,t)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:n,defaultedTransitions:o,defaultedConfig:u,defaultedHighlight:s}=$t(e),{modelValue:d,year:c,month:p,calendars:v}=Ft(e,t),m=i((()=>wa(e.formatLocale,e.locale,e.monthNameFormat))),y=a(null),{selectYear:f,groupedYears:h,showYearPicker:g,toggleYearPicker:_,handleYearSelect:b,handleYear:w,isDisabled:k}=yl({modelValue:d,multiCalendars:l,highlight:s,calendars:v,year:c,month:p,props:e,emit:t});r((()=>{e.startDate&&(d.value&&e.focusStartDate||!d.value)&&f(L(Oa(e.startDate)),0)}));const D=e=>e?{month:U(e),year:L(e)}:{month:null,year:null},M=()=>d.value?Array.isArray(d.value)?d.value.map((e=>D(e))):D(d.value):D(),A=(e,a,t)=>{var l,n;const r=M();return!!Array.isArray(r)&&(c.value(a)===(null==(l=r[t])?void 0:l.year)&&e===(null==(n=r[t])?void 0:n.month))},T=i((()=>a=>Sa(m.value,(t=>{const l=((e,a)=>{const t=v.value[e],l=M();return Array.isArray(l)?l.some((e=>e.year===(null==t?void 0:t.year)&&e.month===a)):(null==t?void 0:t.year)===l.year&&a===l.month})(a,t.value),n=xa(t.value,La(c.value(a),e.minDate),ja(c.value(a),e.maxDate))||((e,a)=>Array.isArray(e)?e.map((e=>Oa(e))).filter((e=>L(Oa(e))===a)).map((e=>U(e))):[])(e.disabledDates,c.value(a)).includes(t.value),r=((a,t)=>{if(e.range){const e=M();if(Array.isArray(d.value)&&Array.isArray(e)){const e=A(a,t,0)||A(a,t,1),l=et(Ha(Oa()),a,c.value(t));return Fa(d.value,y.value,l)&&!e}return!1}return!1})(t.value,a);return{active:l,disabled:n,isBetween:r,highlighted:pt(s.value,t.value,c.value(a))}})))),$=(e,a)=>et(Ha(Oa()),e,c.value(a)),x=(e,a,l)=>{let n=l;if(!n){const a=M();n=Array.isArray(a)?a[e].month:a.month}t("update-month-year",{instance:e,year:a,month:n})};return{groupedMonths:T,groupedYears:h,year:c,isDisabled:k,defaultedMultiCalendars:l,defaultedAriaLabels:n,defaultedTransitions:o,defaultedConfig:u,showYearPicker:g,modelValue:d,presetDate:(a,l)=>{ml({value:a,modelValue:d,range:e.range,timezone:l?void 0:e.timezone}),t("auto-apply")},setHoverDate:(e,a)=>{y.value=$(e,a)},selectMonth:(a,l)=>(v.value[l].month=a,x(l,v.value[l].year,a),e.multiDates?((a,l)=>{cl($(a,l),d,e.multiDatesLimit),t("auto-apply",!0)})(a,l):e.range?((a,l)=>{const n=pl(d,$(a,l),t);vl(n,t,e.autoApply,e.modelAuto)})(a,l):((e,a)=>{const l=d.value?d.value:Ha(new Date);d.value=et(l,e,c.value(a)),t("auto-apply")})(a,l)),selectYear:(e,a)=>{f(e,a),x(a,e,null)},toggleYearPicker:_,handleYearSelect:b,handleYear:w,getModelMonthYear:M}},hl=t({compatConfig:{MODE:3},__name:"MonthPicker",props:{...jt},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:a,emit:t}){const n=t,r=l(),o=Bt(r,"yearMode"),i=e,{groupedMonths:u,groupedYears:s,year:c,isDisabled:w,defaultedMultiCalendars:D,defaultedConfig:M,showYearPicker:A,modelValue:T,presetDate:$,setHoverDate:x,selectMonth:S,selectYear:P,toggleYearPicker:C,handleYearSelect:N,handleYear:Y,getModelMonthYear:O}=fl(i,n);return a({getSidebarProps:()=>({modelValue:T,year:c,getModelMonthYear:O,selectMonth:S,selectYear:P,handleYear:Y}),presetDate:$}),(e,a)=>(d(),k(rl,{"multi-calendars":_(D).count,stretch:""},{default:y((({instance:a})=>[e.$slots["month-year"]?f(e.$slots,"month-year",h(b({key:0},{year:_(c),months:_(u)(a),years:_(s)(a),selectMonth:_(S),selectYear:_(P),instance:a}))):(d(),k(nl,{key:1,items:_(u)(a),"arrow-navigation":e.arrowNavigation,"is-last":e.autoApply&&!_(M).keepActionRow,"esc-close":e.escClose,height:_(M).modeHeight,config:e.config,"no-overlay-focus":e.noOverlayFocus,"use-relative":"",type:"month",onSelected:e=>_(S)(e,a),onHoverValue:e=>_(x)(e,a)},{header:y((()=>[p(dl,b(e.$props,{items:_(s)(a),instance:a,"show-year-picker":_(A)[a],year:_(c)(a),"is-disabled":e=>_(w)(a,e),onHandleYear:e=>_(Y)(a,e),onYearSelect:e=>_(N)(e,a),onToggleYearPicker:e=>_(C)(a,null==e?void 0:e.flow,null==e?void 0:e.show)}),v({_:2},[m(_(o),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g(t)))]))})))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])])),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))])),_:3},8,["multi-calendars"]))}}),gl=(e,t)=>{const{modelValue:l}=Ft(e,t),n=a(null),{defaultedHighlight:o}=$t(e),u=a();r((()=>{e.startDate&&(l.value&&e.focusStartDate||!l.value)&&(u.value=L(Oa(e.startDate)))}));const s=i((()=>Sa(ba(e.yearRange,e.reverseYears),(a=>{const t=(e=>Array.isArray(l.value)?l.value.some((a=>L(a)===e)):!!l.value&&L(l.value)===e)(a.value),r=xa(a.value,Ka(e.minDate),Ka(e.maxDate)),i=(a=>!(!e.range||!Array.isArray(l.value))&&Fa(l.value,n.value,d(a)))(a.value);return{active:t,disabled:r,isBetween:i,highlighted:vt(o.value,a.value)}})))),d=e=>Q(Ha(new Date),e);return{groupedYears:s,modelValue:l,focusYear:u,setHoverValue:e=>{n.value=Q(Ha(new Date),e)},selectYear:a=>{var n;if(e.multiDates)return l.value?Array.isArray(l.value)&&((null==(n=l.value)?void 0:n.map((e=>L(e)))).includes(a)?l.value=l.value.filter((e=>L(e)!==a)):l.value.push(Q(Ra(Oa()),a))):l.value=[Q(Ra(Oa()),a)],t("auto-apply",!0);if(e.range){const n=pl(l,d(a),t);return vl(n,t,e.autoApply,e.modelAuto)}l.value=d(a),t("auto-apply")}}},_l=t({compatConfig:{MODE:3},__name:"YearPicker",props:{...jt},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(e,{expose:a,emit:t}){const l=t,n=e,{groupedYears:r,modelValue:o,focusYear:i,selectYear:u,setHoverValue:s}=gl(n,l),{defaultedConfig:p}=$t(n);return a({getSidebarProps:()=>({modelValue:o,selectYear:u})}),(e,a)=>(d(),c("div",null,[e.$slots["month-year"]?f(e.$slots,"month-year",h(b({key:0},{years:_(r),selectYear:_(u)}))):(d(),k(nl,{key:1,items:_(r),"is-last":e.autoApply&&!_(p).keepActionRow,height:_(p).modeHeight,config:e.config,"no-overlay-focus":e.noOverlayFocus,"focus-value":_(i),type:"year","use-relative":"",onSelected:_(u),onHoverValue:_(s)},v({_:2},[e.$slots["year-overlay-value"]?{name:"item",fn:y((({item:a})=>[f(e.$slots,"year-overlay-value",{text:a.text,value:a.value})])),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),bl={key:0,class:"dp__time_input"},wl=["aria-label","onKeydown","onClick"],kl=C("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Dl=C("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ml=["aria-label","disabled","onKeydown","onClick"],Al=["aria-label","onKeydown","onClick"],Tl=C("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),$l=C("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),xl={key:0},Sl=["aria-label","onKeydown"],Pl=t({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...jt},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:l,emit:n}){const o=n,u=t,{setTimePickerElements:s,setTimePickerBackRef:p}=Mt(),{defaultedAriaLabels:h,defaultedTransitions:g,defaultedFilters:b,defaultedConfig:w}=$t(u),{transitionName:D,showTransition:M}=Et(g),x=e({hours:!1,minutes:!1,seconds:!1}),S=a("AM"),O=a(null),V=a([]);r((()=>{o("mounted")}));const B=e=>J(new Date,{hours:e.hours,minutes:e.minutes,seconds:u.enableSeconds?e.seconds:0,milliseconds:0}),E=i((()=>e=>re(e,u[e])||H(e,u[e]))),F=i((()=>({hours:u.hours,minutes:u.minutes,seconds:u.seconds}))),H=(e,a)=>!(!u.range||u.disableTimeRangeValidation)&&!u.validateTime(e,a),U=(e,a)=>{if(u.range&&!u.disableTimeRangeValidation){const t=a?+u[`${e}Increment`]:-+u[`${e}Increment`],l=u[e]+t;return!u.validateTime(e,l)}return!1},z=i((()=>e=>!ie(+u[e]+ +u[`${e}Increment`],e)||U(e,!0))),L=i((()=>e=>!ie(+u[e]-+u[`${e}Increment`],e)||U(e,!1))),j=(e,a)=>ee(J(Oa(),e),a),K=(e,a)=>xe(J(Oa(),e),a),W=i((()=>({dp__time_col:!0,dp__time_col_block:!u.timePickerInline,dp__time_col_reg_block:!u.enableSeconds&&u.is24&&!u.timePickerInline,dp__time_col_reg_inline:!u.enableSeconds&&u.is24&&u.timePickerInline,dp__time_col_reg_with_button:!u.enableSeconds&&!u.is24,dp__time_col_sec:u.enableSeconds&&u.is24,dp__time_col_sec_with_button:u.enableSeconds&&!u.is24}))),X=i((()=>{const e=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return u.enableSeconds?e.concat([{type:"",separator:!0},{type:"seconds"}]):e})),Q=i((()=>X.value.filter((e=>!e.separator)))),ne=i((()=>e=>{if("hours"===e){const e=ce(+u.hours);return{text:e<10?`0${e}`:`${e}`,value:e}}return{text:u[e]<10?`0${u[e]}`:`${u[e]}`,value:u[e]}})),re=(e,a)=>{var t;if(!u.disabledTimesConfig)return!1;const l=u.disabledTimesConfig(u.order,"hours"===e?a:void 0);return!l[e]||!(null==(t=l[e])||!t.includes(a))},oe=e=>{const a=u.is24?24:12,t="hours"===e?a:60,l=+u[`${e}GridIncrement`],n=[];for(let r="hours"!==e||u.is24?0:l;r<t;r+=l)n.push({value:r,text:r<10?`0${r}`:`${r}`});return"hours"===e&&!u.is24&&n.push({value:0,text:"12"}),Sa(n,(a=>({active:!1,disabled:b.value.times[e].includes(a.value)||!ie(a.value,e)||re(e,a.value)||H(e,a.value)})))},ie=(e,a)=>{const t=u.minTime?B(Ua(u.minTime)):null,l=u.maxTime?B(Ua(u.maxTime)):null,n=B(Ua(F.value,a,e));return t&&l?(q(n,l)||Z(n,l))&&(G(n,t)||Z(n,t)):t?G(n,t)||Z(n,t):!l||(q(n,l)||Z(n,l))},ue=e=>u[`no${e[0].toUpperCase()+e.slice(1)}Overlay`],se=e=>{ue(e)||(x[e]=!x[e],x[e]||o("overlay-closed"))},de=(e,a=!0)=>{const t=a?j:K,l=a?+u[`${e}Increment`]:-+u[`${e}Increment`];ie(+u[e]+l,e)&&o(`update:${e}`,(e=>"hours"===e?ae:"minutes"===e?te:le)(e)(t({[e]:+u[e]},{[e]:+u[`${e}Increment`]})))},ce=e=>u.is24?e:(S.value=e>=12?"PM":"AM",(e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e])(e)),pe=()=>{"PM"===S.value?(S.value="AM",o("update:hours",u.hours-12)):(S.value="PM",o("update:hours",u.hours+12)),o("am-pm-change",S.value)},ve=(e,a,t)=>{if(e&&u.arrowNavigation){Array.isArray(V.value[a])?V.value[a][t]=e:V.value[a]=[e];const l=V.value.reduce(((e,a)=>a.map(((t,l)=>[...e[l]||[],a[l]]))),[]);p(u.closeTimePickerBtn),O.value&&(l[1]=l[1].concat(O.value)),s(l,u.order)}};return l({openChildCmp:e=>{x[e]=!0}}),(e,a)=>{var t;return e.disabled?A("",!0):(d(),c("div",bl,[(d(!0),c(Y,null,m(X.value,((a,t)=>{var l,n,r;return d(),c("div",{key:t,class:$(W.value)},[a.separator?(d(),c(Y,{key:0},[I(" : ")],64)):(d(),c(Y,{key:1},[C("button",{ref_for:!0,ref:e=>ve(e,t,0),type:"button",class:$({dp__btn:!0,dp__inc_dec_button:!e.timePickerInline,dp__inc_dec_button_inline:e.timePickerInline,dp__tp_inline_btn_top:e.timePickerInline,dp__inc_dec_button_disabled:z.value(a.type)}),"aria-label":null==(l=_(h))?void 0:l.incrementValue(a.type),tabindex:"0",onKeydown:[P(N((e=>de(a.type)),["prevent"]),["enter"]),P(N((e=>de(a.type)),["prevent"]),["space"])],onClick:e=>de(a.type)},[u.timePickerInline?(d(),c(Y,{key:1},[kl,Dl],64)):(d(),c(Y,{key:0},[e.$slots["arrow-up"]?f(e.$slots,"arrow-up",{key:0}):A("",!0),e.$slots["arrow-up"]?A("",!0):(d(),k(_(Oe),{key:1}))],64))],42,wl),C("button",{ref_for:!0,ref:e=>ve(e,t,1),type:"button","aria-label":null==(n=_(h))?void 0:n.openTpOverlay(a.type),class:$({dp__time_display:!0,dp__time_display_block:!e.timePickerInline,dp__time_display_inline:e.timePickerInline,"dp--time-invalid":E.value(a.type),"dp--time-overlay-btn":!E.value(a.type)}),disabled:ue(a.type),tabindex:"0",onKeydown:[P(N((e=>se(a.type)),["prevent"]),["enter"]),P(N((e=>se(a.type)),["prevent"]),["space"])],onClick:e=>se(a.type)},[e.$slots[a.type]?f(e.$slots,a.type,{key:0,text:ne.value(a.type).text,value:ne.value(a.type).value}):A("",!0),e.$slots[a.type]?A("",!0):(d(),c(Y,{key:1},[I(R(ne.value(a.type).text),1)],64))],42,Ml),C("button",{ref_for:!0,ref:e=>ve(e,t,2),type:"button",class:$({dp__btn:!0,dp__inc_dec_button:!e.timePickerInline,dp__inc_dec_button_inline:e.timePickerInline,dp__tp_inline_btn_bottom:e.timePickerInline,dp__inc_dec_button_disabled:L.value(a.type)}),"aria-label":null==(r=_(h))?void 0:r.decrementValue(a.type),tabindex:"0",onKeydown:[P(N((e=>de(a.type,!1)),["prevent"]),["enter"]),P(N((e=>de(a.type,!1)),["prevent"]),["space"])],onClick:e=>de(a.type,!1)},[u.timePickerInline?(d(),c(Y,{key:1},[Tl,$l],64)):(d(),c(Y,{key:0},[e.$slots["arrow-down"]?f(e.$slots,"arrow-down",{key:0}):A("",!0),e.$slots["arrow-down"]?A("",!0):(d(),k(_(Re),{key:1}))],64))],42,Al)],64))],2)})),128)),e.is24?A("",!0):(d(),c("div",xl,[e.$slots["am-pm-button"]?f(e.$slots,"am-pm-button",{key:0,toggle:pe,value:S.value}):A("",!0),e.$slots["am-pm-button"]?A("",!0):(d(),c("button",{key:1,ref_key:"amPmButton",ref:O,type:"button",class:"dp__pm_am_button",role:"button","aria-label":null==(t=_(h))?void 0:t.amPmButton,tabindex:"0",onClick:pe,onKeydown:[P(N(pe,["prevent"]),["enter"]),P(N(pe,["prevent"]),["space"])]},R(S.value),41,Sl))])),(d(!0),c(Y,null,m(Q.value,((t,l)=>(d(),k(T,{key:l,name:_(D)(x[t.type]),css:_(M)},{default:y((()=>[x[t.type]?(d(),k(nl,{key:0,items:oe(t.type),"is-last":e.autoApply&&!_(w).keepActionRow,"esc-close":e.escClose,type:t.type,"text-input":e.textInput,config:e.config,"arrow-navigation":e.arrowNavigation,onSelected:e=>((e,a)=>(se(e),"hours"!==e||u.is24?o(`update:${e}`,a):o(`update:${e}`,"PM"===S.value?a+12:a)))(t.type,e),onToggle:e=>se(t.type),onResetFlow:a[0]||(a[0]=a=>e.$emit("reset-flow"))},v({"button-icon":y((()=>[e.$slots["clock-icon"]?f(e.$slots,"clock-icon",{key:0}):A("",!0),e.$slots["clock-icon"]?A("",!0):(d(),k(_(Ye),{key:1}))])),_:2},[e.$slots[`${t.type}-overlay-value`]?{name:"item",fn:y((({item:a})=>[f(e.$slots,`${t.type}-overlay-value`,{text:a.text,value:a.value})])),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):A("",!0)])),_:2},1032,["name","css"])))),128))]))}}}),Cl={class:"dp--tp-wrap"},Nl=["aria-label","tabindex"],Yl=["tabindex"],Ol=["aria-label"],Rl=t({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...jt},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const u=n,s=e,{buildMatrix:w,setTimePicker:D}=Mt(),M=l(),{defaultedTransitions:x,defaultedAriaLabels:S,defaultedTextInput:N,defaultedConfig:R}=$t(s),{transitionName:I,showTransition:V}=Et(x),{hideNavigationButtons:F}=zt(),H=a(null),U=a(null),z=a([]),L=a(null);r((()=>{u("mount"),!s.timePicker&&s.arrowNavigation?w([ka(H.value)],"time"):D(!0,s.timePicker)}));const j=i((()=>!s.range||!s.modelAuto||Da(s.internalModelValue))),K=a(!1),W=e=>({hours:Array.isArray(s.hours)?s.hours[e]:s.hours,minutes:Array.isArray(s.minutes)?s.minutes[e]:s.minutes,seconds:Array.isArray(s.seconds)?s.seconds[e]:s.seconds}),q=i((()=>{const e=[];if(s.range)for(let a=0;a<2;a++)e.push(W(a));else e.push(W(0));return e})),Z=(e,a=!1,t="")=>{a||u("reset-flow"),K.value=e,u(e?"overlay-opened":"overlay-closed"),s.arrowNavigation&&D(e),o((()=>{""!==t&&z.value[0]&&z.value[0].openChildCmp(t)}))},G=i((()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:s.autoApply&&!R.value.keepActionRow}))),J=Bt(M,"timePicker"),X=(e,a,t)=>s.range?0===a?[e,q.value[1][t]]:[q.value[0][t],e]:e,Q=e=>{u("update:hours",e)},ee=e=>{u("update:minutes",e)},ae=e=>{u("update:seconds",e)},te=()=>{if(L.value&&!N.value.enabled&&!s.noOverlayFocus){const e=(e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]})(L.value);e&&e.focus({preventScroll:!0})}};return t({toggleTimePicker:Z}),(a,t)=>{var l;return d(),c("div",Cl,[a.timePicker||a.timePickerInline?A("",!0):B((d(),c("button",{key:0,ref_key:"openTimePickerBtn",ref:H,type:"button",class:$(G.value),"aria-label":null==(l=_(S))?void 0:l.openTimePicker,tabindex:a.noOverlayFocus?void 0:0,onKeydown:[t[0]||(t[0]=P((e=>Z(!0)),["enter"])),t[1]||(t[1]=P((e=>Z(!0)),["space"]))],onClick:t[2]||(t[2]=e=>Z(!0))},[a.$slots["clock-icon"]?f(a.$slots,"clock-icon",{key:0}):A("",!0),a.$slots["clock-icon"]?A("",!0):(d(),k(_(Ye),{key:1}))],42,Nl)),[[E,!_(F)(a.hideNavigation,"time")]]),p(T,{name:_(I)(K.value),css:_(V)&&!a.timePickerInline},{default:y((()=>{var l;return[K.value||a.timePicker||a.timePickerInline?(d(),c("div",{key:0,ref_key:"overlayRef",ref:L,class:$({dp__overlay:!a.timePickerInline,"dp--overlay-absolute":!s.timePicker&&!a.timePickerInline,"dp--overlay-relative":s.timePicker}),style:O(a.timePicker?{height:`${_(R).modeHeight}px`}:void 0),tabindex:a.timePickerInline?void 0:0},[C("div",{class:$(a.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[a.$slots["time-picker-overlay"]?f(a.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:Q,setMinutes:ee,setSeconds:ae}):A("",!0),a.$slots["time-picker-overlay"]?A("",!0):(d(),c("div",{key:1,class:$(a.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(d(!0),c(Y,null,m(q.value,((l,n)=>B((d(),k(Pl,b({key:n},{...a.$props,order:n,hours:l.hours,minutes:l.minutes,seconds:l.seconds,closeTimePickerBtn:U.value,disabledTimesConfig:e.disabledTimesConfig,disabled:0===n?a.fixedStart:a.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:z,"validate-time":(a,t)=>e.validateTime(a,X(t,n,a)),"onUpdate:hours":e=>Q(X(e,n,"hours")),"onUpdate:minutes":e=>ee(X(e,n,"minutes")),"onUpdate:seconds":e=>ae(X(e,n,"seconds")),onMounted:te,onOverlayClosed:te,onAmPmChange:t[3]||(t[3]=e=>a.$emit("am-pm-change",e))}),v({_:2},[m(_(J),((e,t)=>({name:e,fn:y((t=>[f(a.$slots,e,h(g(t)))]))})))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[E,0===n||j.value]]))),128))],2)),a.timePicker||a.timePickerInline?A("",!0):B((d(),c("button",{key:2,ref_key:"closeTimePickerBtn",ref:U,type:"button",class:$(G.value),"aria-label":null==(l=_(S))?void 0:l.closeTimePicker,tabindex:"0",onKeydown:[t[4]||(t[4]=P((e=>Z(!1)),["enter"])),t[5]||(t[5]=P((e=>Z(!1)),["space"]))],onClick:t[6]||(t[6]=e=>Z(!1))},[a.$slots["calendar-icon"]?f(a.$slots,"calendar-icon",{key:0}):A("",!0),a.$slots["calendar-icon"]?A("",!0):(d(),k(_(Se),{key:1}))],42,Ol)),[[E,!_(F)(a.hideNavigation,"time")]])],2)],14,Yl)):A("",!0)]})),_:3},8,["name","css"])])}}}),Il=(e,a,t,l)=>{const n=(e,t)=>Array.isArray(a[e])?a[e][t]:a[e],r=t=>e.enableSeconds?Array.isArray(a.seconds)?a.seconds[t]:a.seconds:0,o=(e,t)=>{a[e]=t},u=(l,n)=>{const r=Object.fromEntries(Object.keys(a).map((e=>e===l?[e,n]:[e,a[e]].slice())));if(e.range&&!e.disableTimeRangeValidation){const e=e=>t.value?Ia(t.value[e],r.hours[e],r.minutes[e],r.seconds[e]):null,a=e=>ye(t.value[e],0);return!(Ba(e(0),e(1))&&(G(e(0),a(1))||q(e(1),a(0))))}return!0},s=(e,a)=>{u(e,a)&&(o(e,a),l&&l())},d=e=>{s("hours",e)},c=e=>{s("minutes",e)},p=e=>{s("seconds",e)},v=i((()=>(t,l)=>{var n;if(Array.isArray(e.disabledTimes)){const{disabledArr:r,hours:o}=((t,l)=>{const n={hours:Array.isArray(a.hours)?a.hours[t]:a.hours,disabledArr:[]};return(l||0===l)&&(n.hours=l),Array.isArray(e.disabledTimes)&&(n.disabledArr=e.range&&Array.isArray(e.disabledTimes[t])?e.disabledTimes[t]:e.disabledTimes),n})(t,l),i=r.filter((e=>+e.hours===o));return"*"===(null==(n=i[0])?void 0:n.minutes)?{hours:[o],minutes:void 0,seconds:void 0}:{hours:[],minutes:(null==i?void 0:i.map((e=>+e.minutes)))??[],seconds:(null==i?void 0:i.map((e=>e.seconds?+e.seconds:void 0)))??[]}}return{hours:[],minutes:[],seconds:[]}}));return{setTime:o,updateHours:d,updateMinutes:c,updateSeconds:p,getSetDateTime:(e,t)=>e?void 0!==t?Ia(e,n("hours",t),n("minutes",t),r(t)):Ia(e,a.hours,a.minutes,r()):me(Oa(),r(t)),updateTimeValues:(e,a,l,n)=>{a&&d(e),!a&&!l&&c(e),l&&p(e),t.value&&n(t.value)},getSecondsValue:r,assignStartTime:a=>{if(a){const t=Array.isArray(a),l=t?[+a[0].hours,+a[1].hours]:+a.hours,n=t?[+a[0].minutes,+a[1].minutes]:+a.minutes,r=t?[+a[0].seconds,+a[1].seconds]:+a.seconds;o("hours",l),o("minutes",n),e.enableSeconds&&o("seconds",r)}},validateTime:u,disabledTimesConfig:v}},Vl=(e,a)=>{const{modelValue:t,time:l}=Ft(e,a),{defaultedStartTime:n}=$t(e),{updateTimeValues:o,getSetDateTime:i,setTime:u,assignStartTime:s,disabledTimesConfig:d,validateTime:c}=Il(e,l,t),p=e=>{const{hours:a,minutes:t,seconds:l}=e;return{hours:+a,minutes:+t,seconds:l?+l:0}},v=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const a=p(e.startTime[0]),t=p(e.startTime[1]);return[J(Oa(),a),J(Oa(),t)]}const a=p(e.startTime);return J(Oa(),a)}return e.range?[null,null]:null},m=(a,t,l)=>{u("hours",a),u("minutes",t),u("seconds",e.enableSeconds?l:0)},y=()=>{const[a,l]=(e=>Array.isArray(e)?[za(Oa(e[0])),za(Oa(e[1]))]:[za(e??Oa())])(t.value);return e.range?m([a.hours,l.hours],[a.minutes,l.minutes],[a.seconds,l.minutes]):m(a.hours,a.minutes,a.seconds)};r((()=>{if(!e.shadow)return s(n.value),t.value?y():(()=>{if(e.range){const[e,a]=v();t.value=[i(e,0),i(a,1)]}else t.value=i(v())})()}));const f=()=>{Array.isArray(t.value)?t.value=t.value.map(((e,a)=>e&&i(e,a))):t.value=i(t.value),a("time-update")};return{modelValue:t,time:l,disabledTimesConfig:d,updateTime:(e,a=!0,t=!1)=>{o(e,a,t,f)},validateTime:c}},Bl=t({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...jt},emits:["update:internal-model-value","time-update","am-pm-change"],setup(e,{expose:a,emit:t}){const n=t,r=e,o=l(),i=Bt(o,"timePicker"),{time:u,modelValue:s,disabledTimesConfig:c,updateTime:w,validateTime:D}=Vl(r,n);return a({getSidebarProps:()=>({modelValue:s,time:u,updateTime:w})}),(e,a)=>(d(),k(rl,{"multi-calendars":0,stretch:""},{default:y((()=>[p(Rl,b(e.$props,{hours:_(u).hours,minutes:_(u).minutes,seconds:_(u).seconds,"internal-model-value":e.internalModelValue,"disabled-times-config":_(c),"validate-time":_(D),"onUpdate:hours":a[0]||(a[0]=e=>_(w)(e)),"onUpdate:minutes":a[1]||(a[1]=e=>_(w)(e,!1)),"onUpdate:seconds":a[2]||(a[2]=e=>_(w)(e,!1,!0)),onAmPmChange:a[3]||(a[3]=a=>e.$emit("am-pm-change",a))}),v({_:2},[m(_(i),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g(t)))]))})))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])])),_:3}))}}),El={class:"dp__month_year_row"},Fl=["aria-label","onClick","onKeydown"],Hl=t({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...jt},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:l}){const n=l,o=e,{defaultedTransitions:u,defaultedAriaLabels:s,defaultedMultiCalendars:w,defaultedFilters:M,defaultedConfig:x,defaultedHighlight:S}=$t(o),{transitionName:O,showTransition:V}=Et(u),{buildMatrix:B}=Mt(),{handleMonthYearChange:E,isDisabled:F,updateMonthYear:H}=((e,a)=>{const{defaultedFilters:t}=$t(e),{validateMonthYearInRange:l}=Ut(e),n=(e,a)=>{let l=e;return t.value.months.includes(U(l))?(l=a?ne(e,1):he(e,1),n(l,a)):l},r=(e,a)=>{let l=e;return t.value.years.includes(L(l))?(l=a?we(e,1):$e(e,1),r(l,a)):l},o=(e,t,l)=>{a("update-month-year",{month:e,year:t,fromNav:l})};return{handleMonthYearChange:(a,i=!1)=>{const u=J(new Date,{month:e.month,year:e.year});let s=a?ne(u,1):he(u,1);e.disableYearSelect&&(s=Q(s,e.year));let d=U(s),c=L(s);t.value.months.includes(d)&&(s=n(s,a),d=U(s),c=L(s)),t.value.years.includes(c)&&(s=r(s,a),c=L(s)),l(d,c,a,e.preventMinMaxNavigation)&&o(d,c,i)},isDisabled:i((()=>a=>at(J(new Date,{month:e.month,year:e.year}),e.maxDate,e.minDate,e.preventMinMaxNavigation,a))),updateMonthYear:o}})(o,n),{showLeftIcon:z,showRightIcon:j}=zt(),K=a(!1),W=a(!1),q=a([null,null,null,null]);r((()=>{n("mount")}));const Z=e=>({get:()=>o[e],set:a=>{const t=e===Pt.month?Pt.year:Pt.month;n("update-month-year",{[e]:a,[t]:o[t]}),e===Pt.month?oe(!0):ie(!0)}}),G=i(Z(Pt.month)),X=i(Z(Pt.year)),ee=i((()=>e=>({month:o.month,year:o.year,items:e===Pt.month?o.months:o.years,instance:o.instance,updateMonthYear:H,toggle:e===Pt.month?oe:ie}))),ae=i((()=>o.months.find((e=>e.value===o.month))||{text:"",value:0})),te=i((()=>Sa(o.months,(e=>({active:o.month===e.value,disabled:xa(e.value,La(o.year,o.minDate),ja(o.year,o.maxDate))||M.value.months.includes(e.value),highlighted:pt(S.value,e.value,o.year)}))))),le=i((()=>Sa(o.years,(e=>({active:o.year===e.value,disabled:xa(e.value,Ka(o.minDate),Ka(o.maxDate))||M.value.years.includes(e.value),highlighted:vt(S.value,e.value)}))))),re=(e,a)=>{e.value=void 0!==a?a:!e.value,e.value||n("overlay-closed")},oe=(e=!1,a)=>{ue(e),re(K,a)},ie=(e=!1,a)=>{ue(e),re(W,a)},ue=e=>{e||n("reset-flow")},se=(e,a)=>{o.arrowNavigation&&(q.value[a]=ka(e),B(q.value,"monthYear"))},de=i((()=>{var e,a;return[{type:Pt.month,index:1,toggle:oe,modelValue:G.value,updateModelValue:e=>G.value=e,text:ae.value.text,showSelectionGrid:K.value,items:te.value,ariaLabel:null==(e=s.value)?void 0:e.openMonthsOverlay},{type:Pt.year,index:2,toggle:ie,modelValue:X.value,updateModelValue:e=>X.value=e,text:o.year,showSelectionGrid:W.value,items:le.value,ariaLabel:null==(a=s.value)?void 0:a.openYearsOverlay}]})),ce=i((()=>o.disableYearSelect?[de.value[0]]:o.yearFirst?[...de.value].reverse():de.value));return t({toggleMonthPicker:oe,toggleYearPicker:ie,handleMonthYearChange:E}),(a,t)=>{var l,n,r;return d(),c("div",El,[a.$slots["month-year"]?f(a.$slots,"month-year",h(b({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:_(H),handleMonthYearChange:_(E),instance:e.instance}))):(d(),c(Y,{key:1},[_(z)(_(w),e.instance)&&!a.vertical?(d(),k(il,{key:0,"aria-label":null==(l=_(s))?void 0:l.prevMonth,disabled:_(F)(!1),onActivate:t[0]||(t[0]=e=>_(E)(!1,!0)),onSetRef:t[1]||(t[1]=e=>se(e,0))},{default:y((()=>[a.$slots["arrow-left"]?f(a.$slots,"arrow-left",{key:0}):A("",!0),a.$slots["arrow-left"]?A("",!0):(d(),k(_(Ce),{key:1}))])),_:3},8,["aria-label","disabled"])):A("",!0),C("div",{class:$(["dp__month_year_wrap",{dp__year_disable_select:a.disableYearSelect}])},[(d(!0),c(Y,null,m(ce.value,((e,t)=>(d(),c(Y,{key:e.type},[C("button",{ref_for:!0,ref:e=>se(e,t+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":e.ariaLabel,onClick:e.toggle,onKeydown:[P(N(e.toggle,["prevent"]),["enter"]),P(N(e.toggle,["prevent"]),["space"])]},[a.$slots[e.type]?f(a.$slots,e.type,{key:0,text:e.text,value:o[e.type]}):A("",!0),a.$slots[e.type]?A("",!0):(d(),c(Y,{key:1},[I(R(e.text),1)],64))],40,Fl),p(T,{name:_(O)(e.showSelectionGrid),css:_(V)},{default:y((()=>[e.showSelectionGrid?(d(),k(nl,{key:0,items:e.items,"arrow-navigation":a.arrowNavigation,"hide-navigation":a.hideNavigation,"is-last":a.autoApply&&!_(x).keepActionRow,"skip-button-ref":!1,config:a.config,type:e.type,"header-refs":[],"esc-close":a.escClose,"text-input":a.textInput,onSelected:e.updateModelValue,onToggle:e.toggle},v({"button-icon":y((()=>[a.$slots["calendar-icon"]?f(a.$slots,"calendar-icon",{key:0}):A("",!0),a.$slots["calendar-icon"]?A("",!0):(d(),k(_(Se),{key:1}))])),_:2},[a.$slots[`${e.type}-overlay-value`]?{name:"item",fn:y((({item:t})=>[f(a.$slots,`${e.type}-overlay-value`,{text:t.text,value:t.value})])),key:"0"}:void 0,a.$slots[`${e.type}-overlay`]?{name:"overlay",fn:y((()=>[f(a.$slots,`${e.type}-overlay`,h(g(ee.value(e.type))))])),key:"1"}:void 0,a.$slots[`${e.type}-overlay-header`]?{name:"header",fn:y((()=>[f(a.$slots,`${e.type}-overlay-header`,{toggle:e.toggle})])),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):A("",!0)])),_:2},1032,["name","css"])],64)))),128))],2),_(z)(_(w),e.instance)&&a.vertical?(d(),k(il,{key:1,"aria-label":null==(n=_(s))?void 0:n.prevMonth,disabled:_(F)(!1),onActivate:t[2]||(t[2]=e=>_(E)(!1,!0))},{default:y((()=>[a.$slots["arrow-up"]?f(a.$slots,"arrow-up",{key:0}):A("",!0),a.$slots["arrow-up"]?A("",!0):(d(),k(_(Oe),{key:1}))])),_:3},8,["aria-label","disabled"])):A("",!0),_(j)(_(w),e.instance)?(d(),k(il,{key:2,ref:"rightIcon",disabled:_(F)(!0),"aria-label":null==(r=_(s))?void 0:r.nextMonth,onActivate:t[3]||(t[3]=e=>_(E)(!0,!0)),onSetRef:t[4]||(t[4]=e=>se(e,a.disableYearSelect?2:3))},{default:y((()=>[a.$slots[a.vertical?"arrow-down":"arrow-right"]?f(a.$slots,a.vertical?"arrow-down":"arrow-right",{key:0}):A("",!0),a.$slots[a.vertical?"arrow-down":"arrow-right"]?A("",!0):(d(),k(D(a.vertical?_(Re):_(Ne)),{key:1}))])),_:3},8,["disabled","aria-label"])):A("",!0)],64))])}}}),Ul=["aria-label"],zl={class:"dp__calendar_header",role:"row"},Ll={key:0,class:"dp__calendar_header_item",role:"gridcell"},jl=C("div",{class:"dp__calendar_header_separator"},null,-1),Kl=["aria-label"],Wl={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},ql={class:"dp__cell_inner"},Zl=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Gl=t({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...jt},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:l}){const n=l,u=e,{buildMultiLevelMatrix:s}=Mt(),{defaultedTransitions:v,defaultedConfig:h,defaultedAriaLabels:g,defaultedMultiCalendars:b,defaultedWeekNumbers:w}=$t(u),k=a(null),D=a({bottom:"",left:"",transform:""}),M=a([]),x=a(null),S=a(!0),V=a(""),B=a({startX:0,endX:0,startY:0,endY:0}),E=a([]),F=a({left:"50%"}),H=i((()=>u.calendar?u.calendar(u.mappedDates):u.mappedDates)),U=i((()=>u.dayNames?Array.isArray(u.dayNames)?u.dayNames:u.dayNames(u.locale,+u.weekStart):_a(u.formatLocale,u.locale,+u.weekStart)));r((()=>{n("mount",{cmp:"calendar",refs:M}),h.value.noSwipe||x.value&&(x.value.addEventListener("touchstart",Z,{passive:!1}),x.value.addEventListener("touchend",G,{passive:!1}),x.value.addEventListener("touchmove",J,{passive:!1})),u.monthChangeOnScroll&&x.value&&x.value.addEventListener("wheel",Q,{passive:!1})}));const z=e=>e?u.vertical?"vNext":"next":u.vertical?"vPrevious":"previous",L=i((()=>({[u.calendarClassName]:!!u.calendarClassName}))),j=i((()=>e=>{const a=(e=>Object.assign({type:"dot"},e))(e);return{dp__marker_dot:"dot"===a.type,dp__marker_line:"line"===a.type}})),K=i((()=>e=>Ba(e,k.value))),W=i((()=>({dp__calendar:!0,dp__calendar_next:b.value.count>0&&0!==u.instance}))),q=i((()=>e=>!u.hideOffsetDates||e.current)),Z=e=>{B.value.startX=e.changedTouches[0].screenX,B.value.startY=e.changedTouches[0].screenY},G=e=>{B.value.endX=e.changedTouches[0].screenX,B.value.endY=e.changedTouches[0].screenY,X()},J=e=>{u.vertical&&!u.inline&&e.preventDefault()},X=()=>{const e=u.vertical?"Y":"X";Math.abs(B.value[`start${e}`]-B.value[`end${e}`])>10&&n("handle-swipe",B.value[`start${e}`]>B.value[`end${e}`]?"right":"left")},Q=e=>{u.monthChangeOnScroll&&(e.preventDefault(),n("handle-scroll",e))},ee=e=>"local"===w.value.type?ke(e.value,{weekStartsOn:+u.weekStart}):"iso"===w.value.type?De(e.value):"function"==typeof w.value.type?w.value.type(e.value):"",ae=e=>{const a=e[0];return w.value.hideOnOffsetDates?e.some((e=>e.current))?ee(a):"":ee(a)},te=e=>{Pa(e,h.value)};return t({triggerTransition:(e,a)=>{if(u.transitions){const t=Ra(et(Oa(),u.month,u.year));V.value=Ea(Ra(et(Oa(),e,a)),t)?v.value[z(!0)]:v.value[z(!1)],S.value=!1,o((()=>{S.value=!0}))}}}),(e,a)=>{var t;return d(),c("div",{class:$(W.value)},[C("div",{ref_key:"calendarWrapRef",ref:x,role:"grid",class:$(L.value),"aria-label":null==(t=_(g))?void 0:t.calendarWrap},[(d(),c(Y,{key:0},[C("div",zl,[e.weekNumbers?(d(),c("div",Ll,R(e.weekNumName),1)):A("",!0),(d(!0),c(Y,null,m(U.value,((a,t)=>(d(),c("div",{key:t,class:"dp__calendar_header_item",role:"gridcell"},[e.$slots["calendar-header"]?f(e.$slots,"calendar-header",{key:0,day:a,index:t}):A("",!0),e.$slots["calendar-header"]?A("",!0):(d(),c(Y,{key:1},[I(R(a),1)],64))])))),128))]),jl,p(T,{name:V.value,css:!!e.transitions},{default:y((()=>{var a;return[S.value?(d(),c("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":(null==(a=_(g))?void 0:a.calendarDays)||void 0},[(d(!0),c(Y,null,m(H.value,((a,t)=>(d(),c("div",{key:t,class:"dp__calendar_row",role:"row"},[e.weekNumbers?(d(),c("div",Wl,[C("div",ql,R(ae(a.days)),1)])):A("",!0),(d(!0),c(Y,null,m(a.days,((a,l)=>{var r,i,p;return d(),c("div",{id:a.value.toISOString().split("T")[0],ref_for:!0,ref:e=>((e,a,t)=>{e&&(Array.isArray(M.value[a])?M.value[a][t]=e:M.value[a]=[e]),u.arrowNavigation&&s(M.value,"calendar")})(e,t,l),key:l+t,role:"gridcell",class:"dp__calendar_item","aria-selected":a.classData.dp__active_date||a.classData.dp__range_start||a.classData.dp__range_start,"aria-disabled":a.classData.dp__cell_disabled||void 0,"aria-label":null==(i=null==(r=_(g))?void 0:r.day)?void 0:i.call(r,a),tabindex:"0",onClick:N((e=>((e,a)=>{Pa(e,h.value),n("select-date",a)})(e,a)),["prevent"]),onKeydown:[P((t=>e.$emit("select-date",a)),["enter"]),P((t=>e.$emit("handle-space",a)),["space"])],onMouseenter:e=>(async(e,a,t)=>{var l,r;if(n("set-hover-date",e),null!=(r=null==(l=e.marker)?void 0:l.tooltip)&&r.length){const l=ka(M.value[a][t]);if(l){const{width:a,height:t}=l.getBoundingClientRect();k.value=e.value;let r={left:a/2+"px"},i=-50;if(await o(),E.value[0]){const{left:e,width:t}=E.value[0].getBoundingClientRect();e<0&&(r={left:"0"},i=0,F.value.left=a/2+"px"),window.innerWidth<e+t&&(r={right:"0"},i=0,F.value.left=t-a/2+"px")}D.value={bottom:`${t}px`,...r,transform:`translateX(${i}%)`},n("tooltip-open",e.marker)}}})(a,t,l),onMouseleave:e=>(e=>{k.value&&(k.value=null,D.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",e.marker))})(a)},[C("div",{class:$(["dp__cell_inner",a.classData])},[e.$slots.day&&q.value(a)?f(e.$slots,"day",{key:0,day:+a.text,date:a.value}):A("",!0),e.$slots.day?A("",!0):(d(),c(Y,{key:1},[I(R(a.text),1)],64)),a.marker&&q.value(a)?(d(),c(Y,{key:2},[e.$slots.marker?f(e.$slots,"marker",{key:0,marker:a.marker,day:+a.text,date:a.value}):(d(),c("div",{key:1,class:$(j.value(a.marker)),style:O(a.marker.color?{backgroundColor:a.marker.color}:{})},null,6))],64)):A("",!0),K.value(a.value)?(d(),c("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:E,class:"dp__marker_tooltip",style:O(D.value)},[null!=(p=a.marker)&&p.tooltip?(d(),c("div",{key:0,class:"dp__tooltip_content",onClick:te},[(d(!0),c(Y,null,m(a.marker.tooltip,((t,l)=>(d(),c("div",{key:l,class:"dp__tooltip_text"},[e.$slots["marker-tooltip"]?f(e.$slots,"marker-tooltip",{key:0,tooltip:t,day:a.value}):A("",!0),e.$slots["marker-tooltip"]?A("",!0):(d(),c(Y,{key:1},[C("div",{class:"dp__tooltip_mark",style:O(t.color?{backgroundColor:t.color}:{})},null,4),C("div",null,R(t.text),1)],64))])))),128)),C("div",{class:"dp__arrow_bottom_tp",style:O(F.value)},null,4)])):A("",!0)],4)):A("",!0)],2)],40,Zl)})),128))])))),128))],8,Kl)):A("",!0)]})),_:3},8,["name","css"])],64))],10,Ul)],2)}}}),Jl=e=>Array.isArray(e),Xl=(e,t,l,n)=>{const u=a([]),{modelValue:d,calendars:c,time:p}=Ft(e,t),{defaultedMultiCalendars:v,defaultedStartTime:m}=$t(e),{validateMonthYearInRange:y,isDisabled:f,isDateRangeAllowed:h,checkMinMaxRange:g}=Ut(e),{updateTimeValues:_,getSetDateTime:b,setTime:w,assignStartTime:k,validateTime:D,disabledTimesConfig:M}=Il(e,p,d,n),A=i((()=>e=>c.value[e]?c.value[e].month:0)),T=i((()=>e=>c.value[e]?c.value[e].year:0)),$=(e,a,t)=>{var l,n;c.value[e]||(c.value[e]={month:0,year:0}),c.value[e].month=$a(a)?null==(l=c.value[e])?void 0:l.month:a,c.value[e].year=$a(t)?null==(n=c.value[e])?void 0:n.year:t},x=()=>{e.autoApply&&t("select-date")};s(d,((e,a)=>{JSON.stringify(e)!==JSON.stringify(a)&&C()})),r((()=>{e.shadow||(d.value||(E(),m.value&&k(m.value)),C(!0),e.focusStartDate&&e.startDate&&E())}));const S=i((()=>{var a;return!(null!=(a=e.flow)&&a.length&&!e.partialFlow)||e.flowStep===e.flow.length})),P=()=>{e.autoApply&&S.value&&t("auto-apply",e.partialFlow)},C=(a=!1)=>d.value?Array.isArray(d.value)?(u.value=d.value,R(a)):Y(d.value,a):v.value.count&&a&&!e.startDate?N(Oa(),a):void 0,N=(e,a=!1)=>{if((!v.value.count||!v.value.static||a)&&$(0,U(e),L(e)),v.value.count&&!v.value.solo)for(let t=1;t<v.value.count;t++){const e=J(Oa(),{month:A.value(t-1),year:T.value(t-1)}),a=ee(e,{months:1});c.value[t]={month:U(a),year:L(a)}}},Y=(e,a)=>{N(e),w("hours",ae(e)),w("minutes",te(e)),w("seconds",le(e)),v.value.count&&a&&B()},O=(a,t)=>{a[1]&&e.showLastInRange?N(a[(e=>{if(v.value.count){if(v.value.solo)return 0;const a=U(e[0]),t=U(e[1]);return Math.abs(t-a)<v.value.count?0:1}return 1})(a)],t):N(a[0],t);const l=(e,t)=>[e(a[0]),a[1]?e(a[1]):p[t][1]];w("hours",l(ae,"hours")),w("minutes",l(te,"minutes")),w("seconds",l(le,"seconds"))},R=a=>{((a,t)=>{if((e.range||e.weekPicker)&&!e.multiDates)return O(a,t);if(e.multiDates&&t){const e=a[a.length-1];Y(e,t)}})(d.value,a),v.value.count&&v.value.solo&&B()},I=(a,n)=>{const r=J(Oa(),{month:A.value(n),year:T.value(n)}),o=a<0?ne(r,1):he(r,1);y(U(o),L(o),a<0,e.preventMinMaxNavigation)&&($(n,U(o),L(o)),t("update-month-year",{instance:n,month:U(o),year:L(o)}),v.value.count&&!v.value.solo&&V(n),l())},V=e=>{for(let a=e-1;a>=0;a--){const e=he(J(Oa(),{month:A.value(a+1),year:T.value(a+1)}),1);$(a,U(e),L(e))}for(let a=e+1;a<=v.value.count-1;a++){const e=ne(J(Oa(),{month:A.value(a-1),year:T.value(a-1)}),1);$(a,U(e),L(e))}},B=()=>{if(Array.isArray(d.value)&&2===d.value.length){const e=Oa(Oa(d.value[1]?d.value[1]:ne(d.value[0],1))),[a,t]=[U(d.value[0]),L(d.value[0])],[l,n]=[U(d.value[1]),L(d.value[1])];(a!==l||a===l&&t!==n)&&v.value.solo&&$(1,U(e),L(e))}else d.value&&!Array.isArray(d.value)&&($(0,U(d.value),L(d.value)),N(Oa()))},E=()=>{e.startDate&&($(0,U(Oa(e.startDate)),L(Oa(e.startDate))),v.value.count&&V(0))},F=(e,a)=>{I("right"===e?-1:1,a)},H=(a,t,l,n)=>{if(e.sixWeeks&&a.length<6){const r=6-a.length,o=(t.getDay()+7-n)%7,i=6-(l.getDay()+7-n)%7,[u,s]=((a,t)=>{switch(!0===e.sixWeeks?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[0==a,!0];case"fair":return[0==a||t>a,!0];default:return[!1,!1]}})(o,i);for(let e=1;e<=r;e++)if(s?!!(e%2)==u:u){const e=a[0].days[0],l=z(Me(e.value,-7),U(t));a.unshift({days:l})}else{const e=a[a.length-1],l=e.days[e.days.length-1],n=z(Me(l.value,1),U(t));a.push({days:n})}}return a},z=(a,t)=>{const l=Oa(a),n=[];for(let r=0;r<7;r++){const a=Me(l,r),o=U(a)!==t;n.push({text:e.hideOffsetDates&&o?"":a.getDate(),value:a,current:!o,classData:{}})}return n},j=a=>!!e.noDisabledRange&&Za(u.value[0],a).some((e=>f(e))),K=e=>{const a=U(Oa(e)),t=L(Oa(e));if($(0,a,t),v.value.count>0)for(let l=1;l<v.value.count;l++){const a=Ga(J(Oa(e),{year:A.value(l-1),month:T.value(l-1)}));$(l,a.month,a.year)}},W=a=>{if(j(a.value)||!g(a.value,d.value,e.fixedStart?0:1))return t("invalid-date",a.value);u.value=(a=>Array.isArray(d.value)&&2===d.value.length?e.fixedStart&&(Ea(a,d.value[0])||Ba(a,d.value[0]))?[d.value[0],a]:e.fixedEnd&&(Va(a,d.value[1])||Ba(a,d.value[1]))?[a,d.value[1]]:(t("invalid-fixed-range",a),d.value):[])(Oa(a.value))},q=(a,l)=>(u.value=d.value?d.value.slice():[],2===u.value.length&&!e.fixedStart&&!e.fixedEnd&&(u.value=[]),e.autoRange?((a,l)=>{const n=[Oa(a.value),Me(Oa(a.value),+e.autoRange)];h(n)?(l&&K(a.value),u.value=n):t("invalid-date",a.value)})(a,l):e.fixedStart||e.fixedEnd?W(a):void(u.value[0]?g(Oa(a.value),d.value)&&!j(a.value)?Va(Oa(a.value),Oa(u.value[0]))?(u.value.unshift(Oa(a.value)),t("range-end",u.value[0])):(u.value[1]=Oa(a.value),t("range-end",u.value[1])):(e.autoApply&&t("auto-apply-invalid",a.value),t("invalid-date",a.value)):(u.value[0]=Oa(a.value),t("range-start",u.value[0])))),Z=(a=!0)=>e.enableSeconds?Array.isArray(p.seconds)?a?p.seconds[0]:p.seconds[1]:p.seconds:0,G=e=>{u.value[e]=Ia(u.value[e],p.hours[e],p.minutes[e],Z(1!==e))},X=()=>{var a,l;u.value.length&&(u.value[0]&&!u.value[1]?G(0):(G(0),G(1),n()),u.value[0]&&u.value[1]&&+(null==(a=u.value)?void 0:a[0])>+(null==(l=u.value)?void 0:l[1])&&(u.value.reverse(),t("range-start",u.value[0]),t("range-end",u.value[1])),d.value=u.value.slice(),vl(u.value,t,e.autoApply,e.modelAuto))},Q=()=>{if(Array.isArray(d.value))if(e.multiDates){const e=re();d.value[d.value.length-1]=b(e)}else d.value=d.value.map(((e,a)=>e&&b(e,a)));else d.value=b(d.value);t("time-update")},re=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null;return{calendars:c,modelValue:d,month:A,year:T,time:p,disabledTimesConfig:M,validateTime:D,getCalendarDays:(a,t)=>{const l=[],n=new Date(t,a),r=new Date(t,a+1,0),o=e.weekStart,i=ge(n,{weekStartsOn:o}),u=e=>{const t=z(e,a);if(l.push({days:t}),!l[l.length-1].days.some((e=>Ba(Ra(e.value),Ra(r))))){const a=Me(e,7);u(a)}};return u(i),H(l,n,r,o)},getMarker:a=>e.markers.find((t=>Ba((e=>e instanceof Date?e:_e(e))(a.value),Wa(Oa(t.date),e.timezone)))),handleScroll:(a,t)=>{e.monthChangeOnScroll&&I("inverse"!==e.monthChangeOnScroll?-a.deltaY:a.deltaY,t)},handleSwipe:F,handleArrow:(a,t,l=!1)=>{e.monthChangeOnArrows&&e.vertical===l&&F(a,t)},selectDate:(a,l=!1)=>f(a.value)||!a.current&&e.hideOffsetDates?t("invalid-date",a.value):e.weekPicker?(a=>(d.value=Ja(Oa(a.value),e.timezone,e.weekStart),t("date-update",a.value),P()))(a):e.range?void(Jl(p.hours)&&Jl(p.minutes)&&!e.multiDates&&(q(a,l),X())):(a=>{const l=Ia(Oa(a.value),p.hours,p.minutes,Z());t("date-update",l),e.multiDates?cl(l,d,e.multiDatesLimit):d.value=l,n(),o().then((()=>{P()}))})(a),updateMonthYear:(a,r)=>{var o;$(a,r.month,r.year),v.value.count&&!v.value.solo&&V(a),t("update-month-year",{instance:a,month:r.month,year:r.year}),l(v.value.solo?a:void 0);const i=null!=(o=e.flow)&&o.length?e.flow[e.flowStep]:void 0;!r.fromNav&&(i===Yt.month||i===Yt.year)&&n()},presetDate:(a,t)=>{ml({value:a,modelValue:d,range:e.range,timezone:t?void 0:e.timezone}),x(),e.multiCalendars&&o().then((()=>C(!0)))},selectCurrentDate:()=>{e.range?d.value&&Array.isArray(d.value)&&d.value[0]?d.value=Va(Oa(),d.value[0])?[Oa(),d.value[0]]:[d.value[0],Oa()]:d.value=[Oa()]:d.value=Oa(),x()},updateTime:(e,a=!0,t=!1)=>{_(e,a,t,Q)}}},Ql={key:0},en=t({__name:"DatePicker",props:{...jt},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:t,emit:n}){const r=n,o=e,{calendars:u,month:w,year:D,modelValue:M,time:T,disabledTimesConfig:$,validateTime:x,getCalendarDays:S,getMarker:P,handleArrow:C,handleScroll:N,handleSwipe:O,selectDate:R,updateMonthYear:I,presetDate:V,selectCurrentDate:B,updateTime:E}=Xl(o,r,(function(e){var a;e||0===e?null==(a=K.value[e])||a.triggerTransition(w.value(e),D.value(e)):K.value.forEach(((e,a)=>e.triggerTransition(w.value(a),D.value(a))))}),(function(){r("update-flow-step")})),F=l(),{setHoverDate:H,getDayClassData:U,clearHoverDate:z}=Ht(M,o),{defaultedMultiCalendars:L}=$t(o),j=a([]),K=a([]),W=a(null),q=Bt(F,"calendar"),Z=Bt(F,"monthYear"),G=Bt(F,"timePicker"),J=e=>{o.shadow||r("mount",e)};s(u,(()=>{o.shadow||setTimeout((()=>{r("recalculate-position")}),0)}),{deep:!0});const X=i((()=>e=>S(w.value(e),D.value(e)).map((e=>({...e,days:e.days.map((e=>(e.marker=P(e),e.classData=U(e),e)))})))));return t({clearHoverDate:z,presetDate:V,selectCurrentDate:B,toggleMonthPicker:(e,a,t=0)=>{var l;null==(l=j.value[t])||l.toggleMonthPicker(e,a)},toggleYearPicker:(e,a,t=0)=>{var l;null==(l=j.value[t])||l.toggleYearPicker(e,a)},toggleTimePicker:(e,a,t)=>{var l;null==(l=W.value)||l.toggleTimePicker(e,a,t)},handleArrow:C,updateMonthYear:I,getSidebarProps:()=>({modelValue:M,month:w,year:D,time:T,updateTime:E,updateMonthYear:I,selectDate:R,presetDate:V})}),(e,a)=>(d(),c(Y,null,[p(rl,{"multi-calendars":_(L).count},{default:y((({instance:t,index:l})=>[e.disableMonthYearSelect?A("",!0):(d(),k(Hl,b({key:0,ref:e=>{e&&(j.value[l]=e)},months:_(wa)(e.formatLocale,e.locale,e.monthNameFormat),years:_(ba)(e.yearRange,e.reverseYears),month:_(w)(t),year:_(D)(t),instance:t},e.$props,{onMount:a[0]||(a[0]=e=>J(_(Nt).header)),onResetFlow:a[1]||(a[1]=a=>e.$emit("reset-flow")),onUpdateMonthYear:e=>_(I)(t,e),onOverlayClosed:a[2]||(a[2]=a=>e.$emit("focus-menu"))}),v({_:2},[m(_(Z),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g(t)))]))})))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),p(Gl,b({ref:e=>{e&&(K.value[l]=e)},"mapped-dates":X.value(t),month:_(w)(t),year:_(D)(t),instance:t},e.$props,{onSelectDate:e=>_(R)(e,1!==t),onHandleSpace:e=>((e,a=!1)=>{R(e,a),o.spaceConfirm&&r("select-date")})(e,1!==t),onSetHoverDate:a[3]||(a[3]=e=>_(H)(e)),onHandleScroll:e=>_(N)(e,t),onHandleSwipe:e=>_(O)(e,t),onMount:a[4]||(a[4]=e=>J(_(Nt).calendar)),onResetFlow:a[5]||(a[5]=a=>e.$emit("reset-flow")),onTooltipOpen:a[6]||(a[6]=a=>e.$emit("tooltip-open",a)),onTooltipClose:a[7]||(a[7]=a=>e.$emit("tooltip-close",a))}),v({_:2},[m(_(q),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g({...t})))]))})))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])])),_:3},8,["multi-calendars"]),e.enableTimePicker?(d(),c("div",Ql,[e.$slots["time-picker"]?f(e.$slots,"time-picker",h(b({key:0},{time:_(T),updateTime:_(E)}))):(d(),k(Rl,b({key:1,ref_key:"timePickerRef",ref:W},e.$props,{hours:_(T).hours,minutes:_(T).minutes,seconds:_(T).seconds,"internal-model-value":e.internalModelValue,"disabled-times-config":_($),"validate-time":_(x),onMount:a[8]||(a[8]=e=>J(_(Nt).timePicker)),"onUpdate:hours":a[9]||(a[9]=e=>_(E)(e)),"onUpdate:minutes":a[10]||(a[10]=e=>_(E)(e,!1)),"onUpdate:seconds":a[11]||(a[11]=e=>_(E)(e,!1,!0)),onResetFlow:a[12]||(a[12]=a=>e.$emit("reset-flow")),onOverlayClosed:a[13]||(a[13]=a=>e.$emit("time-picker-close")),onOverlayOpened:a[14]||(a[14]=a=>e.$emit("time-picker-open",a)),onAmPmChange:a[15]||(a[15]=a=>e.$emit("am-pm-change",a))}),v({_:2},[m(_(G),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g(t)))]))})))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):A("",!0)],64))}}),an=(e,t)=>{const l=a(),{defaultedMultiCalendars:n,defaultedConfig:r,defaultedHighlight:o}=$t(e),{modelValue:u,year:s,month:d,calendars:c}=Ft(e,t),{isDisabled:p}=Ut(e),{selectYear:v,groupedYears:m,showYearPicker:y,isDisabled:f,toggleYearPicker:h,handleYearSelect:g,handleYear:_}=yl({modelValue:u,multiCalendars:n,highlight:o,calendars:c,month:d,year:s,props:e,emit:t}),b=(a,t)=>[a,t].map((a=>W(a,"MMMM",{locale:e.formatLocale}))).join("-"),w=i((()=>e=>!!u.value&&(Array.isArray(u.value)?u.value.some((a=>re(e,a))):re(u.value,e)))),k=i((()=>a=>{const t=J(new Date,{year:s.value(a)});return oe({start:ie(t),end:ue(t)}).map((a=>{const t=se(a),n=de(a),r=p(a),i=(a=>{if(e.range){if(Array.isArray(u.value)){const e=Ba(a,u.value[0])||Ba(a,u.value[1]);return Fa(u.value,l.value,a)&&!e}return!1}return!1})(t),s="function"==typeof o.value?o.value({quarter:ce(t),year:L(t)}):!!o.value.quarters.find((e=>e.quarter===ce(t)&&e.year===L(t)));return{text:b(t,n),value:t,active:w.value(t),highlighted:s,disabled:r,isBetween:i}}))}));return{defaultedConfig:r,defaultedMultiCalendars:n,groupedYears:m,year:s,isDisabled:f,quarters:k,showYearPicker:y,modelValue:u,setHoverDate:e=>{l.value=e},selectYear:v,selectQuarter:(a,l,n)=>{if(!n)return c.value[l].month=U(de(a)),e.multiDates?(a=>{cl(a,u,e.multiDatesLimit),t("auto-apply",!0)})(a):e.range?(a=>{const l=pl(u,a,t);vl(l,t,e.autoApply,e.modelAuto)})(a):(e=>{u.value=e,t("auto-apply")})(a)},toggleYearPicker:h,handleYearSelect:g,handleYear:_}},tn={class:"dp--quarter-items"},ln=["disabled","onClick","onMouseover"],nn=t({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...jt},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(e,{expose:a,emit:t}){const n=t,r=e,o=l(),i=Bt(o,"yearMode"),{defaultedMultiCalendars:u,defaultedConfig:s,groupedYears:w,year:D,isDisabled:M,quarters:A,modelValue:T,showYearPicker:x,setHoverDate:S,selectQuarter:P,toggleYearPicker:N,handleYearSelect:V,handleYear:B}=an(r,n);return a({getSidebarProps:()=>({modelValue:T,year:D,selectQuarter:P,handleYearSelect:V,handleYear:B})}),(e,a)=>(d(),k(rl,{"multi-calendars":_(u).count,stretch:""},{default:y((({instance:a})=>[C("div",{class:"dp-quarter-picker-wrap",style:O({minHeight:`${_(s).modeHeight}px`})},[C("div",null,[p(dl,b(e.$props,{items:_(w)(a),instance:a,"show-year-picker":_(x)[a],year:_(D)(a),"is-disabled":e=>_(M)(a,e),onHandleYear:e=>_(B)(a,e),onYearSelect:e=>_(V)(e,a),onToggleYearPicker:e=>_(N)(a,null==e?void 0:e.flow,null==e?void 0:e.show)}),v({_:2},[m(_(i),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g(t)))]))})))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),C("div",tn,[(d(!0),c(Y,null,m(_(A)(a),((t,l)=>(d(),c("div",{key:l},[C("button",{type:"button",class:$(["dp--qr-btn",{"dp--qr-btn-active":t.active,"dp--qr-btn-between":t.isBetween,"dp--qr-btn-disabled":t.disabled,"dp--highlighted":t.highlighted}]),disabled:t.disabled,onClick:e=>_(P)(t.value,a,t.disabled),onMouseover:e=>_(S)(t.value)},[e.$slots.quarter?f(e.$slots,"quarter",{key:0,value:t.value,text:t.text}):(d(),c(Y,{key:1},[I(R(t.text),1)],64))],42,ln)])))),128))])],4)])),_:3},8,["multi-calendars"]))}}),rn=["id","onKeydown"],on={key:0,class:"dp__sidebar_left"},un={key:1,class:"dp--preset-dates"},sn=["onClick","onKeydown"],dn={key:2,class:"dp__sidebar_right"},cn={key:3,class:"dp__action_extra"},pn=t({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Lt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const s=o,p=t,w=i((()=>{const{openOnTop:e,...a}=p;return{...a,flowStep:G.value,noOverlayFocus:p.noOverlayFocus}})),{setMenuFocused:M,setShiftKey:T,control:x}=yt(),S=l(),{defaultedTextInput:I,defaultedInline:V,defaultedConfig:B}=$t(p),E=a(null),F=a(0),H=a(null),U=a(null),z=a(!1),L=a(null);r((()=>{if(!p.shadow){z.value=!0,j(),window.addEventListener("resize",j);const e=ka(H);if(e&&!I.value.enabled&&!V.value.enabled&&(M(!0),ae()),e){const a=e=>{B.value.allowPreventDefault&&e.preventDefault(),Pa(e,B.value,!0)};e.addEventListener("pointerdown",a),e.addEventListener("mousedown",a)}}})),u((()=>{window.removeEventListener("resize",j)}));const j=()=>{const e=ka(U);e&&(F.value=e.getBoundingClientRect().width)},{arrowRight:K,arrowLeft:W,arrowDown:q,arrowUp:Z}=Mt(),{flowStep:G,updateFlowStep:J,childMount:X,resetFlow:Q}=((t,l,n)=>{const r=a(0),o=e({[Nt.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Nt.calendar]:!1,[Nt.header]:!1}),i=(e,a,...l)=>{t.flow[r.value]===e&&n.value&&n.value[a](...l)},u=()=>{i(Yt.month,"toggleMonthPicker",!0),i(Yt.year,"toggleYearPicker",!0),i(Yt.calendar,"toggleTimePicker",!1,!0),i(Yt.time,"toggleTimePicker",!0,!0);const e=t.flow[r.value];(e===Yt.hours||e===Yt.minutes||e===Yt.seconds)&&i(e,"toggleTimePicker",!0,!0,e)};return{childMount:(...e)=>{var a;null!=(a=t.flow)&&a.length&&(o[e]=!0,Object.keys(o).filter((e=>!o[e])).length||u())},updateFlowStep:()=>{var e;null!=(e=t.flow)&&e.length&&-1!==r.value&&(r.value+=1,l("flow-step",r.value),u())},resetFlow:()=>{r.value=-1},flowStep:r}})(p,s,L),ee=i((()=>p.monthPicker?hl:p.yearPicker?_l:p.timePicker?Bl:p.quarterPicker?nn:en)),ae=()=>{const e=ka(H);e&&e.focus({preventScroll:!0})},te=i((()=>{var e;return(null==(e=L.value)?void 0:e.getSidebarProps())||{}})),le=()=>{p.openOnTop&&s("recalculate-position")},ne=Bt(S,"action"),re=i((()=>p.monthPicker||p.yearPicker?Bt(S,"monthYear"):p.timePicker?Bt(S,"timePicker"):Bt(S,"shared"))),oe=i((()=>p.openOnTop?"dp__arrow_bottom":"dp__arrow_top")),ie=i((()=>({dp__menu_disabled:p.disabled,dp__menu_readonly:p.readonly}))),ue=i((()=>({dp__menu:!0,dp__menu_index:!V.value.enabled,dp__relative:V.value.enabled,[p.menuClassName]:!!p.menuClassName}))),se=e=>{Pa(e,B.value,!0)},de=()=>{p.escClose&&s("close-picker")},ce=e=>{if(p.arrowNavigation){if("up"===e)return Z();if("down"===e)return q();if("left"===e)return W();if("right"===e)return K()}else"left"===e||"up"===e?me("handleArrow","left",0,"up"===e):me("handleArrow","right",0,"down"===e)},pe=e=>{T(e.shiftKey),!p.disableMonthYearSelect&&"Tab"===e.code&&e.target.classList.contains("dp__menu")&&x.value.shiftKeyInMenu&&(e.preventDefault(),Pa(e,B.value,!0),s("close-picker"))},ve=()=>{ae(),s("time-picker-close")},me=(e,...a)=>{var t,l;null!=(t=L.value)&&t[e]&&(null==(l=L.value)||l[e](...a))},ye=()=>{me("selectCurrentDate")},fe=(e,a)=>{me("presetDate",e,a)},he=()=>{me("clearHoverDate")};return n({updateMonthYear:(e,a)=>{me("updateMonthYear",e,a)},switchView:(e,a=0)=>{var t,l,n;return"month"===e?null==(t=L.value)?void 0:t.toggleMonthPicker(!1,!0,a):"year"===e?null==(l=L.value)?void 0:l.toggleYearPicker(!1,!0,a):"time"===e?null==(n=L.value)?void 0:n.toggleTimePicker(!0,!1):(e=>{var a,t,l;null==(a=L.value)||a.toggleTimePicker(!1,!1),null==(t=L.value)||t.toggleMonthPicker(!1,!1,e),null==(l=L.value)||l.toggleYearPicker(!1,!1,e)})(a)}}),(e,a)=>{var t;return d(),c("div",{id:e.uid?`dp-menu-${e.uid}`:void 0,ref_key:"dpMenuRef",ref:H,tabindex:"0",role:"dialog",class:$(ue.value),onMouseleave:he,onClick:se,onKeydown:[P(de,["esc"]),a[18]||(a[18]=P(N((e=>ce("left")),["prevent"]),["left"])),a[19]||(a[19]=P(N((e=>ce("up")),["prevent"]),["up"])),a[20]||(a[20]=P(N((e=>ce("down")),["prevent"]),["down"])),a[21]||(a[21]=P(N((e=>ce("right")),["prevent"]),["right"])),pe]},[(e.disabled||e.readonly)&&_(V).enabled?(d(),c("div",{key:0,class:$(ie.value)},null,2)):A("",!0),_(V).enabled||e.teleportCenter?A("",!0):(d(),c("div",{key:1,class:$(oe.value)},null,2)),C("div",{ref_key:"innerMenuRef",ref:U,class:$({dp__menu_content_wrapper:(null==(t=e.presetDates)?void 0:t.length)||!!e.$slots["left-sidebar"]||!!e.$slots["right-sidebar"]}),style:O({"--dp-menu-width":`${F.value}px`})},[e.$slots["left-sidebar"]?(d(),c("div",on,[f(e.$slots,"left-sidebar",h(g(te.value)))])):A("",!0),e.presetDates.length?(d(),c("div",un,[(d(!0),c(Y,null,m(e.presetDates,((a,t)=>(d(),c(Y,{key:t},[a.slot?f(e.$slots,a.slot,{key:0,presetDate:fe,label:a.label,value:a.value}):(d(),c("button",{key:1,type:"button",style:O(a.style||{}),class:"dp__btn dp--preset-range",onClick:N((e=>fe(a.value,a.noTz)),["prevent"]),onKeydown:[P(N((e=>fe(a.value,a.noTz)),["prevent"]),["enter"]),P(N((e=>fe(a.value,a.noTz)),["prevent"]),["space"])]},R(a.label),45,sn))],64)))),128))])):A("",!0),C("div",{ref_key:"calendarWrapperRef",ref:E,class:"dp__instance_calendar",role:"document"},[(d(),k(D(ee.value),b({ref_key:"dynCmpRef",ref:L},w.value,{"flow-step":_(G),onMount:_(X),onUpdateFlowStep:_(J),onResetFlow:_(Q),onFocusMenu:ae,onSelectDate:a[0]||(a[0]=a=>e.$emit("select-date")),onDateUpdate:a[1]||(a[1]=a=>e.$emit("date-update",a)),onTooltipOpen:a[2]||(a[2]=a=>e.$emit("tooltip-open",a)),onTooltipClose:a[3]||(a[3]=a=>e.$emit("tooltip-close",a)),onAutoApply:a[4]||(a[4]=a=>e.$emit("auto-apply",a)),onRangeStart:a[5]||(a[5]=a=>e.$emit("range-start",a)),onRangeEnd:a[6]||(a[6]=a=>e.$emit("range-end",a)),onInvalidFixedRange:a[7]||(a[7]=a=>e.$emit("invalid-fixed-range",a)),onTimeUpdate:a[8]||(a[8]=a=>e.$emit("time-update")),onAmPmChange:a[9]||(a[9]=a=>e.$emit("am-pm-change",a)),onTimePickerOpen:a[10]||(a[10]=a=>e.$emit("time-picker-open",a)),onTimePickerClose:ve,onRecalculatePosition:le,onUpdateMonthYear:a[11]||(a[11]=a=>e.$emit("update-month-year",a)),onAutoApplyInvalid:a[12]||(a[12]=a=>e.$emit("auto-apply-invalid",a)),onInvalidDate:a[13]||(a[13]=a=>e.$emit("invalid-date",a)),"onUpdate:internalModelValue":a[14]||(a[14]=a=>e.$emit("update:internal-model-value",a))}),v({_:2},[m(re.value,((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g({...t})))]))})))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),e.$slots["right-sidebar"]?(d(),c("div",dn,[f(e.$slots,"right-sidebar",h(g(te.value)))])):A("",!0),e.$slots["action-extra"]?(d(),c("div",cn,[e.$slots["action-extra"]?f(e.$slots,"action-extra",{key:0,selectCurrentDate:ye}):A("",!0)])):A("",!0)],6),!e.autoApply||_(B).keepActionRow?(d(),k(Qt,b({key:2,"menu-mount":z.value},w.value,{"calendar-width":F.value,onClosePicker:a[15]||(a[15]=a=>e.$emit("close-picker")),onSelectDate:a[16]||(a[16]=a=>e.$emit("select-date")),onInvalidSelect:a[17]||(a[17]=a=>e.$emit("invalid-select")),onSelectNow:ye}),v({_:2},[m(_(ne),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g({...t})))]))})))]),1040,["menu-mount","calendar-width"])):A("",!0)],42,rn)}}}),vn=typeof window<"u"?window:void 0,mn=()=>{},yn=(e,a,t,l)=>{if(!e)return mn;let n=mn;const r=s((()=>_(e)),(e=>{n(),e&&(e.addEventListener(a,t,l),n=()=>{e.removeEventListener(a,t,l),n=mn})}),{immediate:!0,flush:"post"}),o=()=>{r(),n()};return(e=>{!!F()&&H(e)})(o),o},fn=t({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Lt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(e,{expose:t,emit:x}){const S=x,P=e,C=l(),N=a(!1),Y=n(P,"modelValue"),O=n(P,"timezone"),R=a(null),I=a(null),V=a(null),B=a(!1),E=a(null),F=a(!1),{setMenuFocused:H,setShiftKey:U}=yt(),{clearArrowNav:z}=Mt(),{mapDatesArrToMap:L,validateDate:j,isValidTime:K}=Ut(P),{defaultedTransitions:W,defaultedTextInput:q,defaultedInline:Z,defaultedConfig:G}=$t(P),{menuTransition:J,showTransition:X}=Et(W);r((()=>{de(P.modelValue),o().then((()=>{Z.value.enabled||(oe(E.value).addEventListener("scroll",ge),window.addEventListener("resize",_e))})),Z.value.enabled&&(N.value=!0),G.value.tabOutClosesMenu&&document.addEventListener("keyup",be)}));const Q=i((()=>L()));u((()=>{if(!Z.value.enabled){const e=oe(E.value);e&&e.removeEventListener("scroll",ge),window.removeEventListener("resize",_e)}G.value.tabOutClosesMenu&&document.removeEventListener("keyup",be)}));const ee=Bt(C,"all",P.presetDates),ae=Bt(C,"input");s([Y,O],(()=>{de(Y.value)}),{deep:!0});const{openOnTop:te,menuStyle:le,xCorrect:ne,setMenuPosition:re,getScrollableParent:oe,shadowRender:ie}=Ot({menuRef:R,menuRefInner:I,inputRef:V,pickerWrapperRef:E,inline:Z,emit:S,props:P,slots:C}),{inputValue:ue,internalModelValue:se,parseExternalModelValue:de,emitModelValue:ce,formatInputValue:pe,checkBeforeEmit:ve}=xt(S,P,B),me=i((()=>({dp__main:!0,dp__theme_dark:P.dark,dp__theme_light:!P.dark,dp__flex_display:Z.value.enabled,dp__flex_display_with_input:Z.value.input}))),ye=i((()=>P.dark?"dp__theme_dark":"dp__theme_light")),fe=i((()=>P.teleport?{to:"boolean"==typeof P.teleport?"body":P.teleport,disabled:Z.value.enabled}:{class:"dp__outer_menu_wrap"})),he=i((()=>Z.value.enabled&&(P.timePicker||P.monthPicker||P.yearPicker||P.quarterPicker))),ge=()=>{N.value&&(G.value.closeOnScroll?Se():re())},_e=()=>{N.value&&re()},be=e=>{"Tab"===e.key&&!Z.value.enabled&&!P.teleport&&(E.value.contains(document.activeElement)||Se())},we=()=>{!P.disabled&&!P.readonly&&(ie(pn,P),re(!1),N.value=!0,N.value&&S("open"),N.value||xe(),de(P.modelValue))},ke=()=>{var e;ue.value="",xe(),null==(e=V.value)||e.setParsedDate(null),S("update:model-value",null),S("update:model-timezone-value",null),S("cleared"),G.value.closeOnClearValue&&Se()},De=()=>{const e=se.value;return!(e&&(Array.isArray(e)||!j(e)))||!!Array.isArray(e)&&(!!(P.multiDates||2===e.length&&j(e[0])&&j(e[1]))||!(!P.partialRange||P.timePicker)&&j(e[0]))},Me=()=>{ve()&&De()?(ce(),Se()):S("invalid-select",se.value)},Ae=e=>{Te(),ce(),G.value.closeOnAutoApply&&!e&&Se()},Te=()=>{V.value&&q.value.enabled&&V.value.setParsedDate(se.value)},$e=(e=!1)=>{P.autoApply&&K(se.value)&&De()&&(P.range&&Array.isArray(se.value)?(P.partialRange||2===se.value.length)&&Ae(e):Ae(e))},xe=()=>{q.value.enabled||(se.value=null)},Se=()=>{Z.value.enabled||(N.value&&(N.value=!1,ne.value=!1,H(!1),U(!1),z(),S("closed"),ue.value&&de(Y.value)),xe(),S("blur"))},Pe=(e,a,t=!1)=>{if(!e)return void(se.value=null);const l=Array.isArray(e)?!e.some((e=>!j(e))):j(e),n=K(e);l&&n&&(se.value=e,a&&(F.value=t,Me(),S("text-submit")))},Ce=()=>{P.autoApply&&K(se.value)&&ce(),Te()},Ne=()=>N.value?Se():we(),Ye=()=>{q.value.enabled&&(B.value=!0,pe()),S("focus")},Oe=()=>{if(q.value.enabled&&(B.value=!1,de(P.modelValue),F.value)){const e=(e=>{if(!e)return null;let a=e;for(;a;)if(a=Ca(a),Na(a))return a;return null})(E.value);null==e||e.focus()}S("blur")};return((e,a,t,l={})=>{const{window:n=vn,event:r="pointerdown"}=l;n&&yn(n,r,(l=>{const n=ka(e),r=ka(a);!n||!r||n===l.target||l.composedPath().includes(n)||l.composedPath().includes(r)||t(l)}),{passive:!0})})(R,V,(()=>{return e=De,G.value.onClickOutside?G.value.onClickOutside(e):Se();var e})),t({closeMenu:Se,selectDate:Me,clearValue:ke,openMenu:we,onScroll:ge,formatInputValue:pe,updateInternalModelValue:e=>{se.value=e},setMonthYear:e=>{I.value&&I.value.updateMonthYear(0,{month:Ta(e.month),year:Ta(e.year)})},parseModel:e=>{de(e??P.modelValue)},switchView:(e,a)=>{var t;null==(t=I.value)||t.switchView(e,a)},toggleMenu:Ne}),(e,a)=>(d(),c("div",{ref_key:"pickerWrapperRef",ref:E,class:$(me.value)},[p(Zt,b({ref_key:"inputRef",ref:V,"input-value":_(ue),"onUpdate:inputValue":a[0]||(a[0]=e=>w(ue)?ue.value=e:null),"is-menu-open":N.value},e.$props,{onClear:ke,onOpen:we,onSetInputDate:Pe,onSetEmptyDate:_(ce),onSelectDate:Me,onToggle:Ne,onClose:Se,onFocus:Ye,onBlur:Oe,onRealBlur:a[1]||(a[1]=e=>B.value=!1)}),v({_:2},[m(_(ae),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g(t)))]))})))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),p(T,{name:_(J)(_(te)),css:_(X)&&!_(Z).enabled},{default:y((()=>[N.value?(d(),k(D(e.teleport?M:"div"),b({key:0,ref_key:"dpWrapMenuRef",ref:R},fe.value,{class:{"dp--menu-wrapper":!_(Z).enabled},style:_(Z).enabled?void 0:_(le)}),{default:y((()=>[p(pn,b({ref_key:"dpMenuRef",ref:I},e.$props,{"internal-model-value":_(se),"onUpdate:internalModelValue":a[2]||(a[2]=e=>w(se)?se.value=e:null),class:{[ye.value]:!0,"dp--menu-wrapper":e.teleport},style:e.teleport?_(le):void 0,"open-on-top":_(te),"arr-map-values":Q.value,"no-overlay-focus":he.value,onClosePicker:Se,onSelectDate:Me,onAutoApply:$e,onTimeUpdate:Ce,onFlowStep:a[3]||(a[3]=a=>e.$emit("flow-step",a)),onUpdateMonthYear:a[4]||(a[4]=a=>e.$emit("update-month-year",a)),onInvalidSelect:a[5]||(a[5]=a=>e.$emit("invalid-select",_(se))),onAutoApplyInvalid:a[6]||(a[6]=a=>e.$emit("invalid-select",a)),onInvalidFixedRange:a[7]||(a[7]=a=>e.$emit("invalid-fixed-range",a)),onRecalculatePosition:_(re),onTooltipOpen:a[8]||(a[8]=a=>e.$emit("tooltip-open",a)),onTooltipClose:a[9]||(a[9]=a=>e.$emit("tooltip-close",a)),onTimePickerOpen:a[10]||(a[10]=a=>e.$emit("time-picker-open",a)),onTimePickerClose:a[11]||(a[11]=a=>e.$emit("time-picker-close",a)),onAmPmChange:a[12]||(a[12]=a=>e.$emit("am-pm-change",a)),onRangeStart:a[13]||(a[13]=a=>e.$emit("range-start",a)),onRangeEnd:a[14]||(a[14]=a=>e.$emit("range-end",a)),onDateUpdate:a[15]||(a[15]=a=>e.$emit("date-update",a)),onInvalidDate:a[16]||(a[16]=a=>e.$emit("invalid-date",a))}),v({_:2},[m(_(ee),((a,t)=>({name:a,fn:y((t=>[f(e.$slots,a,h(g({...t})))]))})))]),1040,["internal-model-value","class","style","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])])),_:3},16,["class","style"])):A("",!0)])),_:3},8,["name","css"])],2))}}),hn=(()=>{const e=fn;return e.install=a=>{a.component("Vue3DatePicker",e)},e})(),gn=Object.freeze(Object.defineProperty({__proto__:null,default:hn},Symbol.toStringTag,{value:"Module"}));Object.entries(gn).forEach((([e,a])=>{"default"!==e&&(hn[e]=a)}));export{hn as j};
