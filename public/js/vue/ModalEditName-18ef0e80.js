import{r as t,o as e,h as a,a as s,w as i,f as n,I as o,d as r,k as l}from"./app-667dfa05.js";const d={style:{width:"420px"}},p={props:{item:Object,url:{type:[Object,Array,String],default:""},flash:Object},data(){var t="";return this.url.parentId&&(t=this.url.parentId),{parentId:t,toast:l.useToast({position:"top-right",style:{zIndex:"200"}})}},methods:{closeDialog(){this.$emit("update:dialog",!1)},saveSetting(){const t=JSON.stringify(this.item),e=new FormData;e.append("data",t),e.append("parentId",this.parentId),fetch(route(this.url.path),{method:"POST",body:e}).then((t=>{if(t.ok)return t.json();throw setTimeout((()=>{this.toast.open({message:"ERROR",type:"warning"})}),1e3),new Error("Có lỗi khi gửi yêu cầu POST.")})).then((t=>{t.warning?setTimeout((()=>{this.toast.open({message:t.warning,type:"warning"})}),1e3):(setTimeout((()=>{this.toast.open({message:"Update success",type:"success"})}),1e3),this.$emit("update:componentLoad",(new Date).getTime()),this.$emit("update:dialog",!1))})).catch((t=>{setTimeout((()=>{this.toast.open({message:"ERROR",type:"warning"})}),1e3),console.error(t)}))}}},u=Object.assign(p,{__name:"ModalEditName",setup:l=>(p,u)=>{const m=t("v-toolbar"),c=t("v-card-text"),h=t("v-btn"),g=t("v-card-actions");return e(),a("div",d,[s(m,{density:"compact",title:"Edit Name Asset"}),s(c,null,{default:i((()=>[n("div",null,[s(o,{name:"title",label:"Title",modelValue:l.item.file,"onUpdate:modelValue":u[0]||(u[0]=t=>l.item.file=t)},null,8,["modelValue"])])])),_:1}),s(g,{class:"justify-end"},{default:i((()=>[s(h,{variant:"elevated",class:"btn-primary",onClick:u[1]||(u[1]=t=>p.saveSetting())},{default:i((()=>[r(" Save ")])),_:1})])),_:1})])}});export{u as default};
