import{B as e}from"./axios-3d65c6bd.js";import{t}from"./deepmerge-3a6ffb65.js";import{s as r}from"./side-channel-e57be611.js";import{u as n}from"./nprogress-9c4c7d08.js";import{r as i,s as o,b as s,h as a,e as l,w as c,d as p,m as d,f as u,i as h}from"./@vue-9ee83fb6.js";import{a as f}from"./lodash.clonedeep-c1370659.js";import{R as m}from"./lodash.isequal-feeae999.js";var g=String.prototype.replace,y=/%20/g,v="RFC3986",b={default:v,formatters:{RFC1738:function(e){return g.call(e,y,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:v},w=b,S=Object.prototype.hasOwnProperty,O=Array.isArray,j=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),E=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},k={arrayToObject:E,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var l=s[a],c=o[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:l}),r.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(O(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(i){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",a=0;a<o.length;++a){var l=o.charCodeAt(a);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===w.RFC1738&&(40===l||41===l)?s+=o.charAt(a):l<128?s+=j[l]:l<2048?s+=j[192|l>>6]+j[128|63&l]:l<55296||l>=57344?s+=j[224|l>>12]+j[128|l>>6&63]+j[128|63&l]:(a+=1,l=65536+((1023&l)<<10|1023&o.charCodeAt(a)),s+=j[240|l>>18]+j[128|l>>12&63]+j[128|l>>6&63]+j[128|63&l])}return s},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(O(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(O(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!S.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var i=t;return O(t)&&!O(r)&&(i=E(t,n)),O(t)&&O(r)?(r.forEach((function(r,i){if(S.call(t,i)){var o=t[i];o&&"object"==typeof o&&r&&"object"==typeof r?t[i]=e(o,r,n):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var o=r[i];return S.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t}),i)}},P=r,x=k,C=b,T=Object.prototype.hasOwnProperty,N={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},L=Array.isArray,A=Array.prototype.push,V=function(e,t){A.apply(e,L(t)?t:[t])},F=Date.prototype.toISOString,$=C.default,I={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:x.encode,encodeValuesOnly:!1,format:$,formatter:C.formatters[$],indices:!1,serializeDate:function(e){return F.call(e)},skipNulls:!1,strictNullHandling:!1},R={},_=function e(t,r,n,i,o,s,a,l,c,p,d,u,h,f,m,g){for(var y,v=t,b=g,w=0,S=!1;void 0!==(b=b.get(R))&&!S;){var O=b.get(t);if(w+=1,void 0!==O){if(O===w)throw new RangeError("Cyclic object value");S=!0}void 0===b.get(R)&&(w=0)}if("function"==typeof l?v=l(r,v):v instanceof Date?v=d(v):"comma"===n&&L(v)&&(v=x.maybeMap(v,(function(e){return e instanceof Date?d(e):e}))),null===v){if(o)return a&&!f?a(r,I.encoder,m,"key",u):r;v=""}if("string"==typeof(y=v)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||x.isBuffer(v))return a?[h(f?r:a(r,I.encoder,m,"key",u))+"="+h(a(v,I.encoder,m,"value",u))]:[h(r)+"="+h(String(v))];var j,E=[];if(void 0===v)return E;if("comma"===n&&L(v))f&&a&&(v=x.maybeMap(v,a)),j=[{value:v.length>0?v.join(",")||null:void 0}];else if(L(l))j=l;else{var k=Object.keys(v);j=c?k.sort(c):k}for(var C=i&&L(v)&&1===v.length?r+"[]":r,T=0;T<j.length;++T){var N=j[T],A="object"==typeof N&&void 0!==N.value?N.value:v[N];if(!s||null!==A){var F=L(v)?"function"==typeof n?n(C,N):C:C+(p?"."+N:"["+N+"]");g.set(t,w);var $=P();$.set(R,g),V(E,e(A,F,n,i,o,s,"comma"===n&&f&&L(v)?null:a,l,c,p,d,u,h,f,m,$))}}return E},D=k,B=Object.prototype.hasOwnProperty,H=Array.isArray,M={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:D.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},q=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},U=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},z=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(i),a=s?i.slice(0,s.index):i,l=[];if(a){if(!r.plainObjects&&B.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var c=0;r.depth>0&&null!==(s=o.exec(i))&&c<r.depth;){if(c+=1,!r.plainObjects&&B.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,t,r,n){for(var i=n?t:U(t,r),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[])[c]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i}(l,t,r,n)}},Q={formats:b,parse:function(e,t){var r=function(e){if(!e)return M;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?M.charset:e.charset;return{allowDots:void 0===e.allowDots?M.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:M.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:M.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:M.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:M.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:M.comma,decoder:"function"==typeof e.decoder?e.decoder:M.decoder,delimiter:"string"==typeof e.delimiter||D.isRegExp(e.delimiter)?e.delimiter:M.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:M.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:M.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:M.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:M.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:M.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o),a=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<s.length;++r)0===s[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[r]?l="utf-8":"utf8=%26%2310003%3B"===s[r]&&(l="iso-8859-1"),a=r,r=s.length);for(r=0;r<s.length;++r)if(r!==a){var c,p,d=s[r],u=d.indexOf("]="),h=-1===u?d.indexOf("="):u+1;-1===h?(c=t.decoder(d,M.decoder,l,"key"),p=t.strictNullHandling?null:""):(c=t.decoder(d.slice(0,h),M.decoder,l,"key"),p=D.maybeMap(U(d.slice(h+1),t),(function(e){return t.decoder(e,M.decoder,l,"value")}))),p&&t.interpretNumericEntities&&"iso-8859-1"===l&&(p=q(p)),d.indexOf("[]=")>-1&&(p=H(p)?[p]:p),B.call(n,c)?n[c]=D.combine(n[c],p):n[c]=p}return n}(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],l=z(a,n[a],r,"string"==typeof e);i=D.merge(i,l,r)}return!0===r.allowSparse?i:D.compact(i)},stringify:function(e,t){var r,n=e,i=function(e){if(!e)return I;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||I.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=C.default;if(void 0!==e.format){if(!T.call(C.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=C.formatters[r],i=I.filter;return("function"==typeof e.filter||L(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:I.addQueryPrefix,allowDots:void 0===e.allowDots?I.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:I.charsetSentinel,delimiter:void 0===e.delimiter?I.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:I.encode,encoder:"function"==typeof e.encoder?e.encoder:I.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:I.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:I.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:I.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:I.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):L(i.filter)&&(r=i.filter);var o,s=[];if("object"!=typeof n||null===n)return"";o=t&&t.arrayFormat in N?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var a=N[o];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l="comma"===a&&t&&t.commaRoundTrip;r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);for(var c=P(),p=0;p<r.length;++p){var d=r[p];i.skipNulls&&null===n[d]||V(s,_(n[d],d,a,l,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var u=s.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),u.length>0?h+u:""}};function W(e,t){let r;return function(...n){clearTimeout(r),r=setTimeout((()=>e.apply(this,n)),t)}}function X(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var J=e=>X("finish",{detail:{visit:e}}),K=e=>X("navigate",{detail:{page:e}});function Y(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some((e=>Y(e)))||"object"==typeof e&&null!==e&&Object.values(e).some((e=>Y(e)))}function G(e,t=new FormData,r=null){e=e||{};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&ee(t,Z(r,n),e[n]);return t}function Z(e,t){return e?e+"["+t+"]":t}function ee(e,t,r){return Array.isArray(r)?Array.from(r.keys()).forEach((n=>ee(e,Z(t,n.toString()),r[n]))):r instanceof Date?e.append(t,r.toISOString()):r instanceof File?e.append(t,r,r.name):r instanceof Blob?e.append(t,r):"boolean"==typeof r?e.append(t,r?"1":"0"):"string"==typeof r?e.append(t,r):"number"==typeof r?e.append(t,`${r}`):null==r?e.append(t,""):void G(r,e,t)}var te={modal:null,listener:null,show(e){"object"==typeof e&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);let t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach((e=>e.setAttribute("target","_top"))),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",(()=>this.hide()));let r=document.createElement("iframe");if(r.style.backgroundColor="white",r.style.borderRadius="5px",r.style.width="100%",r.style.height="100%",this.modal.appendChild(r),document.body.prepend(this.modal),document.body.style.overflow="hidden",!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(t.outerHTML),r.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){27===e.keyCode&&this.hide()}};function re(e){return new URL(e.toString(),window.location.toString())}function ne(e,r,n,i="brackets"){let o=/^https?:\/\//.test(r.toString()),s=o||r.toString().startsWith("/"),a=!s&&!r.toString().startsWith("#")&&!r.toString().startsWith("?"),l=r.toString().includes("?")||"get"===e&&Object.keys(n).length,c=r.toString().includes("#"),p=new URL(r.toString(),"http://localhost");return"get"===e&&Object.keys(n).length&&(p.search=Q.stringify(t(Q.parse(p.search,{ignoreQueryPrefix:!0}),n),{encodeValuesOnly:!0,arrayFormat:i}),n={}),[[o?`${p.protocol}//${p.host}`:"",s?p.pathname:"",a?p.pathname.substring(1):"",l?p.search:"",c?p.hash:""].join(""),n]}function ie(e){return(e=new URL(e.href)).hash="",e}var oe=typeof window>"u",se={buildDOMElement(e){let t=document.createElement("template");t.innerHTML=e;let r=t.content.firstChild;if(!e.startsWith("<script "))return r;let n=document.createElement("script");return n.innerHTML=r.innerHTML,r.getAttributeNames().forEach((e=>{n.setAttribute(e,r.getAttribute(e)||"")})),n},isInertiaManagedElement:e=>e.nodeType===Node.ELEMENT_NODE&&null!==e.getAttribute("inertia"),findMatchingElementIndex(e,t){let r=e.getAttribute("inertia");return null!==r?t.findIndex((e=>e.getAttribute("inertia")===r)):-1},update:W((function(e){let t=e.map((e=>this.buildDOMElement(e)));Array.from(document.head.childNodes).filter((e=>this.isInertiaManagedElement(e))).forEach((e=>{var r,n;let i=this.findMatchingElementIndex(e,t);if(-1===i)return void(null==(r=null==e?void 0:e.parentNode)||r.removeChild(e));let o=t.splice(i,1)[0];o&&!e.isEqualNode(o)&&(null==(n=null==e?void 0:e.parentNode)||n.replaceChild(o,e))})),t.forEach((e=>document.head.appendChild(e)))}),1)};function ae(e,t,r){let n={},i=0;function o(){let e=t(""),r={...e?{title:`<title inertia="">${e}</title>`}:{}},i=Object.values(n).reduce(((e,t)=>e.concat(t)),[]).reduce(((e,r)=>{if(-1===r.indexOf("<"))return e;if(0===r.indexOf("<title ")){let n=r.match(/(<title [^>]+>)(.*?)(<\/title>)/);return e.title=n?`${n[1]}${t(n[2])}${n[3]}`:r,e}let n=r.match(/ inertia="[^"]+"/);return n?e[n[0]]=r:e[Object.keys(e).length]=r,e}),r);return Object.values(i)}function s(){e?r(o()):se.update(o())}return s(),{forceUpdate:s,createProvider:function(){let e=function(){let e=i+=1;return n[e]=[],e.toString()}();return{update:t=>function(e,t=[]){null!==e&&Object.keys(n).indexOf(e)>-1&&(n[e]=t),s()}(e,t),disconnect:()=>function(e){null===e||-1===Object.keys(n).indexOf(e)||(delete n[e],s())}(e)}}}}var le=null;function ce(e){document.addEventListener("inertia:start",pe.bind(null,e)),document.addEventListener("inertia:progress",de),document.addEventListener("inertia:finish",ue)}function pe(e){le=setTimeout((()=>n.start()),e)}function de(e){var t;n.isStarted()&&(null==(t=e.detail.progress)?void 0:t.percentage)&&n.set(Math.max(n.status,e.detail.progress.percentage/100*.9))}function ue(e){clearTimeout(le),n.isStarted()&&(e.detail.visit.completed?n.done():e.detail.visit.interrupted?n.set(0):e.detail.visit.cancelled&&(n.done(),n.remove()))}function he({delay:e=250,color:t="#29d",includeCSS:r=!0,showSpinner:i=!1}={}){ce(e),n.configure({showSpinner:i}),r&&function(e){let t=document.createElement("style");t.type="text/css",t.textContent=`\n    #nprogress {\n      pointer-events: none;\n    }\n\n    #nprogress .bar {\n      background: ${e};\n\n      position: fixed;\n      z-index: 1031;\n      top: 0;\n      left: 0;\n\n      width: 100%;\n      height: 2px;\n    }\n\n    #nprogress .peg {\n      display: block;\n      position: absolute;\n      right: 0px;\n      width: 100px;\n      height: 100%;\n      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};\n      opacity: 1.0;\n\n      -webkit-transform: rotate(3deg) translate(0px, -4px);\n          -ms-transform: rotate(3deg) translate(0px, -4px);\n              transform: rotate(3deg) translate(0px, -4px);\n    }\n\n    #nprogress .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px;\n    }\n\n    #nprogress .spinner-icon {\n      width: 18px;\n      height: 18px;\n      box-sizing: border-box;\n\n      border: solid 2px transparent;\n      border-top-color: ${e};\n      border-left-color: ${e};\n      border-radius: 50%;\n\n      -webkit-animation: nprogress-spinner 400ms linear infinite;\n              animation: nprogress-spinner 400ms linear infinite;\n    }\n\n    .nprogress-custom-parent {\n      overflow: hidden;\n      position: relative;\n    }\n\n    .nprogress-custom-parent #nprogress .spinner,\n    .nprogress-custom-parent #nprogress .bar {\n      position: absolute;\n    }\n\n    @-webkit-keyframes nprogress-spinner {\n      0%   { -webkit-transform: rotate(0deg); }\n      100% { -webkit-transform: rotate(360deg); }\n    }\n    @keyframes nprogress-spinner {\n      0%   { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  `,document.head.appendChild(t)}(t)}var fe=new class{constructor(){this.visitId=null}init({initialPage:e,resolveComponent:t,swapComponent:r}){this.page=e,this.resolveComponent=t,this.swapComponent=r,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var e;"reload"===this.navigationType&&(null==(e=window.history.state)?void 0:e.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(e){this.page.url+=window.location.hash,this.setPage(e,{preserveState:!0}).then((()=>K(e)))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",W(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(e){"function"==typeof e.target.hasAttribute&&e.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map((e=>({top:e.scrollTop,left:e.scrollLeft})))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach((e=>{"function"==typeof e.scrollTo?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)})),this.saveScrollPositions(),window.location.hash&&setTimeout((()=>{var e;return null==(e=document.getElementById(window.location.hash.slice(1)))?void 0:e.scrollIntoView()}))}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach(((e,t)=>{let r=this.page.scrollRegions[t];r&&("function"==typeof e.scrollTo?e.scrollTo(r.left,r.top):(e.scrollTop=r.top,e.scrollLeft=r.left))}))}isBackForwardVisit(){return window.history.state&&"back_forward"===this.navigationType}handleBackForwardVisit(e){window.history.state.version=e.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then((()=>{this.restoreScrollPositions(),K(e)}))}locationVisit(e,t){try{let r={preserveScroll:t};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(r)),window.location.href=e.href,ie(window.location).href===ie(e).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return null!==window.sessionStorage.getItem("inertiaLocationVisit")}catch{return!1}}handleLocationVisit(e){var t,r;let n=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),e.url+=window.location.hash,e.rememberedState=(null==(t=window.history.state)?void 0:t.rememberedState)??{},e.scrollRegions=(null==(r=window.history.state)?void 0:r.scrollRegions)??[],this.setPage(e,{preserveScroll:n.preserveScroll,preserveState:!0}).then((()=>{n.preserveScroll&&this.restoreScrollPositions(),K(e)}))}isLocationVisitResponse(e){return!(!e||409!==e.status||!e.headers["x-inertia-location"])}isInertiaResponse(e){return!!(null==e?void 0:e.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(e,{cancelled:t=!1,interrupted:r=!1}){e&&!e.completed&&!e.cancelled&&!e.interrupted&&(e.cancelToken.abort(),e.onCancel(),e.completed=!1,e.cancelled=t,e.interrupted=r,J(e),e.onFinish(e))}finishVisit(e){!e.cancelled&&!e.interrupted&&(e.completed=!0,e.cancelled=!1,e.interrupted=!1,J(e),e.onFinish(e))}resolvePreserveOption(e,t){return"function"==typeof e?e(t):"errors"===e?Object.keys(t.props.errors||{}).length>0:e}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(t,{method:r="get",data:n={},replace:i=!1,preserveScroll:o=!1,preserveState:s=!1,only:a=[],headers:l={},errorBag:c="",forceFormData:p=!1,onCancelToken:d=(()=>{}),onBefore:u=(()=>{}),onStart:h=(()=>{}),onProgress:f=(()=>{}),onFinish:m=(()=>{}),onCancel:g=(()=>{}),onSuccess:y=(()=>{}),onError:v=(()=>{}),queryStringArrayFormat:b="brackets"}={}){let w="string"==typeof t?re(t):t;if((Y(n)||p)&&!(n instanceof FormData)&&(n=G(n)),!(n instanceof FormData)){let[e,t]=ne(r,w,n,b);w=re(e),n=t}let S={url:w,method:r,data:n,replace:i,preserveScroll:o,preserveState:s,only:a,headers:l,errorBag:c,forceFormData:p,queryStringArrayFormat:b,cancelled:!1,completed:!1,interrupted:!1};if(!1===u(S)||!X("before",{cancelable:!0,detail:{visit:S}}))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let O=this.createVisitId();this.activeVisit={...S,onCancelToken:d,onBefore:u,onStart:h,onProgress:f,onFinish:m,onCancel:g,onSuccess:y,onError:v,queryStringArrayFormat:b,cancelToken:new AbortController},d({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),(e=>{X("start",{detail:{visit:e}})})(S),h(S),e({method:r,url:ie(w).href,data:"get"===r?{}:n,params:"get"===r?n:{},signal:this.activeVisit.cancelToken.signal,headers:{...l,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...a.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":a.join(",")}:{},...c&&c.length?{"X-Inertia-Error-Bag":c}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:e=>{n instanceof FormData&&(e.percentage=e.progress?Math.round(100*e.progress):0,(e=>{X("progress",{detail:{progress:e}})})(e),f(e))}}).then((e=>{var t;if(!this.isInertiaResponse(e))return Promise.reject({response:e});let r=e.data;a.length&&r.component===this.page.component&&(r.props={...this.page.props,...r.props}),o=this.resolvePreserveOption(o,r),(s=this.resolvePreserveOption(s,r))&&(null==(t=window.history.state)?void 0:t.rememberedState)&&r.component===this.page.component&&(r.rememberedState=window.history.state.rememberedState);let n=w,l=re(r.url);return n.hash&&!l.hash&&ie(n).href===l.href&&(l.hash=n.hash,r.url=l.href),this.setPage(r,{visitId:O,replace:i,preserveScroll:o,preserveState:s})})).then((()=>{let e=this.page.props.errors||{};if(Object.keys(e).length>0){let t=c?e[c]?e[c]:{}:e;return(e=>{X("error",{detail:{errors:e}})})(t),v(t)}return(e=>{X("success",{detail:{page:e}})})(this.page),y(this.page)})).catch((e=>{if(this.isInertiaResponse(e.response))return this.setPage(e.response.data,{visitId:O});if(this.isLocationVisitResponse(e.response)){let t=re(e.response.headers["x-inertia-location"]),r=w;r.hash&&!t.hash&&ie(r).href===t.href&&(t.hash=r.hash),this.locationVisit(t,!0===o)}else{if(!e.response)return Promise.reject(e);(e=>X("invalid",{cancelable:!0,detail:{response:e}}))(e.response)&&te.show(e.response.data)}})).then((()=>{this.activeVisit&&this.finishVisit(this.activeVisit)})).catch((t=>{if(!e.isCancel(t)){let e=(e=>X("exception",{cancelable:!0,detail:{exception:e}}))(t);if(this.activeVisit&&this.finishVisit(this.activeVisit),e)return Promise.reject(t)}}))}setPage(e,{visitId:t=this.createVisitId(),replace:r=!1,preserveScroll:n=!1,preserveState:i=!1}={}){return Promise.resolve(this.resolveComponent(e.component)).then((o=>{t===this.visitId&&(e.scrollRegions=e.scrollRegions||[],e.rememberedState=e.rememberedState||{},(r=r||re(e.url).href===window.location.href)?this.replaceState(e):this.pushState(e),this.swapComponent({component:o,page:e,preserveState:i}).then((()=>{n||this.resetScrollPositions(),r||K(e)})))}))}pushState(e){this.page=e,window.history.pushState(e,"",e.url)}replaceState(e){this.page=e,window.history.replaceState(e,"",e.url)}handlePopstateEvent(e){if(null!==e.state){let t=e.state,r=this.createVisitId();Promise.resolve(this.resolveComponent(t.component)).then((e=>{r===this.visitId&&(this.page=t,this.swapComponent({component:e,page:t,preserveState:!1}).then((()=>{this.restoreScrollPositions(),K(t)})))}))}else{let e=re(this.page.url);e.hash=window.location.hash,this.replaceState({...this.page,url:e.href}),this.resetScrollPositions()}}get(e,t={},r={}){return this.visit(e,{...r,method:"get",data:t})}reload(e={}){return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0})}replace(e,t={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${t.method??"get"}() instead.`),this.visit(e,{preserveState:!0,...t,replace:!0})}post(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"post",data:t})}put(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"put",data:t})}patch(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}remember(e,t="default"){var r;oe||this.replaceState({...this.page,rememberedState:{...null==(r=this.page)?void 0:r.rememberedState,[t]:e}})}restore(e="default"){var t,r;if(!oe)return null==(r=null==(t=window.history.state)?void 0:t.rememberedState)?void 0:r[e]}on(e,t){let r=e=>{let r=t(e);e.cancelable&&!e.defaultPrevented&&!1===r&&e.preventDefault()};return document.addEventListener(`inertia:${e}`,r),()=>document.removeEventListener(`inertia:${e}`,r)}},me={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),"string"==typeof this.$options.remember&&(this.$options.remember={data:[this.$options.remember]}),"string"==typeof this.$options.remember.data&&(this.$options.remember={data:[this.$options.remember.data]});let e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=fe.restore(e),r=this.$options.remember.data.filter((e=>!(null!==this[e]&&"object"==typeof this[e]&&!1===this[e].__rememberable))),n=e=>null!==this[e]&&"object"==typeof this[e]&&"function"==typeof this[e].__remember&&"function"==typeof this[e].__restore;r.forEach((i=>{void 0!==this[i]&&void 0!==t&&void 0!==t[i]&&(n(i)?this[i].__restore(t[i]):this[i]=t[i]),this.$watch(i,(()=>{fe.remember(r.reduce(((e,t)=>({...e,[t]:f(n(t)?this[t].__remember():this[t])})),{}),e)}),{immediate:!0,deep:!0})}))}};function ge(e,t){let r="string"==typeof e?e:null,n="string"==typeof e?t:e,i=r?fe.restore(r):null,o=f("object"==typeof n?n:n()),s=null,a=null,p=e=>e,d=l({...i?i.data:f(o),isDirty:!1,errors:i?i.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(o).reduce(((e,t)=>(e[t]=this[t],e)),{})},transform(e){return p=e,this},defaults(e,t){if("function"==typeof n)throw new Error("You cannot call `defaults()` when using a function to define your form data.");return o=typeof e>"u"?this.data():Object.assign({},f(o),"string"==typeof e?{[e]:t}:e),this},reset(...e){let t=f("object"==typeof n?o:n()),r=f(t);return 0===e.length?(o=r,Object.assign(this,t)):Object.keys(t).filter((t=>e.includes(t))).forEach((e=>{o[e]=r[e],this[e]=t[e]})),this},setError(e,t){return Object.assign(this.errors,"string"==typeof e?{[e]:t}:e),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...e){return this.errors=Object.keys(this.errors).reduce(((t,r)=>({...t,...e.length>0&&!e.includes(r)?{[r]:this.errors[r]}:{}})),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(e,t,r={}){let n=p(this.data()),i={...r,onCancelToken:e=>{if(s=e,r.onCancelToken)return r.onCancelToken(e)},onBefore:e=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(a),r.onBefore)return r.onBefore(e)},onStart:e=>{if(this.processing=!0,r.onStart)return r.onStart(e)},onProgress:e=>{if(this.progress=e,r.onProgress)return r.onProgress(e)},onSuccess:async e=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,a=setTimeout((()=>this.recentlySuccessful=!1),2e3);let t=r.onSuccess?await r.onSuccess(e):null;return o=f(this.data()),this.isDirty=!1,t},onError:e=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(e),r.onError)return r.onError(e)},onCancel:()=>{if(this.processing=!1,this.progress=null,r.onCancel)return r.onCancel()},onFinish:e=>{if(this.processing=!1,this.progress=null,s=null,r.onFinish)return r.onFinish(e)}};"delete"===e?fe.delete(t,{...i,data:n}):fe[e](t,n,i)},get(e,t){this.submit("get",e,t)},post(e,t){this.submit("post",e,t)},put(e,t){this.submit("put",e,t)},patch(e,t){this.submit("patch",e,t)},delete(e,t){this.submit("delete",e,t)},cancel(){s&&s.cancel()},__rememberable:null===r,__remember(){return{data:this.data(),errors:this.errors}},__restore(e){Object.assign(this,e.data),this.setError(e.errors)}});return c(d,(e=>{d.isDirty=!m(d.data(),o),r&&fe.remember(f(e.__remember()),r)}),{immediate:!0,deep:!0}),d}var ye=i(null),ve=i(null),be=o(null),we=i(null),Se=null,Oe=p({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:r,titleCallback:n,onHeadUpdate:i}){ye.value=t?d(t):null,ve.value=e,we.value=null;let o=typeof window>"u";return Se=ae(o,n,i),o||(fe.init({initialPage:e,resolveComponent:r,swapComponent:async e=>{ye.value=d(e.component),ve.value=e.page,we.value=e.preserveState?we.value:Date.now()}}),fe.on("navigate",(()=>Se.forceUpdate()))),()=>{if(ye.value){ye.value.inheritAttrs=!!ye.value.inheritAttrs;let e=a(ye.value,{...ve.value.props,key:we.value});return be.value&&(ye.value.layout=be.value,be.value=null),ye.value.layout?"function"==typeof ye.value.layout?ye.value.layout(a,e):(Array.isArray(ye.value.layout)?ye.value.layout:[ye.value.layout]).concat(e).reverse().reduce(((e,t)=>(t.inheritAttrs=!!t.inheritAttrs,a(t,{...ve.value.props},(()=>e))))):e}}}}),je={install(e){fe.form=ge,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>fe}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>ve.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>Se}),e.mixin(me)}};async function Ee({id:e="app",resolve:t,setup:r,title:n,progress:i={},page:o,render:l}){let c=typeof window>"u",p=c?null:document.getElementById(e),d=o||JSON.parse(p.dataset.page),u=e=>Promise.resolve(t(e)).then((e=>e.default||e)),h=[],f=await u(d.component).then((e=>r({el:p,App:Oe,props:{initialPage:d,initialComponent:e,resolveComponent:u,titleCallback:n,onHeadUpdate:c?e=>h=e:null},plugin:je})));if(!c&&i&&he(i),c){let t=await l(s({render:()=>a("div",{id:e,"data-page":JSON.stringify(d),innerHTML:f?l(f):""})}));return{head:h,body:t}}}var ke=p({props:{title:{type:String,required:!1}},data(){return{provider:this.$headManager.createProvider()}},beforeUnmount(){this.provider.disconnect()},methods:{isUnaryTag:e=>["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1,renderTagStart(e){e.props=e.props||{},e.props.inertia=void 0!==e.props["head-key"]?e.props["head-key"]:"";let t=Object.keys(e.props).reduce(((t,r)=>{let n=e.props[r];return["key","head-key"].includes(r)?t:""===n?t+` ${r}`:t+` ${r}="${n}"`}),"");return`<${e.type}${t}>`},renderTagChildren(e){return"string"==typeof e.children?e.children:e.children.reduce(((e,t)=>e+this.renderTag(t)),"")},isFunctionNode:e=>"function"==typeof e.type,isComponentNode:e=>"object"==typeof e.type,isCommentNode:e=>/(comment|cmt)/i.test(e.type.toString()),isFragmentNode:e=>/(fragment|fgt|symbol\(\))/i.test(e.type.toString()),isTextNode:e=>/(text|txt)/i.test(e.type.toString()),renderTag(e){if(this.isTextNode(e))return e.children;if(this.isFragmentNode(e))return"";if(this.isCommentNode(e))return"";let t=this.renderTagStart(e);return e.children&&(t+=this.renderTagChildren(e)),this.isUnaryTag(e)||(t+=`</${e.type}>`),t},addTitleElement(e){return this.title&&!e.find((e=>e.startsWith("<title")))&&e.push(`<title inertia>${this.title}</title>`),e},renderNodes(e){return this.addTitleElement(e.flatMap((e=>this.resolveNode(e))).map((e=>this.renderTag(e))).filter((e=>e)))},resolveNode(e){return this.isFunctionNode(e)?this.resolveNode(e.type()):this.isComponentNode(e)?(console.warn("Using components in the <Head> component is not supported."),[]):this.isTextNode(e)&&e.children?e:this.isFragmentNode(e)&&e.children?e.children.flatMap((e=>this.resolveNode(e))):this.isCommentNode(e)?[]:e}},render(){this.provider.update(this.renderNodes(this.$slots.default?this.$slots.default():[]))}}),Pe=p({name:"Link",props:{as:{type:String,default:"a"},data:{type:Object,default:()=>({})},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"}},setup:(e,{slots:t,attrs:r})=>()=>{let n=e.as.toLowerCase(),i=e.method.toLowerCase(),[o,s]=ne(i,e.href||"",e.data,e.queryStringArrayFormat);return"a"===n&&"get"!==i&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.\n\nPlease specify a more appropriate element using the "as" attribute. For example:\n\n<Link href="${o}" method="${i}" as="button">...</Link>`),a(e.as,{...r,..."a"===n?{href:o}:{},onClick:t=>{(function(e){let t="a"===e.currentTarget.tagName.toLowerCase();return!(e.target&&(null==e?void 0:e.target).isContentEditable||e.defaultPrevented||t&&e.which>1||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey)})(t)&&(t.preventDefault(),fe.visit(o,{data:s,method:i,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??"get"!==i,only:e.only,headers:e.headers,onCancelToken:r.onCancelToken||(()=>({})),onBefore:r.onBefore||(()=>({})),onStart:r.onStart||(()=>({})),onProgress:r.onProgress||(()=>({})),onFinish:r.onFinish||(()=>({})),onCancel:r.onCancel||(()=>({})),onSuccess:r.onSuccess||(()=>({})),onError:r.onError||(()=>({}))}))}},t)}});const xe=Object.freeze(Object.defineProperty({__proto__:null,Head:ke,Link:Pe,createInertiaApp:Ee,router:fe,useForm:ge,usePage:function(){return l({props:u((()=>{var e;return null==(e=ve.value)?void 0:e.props})),url:u((()=>{var e;return null==(e=ve.value)?void 0:e.url})),component:u((()=>{var e;return null==(e=ve.value)?void 0:e.component})),version:u((()=>{var e;return null==(e=ve.value)?void 0:e.version})),scrollRegions:u((()=>{var e;return null==(e=ve.value)?void 0:e.scrollRegions})),rememberedState:u((()=>{var e;return null==(e=ve.value)?void 0:e.rememberedState}))})},useRemember:function(e,t){if("object"==typeof e&&null!==e&&!1===e.__rememberable)return e;let r=fe.restore(t),n=h(e)?l:i,o="function"==typeof e.__remember&&"function"==typeof e.__restore,s=n(void 0===r?e:o?e.__restore(r):r);return c(s,(r=>{fe.remember(f(o?e.__remember():r),t)}),{immediate:!0,deep:!0}),s}},Symbol.toStringTag,{value:"Module"}));export{xe as i,Ee as j};
