import e from"./ModalVideo-4887fa27.js";import{r as l,o as t,h as o,l as a,f as n,t as i,a as s,w as u,d,F as p,i as c}from"./app-043f1e93.js";const m={class:"Choose"},y=n("p",{style:{padding:"10px 0px 0px 0px"}},[n("b",null,"Option")],-1),k=["value"],h=n("h4",null,"Input",-1),r=n("h4",null,"Textarea",-1),v=n("h4",null,"Wysiwyg",-1),V=n("h4",null,"Select",-1),g=n("h4",null,"Numeric",-1),B=n("h4",null,"Multiselect",-1),b=n("h4",null,"Date",-1),U=n("h4",null,"Edit Link",-1),f={key:8,class:"--formContent componentField-input"},C=n("h4",null,"Image",-1),O={key:9,class:"--formContent componentField-input"},S=n("h4",null,"Pdf",-1),T={key:10,class:"--formContent componentField-input"},w=n("h4",null,"Video",-1),R={key:11,class:"--formContent componentField-input"},x=n("h4",null,"Snippet",-1),j={key:0,class:"--formContent componentField-input"},F=n("h4",null,"Relation",-1),_={props:{listType:Array,listBlock:[Object,Array],realNameBlock:String},data:()=>({numberPage:["1","2","3","4","5","6","7","8","9","10"],perpage:1,options:[],optionsRela:[],optionsSnippet:[],optionType:[{key:"asset",value:"asset"},{key:"youtube",value:"youtube"},{key:"vimeo",value:"vimeo"},{key:"dailymotion",value:"dailymotion"}],typeValue:"asset",optionsRelation:[],optionSelect:[{key:"instagram",value:"instagram"},{key:"facebook",value:"facebook"},{key:"twitter",value:"twitter"},{key:"printerest",value:"printerest"}]}),mounted(){this.getOptionSnippet(),this.getOptionRelation()},methods:{getOptionSnippet(){const e=new FormData;e.append("type","manyToOneRelation"),e.append("subTypes",JSON.stringify("snippet"));fetch("../get-list-options",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.optionsSnippet=e.data})).catch((e=>{console.log(e)}))},getOptionRelation(){const e=new FormData;e.append("type","manyToOneRelation");fetch("../get-list-options",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.$nextTick((()=>{this.optionsRelation=e.data})),this.optionsRelation=e.data})).catch((e=>{console.log(e)}))},addContentBlocks(){var e=[];const l=Object.keys(this.listBlock).length,t=this.realNameBlock+":"+(l+1);for(const a in this.listType){const l=t+"."+this.listType[a].realName;e[l]||(e[l]=[]),e[l]={type:this.listType[a].type,value:""}}let o=this.perpage;o=void 0!==o?parseInt(this.perpage):1;for(let a=0;a<o;a++)this.listBlock[t]={...e}},removeContentBlock(e){null!==e&&delete this.listBlock[e],0==Object.keys(this.listBlock).length&&this.addContentBlocks()},moveContentBlockUp(e){if(e>0){const l=this.listBlock[e];this.listBlock.splice(e,1),this.listBlock.splice(e-1,0,l)}},moveContentBlockDown(e){if(e<this.listBlock.length-1){const l=this.listBlock[e];this.listBlock.splice(e,1),this.listBlock.splice(e+1,0,l)}}},created(){0==Object.keys(this.listBlock).length&&this.addContentBlocks()}},D=Object.assign(_,{__name:"ModalBlockEditable",setup:_=>(D,N)=>{const I=l("v-icon"),M=l("Input"),P=l("Textarea"),A=l("Wysiwyg"),E=l("Select"),L=l("Numeric"),W=l("Multiselect"),J=l("Date"),$=l("Link"),q=l("Images"),z=l("ManyToOneRelation"),G=l("v-form");return t(!0),o(p,null,a(_.listBlock,((l,_)=>(t(),o("div",{class:"table-container",key:_},[n("h4",null,"Block "+i(_),1),n("div",m,[y,s(I,{onClick:D.addContentBlocks,class:"icon-choose",style:{color:"green"}},{default:u((()=>[d("mdi-plus-circle-outline")])),_:1},8,["onClick"]),s(I,{onClick:e=>D.removeContentBlock(_),class:"icon-choose",style:{color:"red"}},{default:u((()=>[d("mdi-close-circle-outline")])),_:2},1032,["onClick"]),s(I,{onClick:e=>D.moveContentBlockUp(_),class:"icon-choose"},{default:u((()=>[d("mdi-chevron-up")])),_:2},1032,["onClick"]),s(I,{onClick:e=>D.moveContentBlockDown(_),class:"icon-choose"},{default:u((()=>[d("mdi-chevron-down")])),_:2},1032,["onClick"])]),(t(!0),o(p,null,a(l,((l,a)=>(t(),o("div",{key:a,value:l,class:"content-block"},[s(G,null,{default:u((()=>["input"===l.type?(t(),o(p,{key:0},[h,s(M,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"textarea"===l.type?(t(),o(p,{key:1},[r,s(P,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"wysiwyg"===l.type?(t(),o(p,{key:2},[v,s(A,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"select"===l.type?(t(),o(p,{key:3},[V,s(E,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,items:D.optionSelect},null,8,["modelValue","onUpdate:modelValue","items"])],64)):c("",!0),"numeric"===l.type?(t(),o(p,{key:4},[g,s(L,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"multiselect"===l.type?(t(),o(p,{key:5},[B,s(W,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"date"===l.type?(t(),o(p,{key:6},[b,s(J,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"link"===l.type?(t(),o(p,{key:7},[U,s($,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"image"===l.type?(t(),o("div",f,[C,s(q,{name:"imageBlock",label:"",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,disabled:!1,checkbox:"1",class:"mt-2"},null,8,["modelValue","onUpdate:modelValue"])])):c("",!0),"pdf"===l.type?(t(),o("div",O,[S,s(q,{name:"pdf",label:"",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,disabled:!1,checkbox:"1",class:"mt-2",type:"document"},null,8,["modelValue","onUpdate:modelValue"])])):c("",!0),"video"===l.type?(t(),o("div",T,[w,s(e,{items:D.optionType,type:D.typeValue,name:"Video",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,label:"",disabled:!1},null,8,["items","type","modelValue","onUpdate:modelValue"])])):c("",!0),"snippet"===l.type?(t(),o("div",R,[x,s(z,{items:D.optionsSnippet,modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,label:"Snippet",chips:!0,disabled:!1},null,8,["items","modelValue","onUpdate:modelValue"])])):c("",!0),"relation"===l.type?(t(),o(p,{key:12},[D.optionsRelation.length?(t(),o("div",j,[F,s(z,{items:D.optionsRelation,modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,chips:!0,disabled:!1},null,8,["items","modelValue","onUpdate:modelValue"])])):c("",!0)],64)):c("",!0)])),_:2},1024)],8,k)))),128))])))),128)}});export{D as default};
