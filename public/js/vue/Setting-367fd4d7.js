import{r as e,am as a,o as s,c as l,a as t,k as i,q as n,C as o,N as u,E as d,J as r}from"./@vue-9ee83fb6.js";import p from"./Layout-b42d48af.js";import{d as c}from"./vue-toast-notification-f2a3de7a.js";import"./@vueuse-3c3b27e0.js";import"./unidecode-5a54da0f.js";import"./@ckeditor-fa9b3055.js";import"./vue-abe8eda6.js";const m={class:"mainAppWrapper adminSettingWrapper d-flex flex-column"},f={class:"mainBarWrapper px-5 pt-3 flex-grow-0 flex-shrink-0"},h={class:"d-flex align-center"},b={class:"--left d-flex align-center"},v=t("div",{class:"d-flex flex-column me-4"},[t("h3",{class:"--objectTitle me-4"},"Plausible Setting")],-1),g=t("span",{class:"--text"},"License",-1),y=t("span",{class:"--text"},"Setup",-1),_=t("span",{class:"--text"},"Account Login",-1),w={class:"mainContentWrapper detailContentWrapper d-flex flex-column flex-grow-1 flex-shrink-1 overflow-hidden"},x={class:"detailFormWrapper pa-5 overflow-auto"},S=t("h3",null,"License Status",-1),V={class:"d-flex flex-column mt-2 mb-4"},j={class:"d-flex align-center justify-space-between mb-2"},k=t("span",null,"Current Plan",-1),C=t("div",{class:"d-flex align-center justify-space-between"},[t("span",null,"End of plan"),t("strong",null,"20th December 2023")],-1),I={class:"d-flex"},U=t("h3",null,"Setup",-1),K=t("h4",{class:"mb-2"},"Domain",-1),F=t("h4",{class:"mb-2"},"Site ID",-1),W=t("h4",{class:"mb-2"},"Api Key",-1),D={class:"--right"},P=t("h3",null,"Account",-1),T={class:"flex-column mt-2 mb-4"},A={class:"align-center justify-space-between mb-2"},L={class:"--formContent componentField-input"},O=t("label",null,"Username",-1),E={class:"align-center justify-space-between"},$={class:"--formContent componentField-input"},q=t("label",null,"Password",-1),z={class:"d-flex"},B={data(){return{shows:!1,loading:!1,domain:this.plausibleSetting?this.plausibleSetting.domain:"",apiKey:this.plausibleSetting?this.plausibleSetting.apiKey:"",siteId:this.plausibleSetting?this.plausibleSetting.siteId:"",username:this.plausibleSetting?this.plausibleSetting.username:"",password:this.plausibleSetting?this.plausibleSetting.password:"",toast:c.useToast({position:"top-right"})}},methods:{saveUser(){this.loading=!0;const e={username:this.username,password:this.password};this.$inertia.post(route("vuetify_plausible_account"),{user:e},{forceFormData:!0}),setTimeout((()=>{this.flash.success&&(this.toast.open({message:this.flash.success,type:"success"}),this.loading=!1);var e=this.flash.errors.key??"",a=this.flash.errors.message??this.flash.errors;this.flash.errors&&this.toast.open({message:e+" "+a,type:"error"})}),1e3)},onSubmit(){this.loading=!0;const e={domain:this.domain,siteId:this.siteId,apiKey:this.apiKey};this.$inertia.post(route("vuetify_plausible_setup"),e,{forceFormData:!0}),setTimeout((()=>{this.flash.success&&(this.toast.open({message:this.flash.success,type:"success"}),this.loading=!1);var e=this.flash.errors.key??"",a=this.flash.errors.message??this.flash.errors;this.flash.errors&&this.toast.open({message:e+" "+a,type:"error"})}),1e3)}}},G=Object.assign(B,{layout:p},{__name:"Setting",props:{plausibleSetting:Object,flash:Object},setup(p){const c=e("tab-1"),B=()=>{window.open("https://plausible.panoee.com/lushlist.goterest.com/","_blank")},G=()=>{c.value="tab-3"};return(e,p)=>{const J=a("v-icon"),M=a("v-tab"),N=a("v-tabs"),H=a("v-card-title"),Q=a("v-card-item"),R=a("v-chip"),X=a("v-btn"),Y=a("v-card-text"),Z=a("v-card"),ee=a("Input"),ae=a("v-col"),se=a("v-row"),le=a("v-text-field");return s(),l("div",m,[t("div",f,[t("div",h,[t("div",b,[i(J,{icon:"mdi-cog-outline",class:"--objectIcon me-3"}),v])]),i(N,{modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=e=>c.value=e),class:"mainTabPanel"},{default:n((()=>[i(M,{value:"tab-1"},{default:n((()=>[g])),_:1}),i(M,{value:"tab-3"},{default:n((()=>[y])),_:1}),i(M,{value:"tab-4"},{default:n((()=>[_])),_:1})])),_:1},8,["modelValue"])]),t("div",w,[t("div",x,["tab-1"===c.value?(s(),o(Z,{key:0,width:"320",class:"pa-3 mb-5"},{default:n((()=>[i(Q,null,{default:n((()=>[i(H,null,{default:n((()=>[S])),_:1})])),_:1}),i(Y,null,{default:n((()=>[t("div",V,[t("div",j,[k,i(R,{size:"small",color:"primary"},{default:n((()=>[u("Free")])),_:1})]),C]),t("div",I,[i(X,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-open-in-new",onClick:B},{default:n((()=>[u(" Go to Plausible ")])),_:1}),"tab-3"!==c.value?(s(),o(X,{key:0,variant:"tonal",class:"","prepend-icon":"mdi-cog-outline",onClick:G},{default:n((()=>[u(" Configure ")])),_:1})):d("",!0)])])),_:1})])),_:1})):d("",!0),"tab-3"===c.value?(s(),o(Z,{key:1,class:"pa-3 mb-5"},{default:n((()=>[i(Q,null,{default:n((()=>[i(H,null,{default:n((()=>[U])),_:1})])),_:1}),i(Y,null,{default:n((()=>[i(se,null,{default:n((()=>[i(ae,{cols:"6"},{default:n((()=>[i(ae,{cols:"12"},{default:n((()=>[K,i(ee,{name:"domain",label:"",modelValue:e.domain,"onUpdate:modelValue":p[1]||(p[1]=a=>e.domain=a)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"12"},{default:n((()=>[F,i(ee,{name:"siteId",label:"",modelValue:e.siteId,"onUpdate:modelValue":p[2]||(p[2]=a=>e.siteId=a)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"12"},{default:n((()=>[W,i(ee,{name:"apiKey",label:"",modelValue:e.apiKey,"onUpdate:modelValue":p[3]||(p[3]=a=>e.apiKey=a)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"12"},{default:n((()=>[t("div",D,[i(X,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-content-save",onClick:e.onSubmit,loading:e.loading},{default:n((()=>[u(" Save ")])),_:1},8,["onClick","loading"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):d("",!0),"tab-4"===c.value?(s(),o(Z,{key:2,width:"320",class:"pa-3 mb-5"},{default:n((()=>[i(Q,null,{default:n((()=>[i(H,null,{default:n((()=>[P])),_:1})])),_:1}),i(Y,null,{default:n((()=>[t("form",{onSubmit:p[7]||(p[7]=r(((...a)=>e.saveUser&&e.saveUser(...a)),["prevent"]))},[t("div",T,[t("div",A,[t("div",L,[O,i(le,{variant:"outlined",density:"compact","bg-color":"white",type:e.text,modelValue:e.username,"onUpdate:modelValue":p[4]||(p[4]=a=>e.username=a)},null,8,["type","modelValue"])])]),t("div",E,[t("div",$,[q,i(le,{variant:"outlined",density:"compact","bg-color":"white",modelValue:e.password,"onUpdate:modelValue":p[5]||(p[5]=a=>e.password=a),type:e.shows?"text":"password","append-inner-icon":e.shows?"mdi-eye":"mdi-eye-off","onClick:appendInner":p[6]||(p[6]=a=>e.shows=!e.shows)},null,8,["modelValue","type","append-inner-icon"])])])]),t("div",z,[i(X,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-content-save",type:"submit",loading:e.loading},{default:n((()=>[u(" Save ")])),_:1},8,["loading"])])],32)])),_:1})])),_:1})):d("",!0)])])])}}});export{G as default};
