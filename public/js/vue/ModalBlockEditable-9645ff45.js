import e from"./ModalVideo-5bb50051.js";import{am as l,o as t,c as o,p as i,a,M as n,k as s,q as p,N as m,K as d,E as u}from"./@vue-9ee83fb6.js";import"./app-4cb9c936.js";import"./vue-draggable-next-3bc70602.js";import"./unidecode-5a54da0f.js";import"./@ckeditor-fa9b3055.js";import"./vue-abe8eda6.js";import"./ckeditor5-custom-build-7f9f8982.js";import"./vue-toast-notification-f2a3de7a.js";import"./vue3-treeview-e35ab4eb.js";import"./vue-filepond-82332930.js";import"./filepond-136e7cc4.js";import"./filepond-plugin-image-preview-4f29f0b3.js";import"./filepond-plugin-file-validate-type-324437b8.js";import"./mapbox-gl-38e32bee.js";import"./@vueuse-3c3b27e0.js";/* empty css             */import"./vuetify-193e6d04.js";import"./@inertiajs-d76518b1.js";import"./axios-3d65c6bd.js";import"./deepmerge-3a6ffb65.js";import"./side-channel-e57be611.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./call-bind-36d0f176.js";import"./set-function-length-801a4962.js";import"./define-data-property-daf1763a.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-61b1e1fb.js";import"./object-inspect-0fa0b9de.js";import"./nprogress-9c4c7d08.js";import"./lodash.clonedeep-c1370659.js";import"./lodash.isequal-feeae999.js";import"./@vuepic-f846cd73.js";import"./date-fns-421fcf3e.js";import"./@babel-0d6f2215.js";import"./element-plus-e3c76eb0.js";import"./lodash-es-fb3d0246.js";import"./@element-plus-283d896c.js";import"./@popperjs-2d1e819d.js";import"./@ctrl-91de2ec7.js";import"./dayjs-7398d4dd.js";import"./async-validator-8d480e59.js";import"./memoize-one-63ab667a.js";import"./escape-html-5c28ffbb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-24fcdcc4.js";import"./vue3-apexcharts-663397fa.js";import"./apexcharts-4d1d416c.js";import"./vue-i18n-d397f996.js";import"./@intlify-90b40ed7.js";const c={class:"Choose"},r=a("p",{style:{padding:"10px 0px 0px 0px"}},[a("b",null,"Option")],-1),y=["value"],h=a("h4",null,"Input",-1),k=a("h4",null,"Textarea",-1),v=a("h4",null,"Wysiwyg",-1),j=a("h4",null,"Select",-1),V=a("h4",null,"Numeric",-1),g=a("h4",null,"Multiselect",-1),f=a("h4",null,"Date",-1),b=a("h4",null,"Edit Link",-1),B={key:8,class:"--formContent componentField-input"},U=a("h4",null,"Image",-1),C={key:9,class:"--formContent componentField-input"},x=a("h4",null,"Pdf",-1),O={key:10,class:"--formContent componentField-input"},w=a("h4",null,"Video",-1),S={key:11,class:"--formContent componentField-input"},T=a("h4",null,"Snippet",-1),R={key:0,class:"--formContent componentField-input"},F=a("h4",null,"Relation",-1),D={props:{listType:Array,listBlock:[Object,Array],realNameBlock:String},data:()=>({numberPage:["1","2","3","4","5","6","7","8","9","10"],perpage:1,options:[],optionsRela:[],optionsSnippet:[],optionType:[{key:"asset",value:"asset"},{key:"youtube",value:"youtube"},{key:"vimeo",value:"vimeo"},{key:"dailymotion",value:"dailymotion"}],typeValue:"asset",optionsRelation:[],optionSelect:[{key:"instagram",value:"instagram"},{key:"facebook",value:"facebook"},{key:"twitter",value:"twitter"},{key:"printerest",value:"printerest"}]}),mounted(){this.getOptionSnippet(),this.getOptionRelation()},methods:{getOptionSnippet(){const e=new FormData;e.append("type","manyToOneRelation"),e.append("subTypes",JSON.stringify("snippet"));fetch("../get-list-options",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.optionsSnippet=e.data})).catch((e=>{console.log(e)}))},getOptionRelation(){const e=new FormData;e.append("type","manyToOneRelation");fetch("../get-list-options",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.$nextTick((()=>{this.optionsRelation=e.data})),this.optionsRelation=e.data})).catch((e=>{console.log(e)}))},addContentBlocks(){var e=[];const l=Object.keys(this.listBlock).length,t=this.realNameBlock+":"+(l+1);for(const i in this.listType){const l=t+"."+this.listType[i].realName;e[l]||(e[l]=[]),e[l]={type:this.listType[i].type,value:""}}let o=this.perpage;o=void 0!==o?parseInt(this.perpage):1;for(let i=0;i<o;i++)this.listBlock[t]={...e}},removeContentBlock(e){null!==e&&delete this.listBlock[e],0==Object.keys(this.listBlock).length&&this.addContentBlocks()},moveContentBlockUp(e){if(e>0){const l=this.listBlock[e];this.listBlock.splice(e,1),this.listBlock.splice(e-1,0,l)}},moveContentBlockDown(e){if(e<this.listBlock.length-1){const l=this.listBlock[e];this.listBlock.splice(e,1),this.listBlock.splice(e+1,0,l)}}},created(){0==Object.keys(this.listBlock).length&&this.addContentBlocks()}},M=Object.assign(D,{__name:"ModalBlockEditable",setup:D=>(M,N)=>{const _=l("v-icon"),I=l("Input"),P=l("Textarea"),E=l("Wysiwyg"),q=l("Select"),z=l("Numeric"),A=l("Multiselect"),L=l("Date"),W=l("Link"),K=l("Images"),G=l("ManyToOneRelation"),H=l("v-form");return t(!0),o(d,null,i(D.listBlock,((l,D)=>(t(),o("div",{class:"table-container",key:D},[a("h4",null,"Block "+n(D),1),a("div",c,[r,s(_,{onClick:M.addContentBlocks,class:"icon-choose",style:{color:"green"}},{default:p((()=>[m("mdi-plus-circle-outline")])),_:1},8,["onClick"]),s(_,{onClick:e=>M.removeContentBlock(D),class:"icon-choose",style:{color:"red"}},{default:p((()=>[m("mdi-close-circle-outline")])),_:2},1032,["onClick"]),s(_,{onClick:e=>M.moveContentBlockUp(D),class:"icon-choose"},{default:p((()=>[m("mdi-chevron-up")])),_:2},1032,["onClick"]),s(_,{onClick:e=>M.moveContentBlockDown(D),class:"icon-choose"},{default:p((()=>[m("mdi-chevron-down")])),_:2},1032,["onClick"])]),(t(!0),o(d,null,i(l,((l,i)=>(t(),o("div",{key:i,value:l,class:"content-block"},[s(H,null,{default:p((()=>["input"===l.type?(t(),o(d,{key:0},[h,s(I,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):u("",!0),"textarea"===l.type?(t(),o(d,{key:1},[k,s(P,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):u("",!0),"wysiwyg"===l.type?(t(),o(d,{key:2},[v,s(E,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):u("",!0),"select"===l.type?(t(),o(d,{key:3},[j,s(q,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,items:M.optionSelect},null,8,["modelValue","onUpdate:modelValue","items"])],64)):u("",!0),"numeric"===l.type?(t(),o(d,{key:4},[V,s(z,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):u("",!0),"multiselect"===l.type?(t(),o(d,{key:5},[g,s(A,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):u("",!0),"date"===l.type?(t(),o(d,{key:6},[f,s(L,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):u("",!0),"link"===l.type?(t(),o(d,{key:7},[b,s(W,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):u("",!0),"image"===l.type?(t(),o("div",B,[U,s(K,{name:"imageBlock",label:"",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,disabled:!1,checkbox:"1",class:"mt-2"},null,8,["modelValue","onUpdate:modelValue"])])):u("",!0),"pdf"===l.type?(t(),o("div",C,[x,s(K,{name:"pdf",label:"",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,disabled:!1,checkbox:"1",class:"mt-2",type:"document"},null,8,["modelValue","onUpdate:modelValue"])])):u("",!0),"video"===l.type?(t(),o("div",O,[w,s(e,{items:M.optionType,type:M.typeValue,name:"Video",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,label:"",disabled:!1},null,8,["items","type","modelValue","onUpdate:modelValue"])])):u("",!0),"snippet"===l.type?(t(),o("div",S,[T,s(G,{items:M.optionsSnippet,modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,label:"Snippet",chips:!0,disabled:!1},null,8,["items","modelValue","onUpdate:modelValue"])])):u("",!0),"relation"===l.type?(t(),o(d,{key:12},[M.optionsRelation.length?(t(),o("div",R,[F,s(G,{items:M.optionsRelation,modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,chips:!0,disabled:!1},null,8,["items","modelValue","onUpdate:modelValue"])])):u("",!0)],64)):u("",!0)])),_:2},1024)],8,y)))),128))])))),128)}});export{M as default};
