import e from"./ModalVideo-7e606443.js";import{r as l,o,h as t,l as a,f as n,t as i,a as s,w as d,d as u,F as p,i as c}from"./app-c610bbee.js";const m={class:"Choose"},y=["value"],h=n("h4",null,"Input",-1),k=n("h4",null,"Textarea",-1),V=n("h4",null,"Wysiwyg",-1),r=n("h4",null,"Select",-1),v=n("h4",null,"Numeric",-1),g=n("h4",null,"Multiselect",-1),B=n("h4",null,"Date",-1),U=n("h4",null,"Edit Link",-1),b={key:8,class:"--formContent componentField-input"},C=n("h4",null,"Image",-1),f={key:9,class:"--formContent componentField-input"},O=n("h4",null,"Pdf",-1),S={key:10,class:"--formContent componentField-input"},T=n("h4",null,"Video",-1),w={key:11,class:"--formContent componentField-input"},R=n("h4",null,"Snippet",-1),j={key:12,class:"--formContent componentField-input"},F=n("h4",null,"Relation",-1),_={props:{listType:Array,listBlock:[Object,Array],realNameBlock:String},data:()=>({numberPage:["1","2","3","4","5","6","7","8","9","10"],perpage:1,options:[],optionsRela:[],optionsSnippet:[],optionType:[{key:"asset",value:"asset"},{key:"youtube",value:"youtube"},{key:"vimeo",value:"vimeo"},{key:"dailymotion",value:"dailymotion"}],typeValue:"asset",optionsRelation:[]}),mounted(){this.getOptionSnippet(),this.getOptionRelation()},methods:{getOptionSnippet(){const e=new FormData;e.append("type","manyToOneRelation"),e.append("subTypes",JSON.stringify("snippet"));fetch("../get-list-options",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.optionsSnippet=e.data})).catch((e=>{console.log(e)}))},getOptionRelation(){const e=new FormData;e.append("type","manyToOneRelation");fetch("../get-list-options",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.optionsRelation=e.data})).catch((e=>{console.log(e)}))},addContentBlocks(){var e=[];const l=Object.keys(this.listBlock).length,o=this.realNameBlock+":"+(l+1);for(const a in this.listType){const l=o+"."+this.listType[a].realName;e[l]||(e[l]=[]),e[l]={type:this.listType[a].type,value:""}}let t=this.perpage;t=void 0!==t?parseInt(this.perpage):1;for(let a=0;a<t;a++)this.listBlock[o]={...e}},removeContentBlock(e){null!==e&&delete this.listBlock[e],0==Object.keys(this.listBlock).length&&this.addContentBlocks()},moveContentBlockUp(e){if(e>0){const l=this.listBlock[e];this.listBlock.splice(e,1),this.listBlock.splice(e-1,0,l)}},moveContentBlockDown(e){if(e<this.listBlock.length-1){const l=this.listBlock[e];this.listBlock.splice(e,1),this.listBlock.splice(e+1,0,l)}}},created(){0==Object.keys(this.listBlock).length&&this.addContentBlocks()}},x=Object.assign(_,{__name:"ModalBlockEditable",setup:_=>(x,D)=>{const N=l("Select"),I=l("v-icon"),M=l("Input"),P=l("Textarea"),A=l("Wysiwyg"),E=l("Numeric"),L=l("Multiselect"),W=l("Date"),J=l("Link"),q=l("Images"),z=l("ManyToOneRelation"),G=l("v-form");return o(!0),t(p,null,a(_.listBlock,((l,_)=>(o(),t("div",{class:"table-container",key:_},[n("h4",null,"Block "+i(_),1),n("div",m,[s(N,{items:x.numberPage,name:"Select",modelValue:x.perpage,"onUpdate:modelValue":D[0]||(D[0]=e=>x.perpage=e),label:"Select",onChange:x.addContentBlocks},null,8,["items","modelValue","onChange"]),s(I,{onClick:x.addContentBlocks,class:"icon-choose",style:{color:"green"}},{default:d((()=>[u("mdi-plus-circle-outline")])),_:1},8,["onClick"]),s(I,{onClick:e=>x.removeContentBlock(_),class:"icon-choose",style:{color:"red"}},{default:d((()=>[u("mdi-close-circle-outline")])),_:2},1032,["onClick"]),s(I,{onClick:e=>x.moveContentBlockUp(_),class:"icon-choose"},{default:d((()=>[u("mdi-chevron-up")])),_:2},1032,["onClick"]),s(I,{onClick:e=>x.moveContentBlockDown(_),class:"icon-choose"},{default:d((()=>[u("mdi-chevron-down")])),_:2},1032,["onClick"])]),(o(!0),t(p,null,a(l,((l,a)=>(o(),t("div",{key:a,value:l,class:"content-block"},[s(G,null,{default:d((()=>["input"===l.type?(o(),t(p,{key:0},[h,s(M,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"textarea"===l.type?(o(),t(p,{key:1},[k,s(P,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"wysiwyg"===l.type?(o(),t(p,{key:2},[V,s(A,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"select"===l.type?(o(),t(p,{key:3},[r,s(N,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"numeric"===l.type?(o(),t(p,{key:4},[v,s(E,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"multiselect"===l.type?(o(),t(p,{key:5},[g,s(L,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"date"===l.type?(o(),t(p,{key:6},[B,s(W,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"link"===l.type?(o(),t(p,{key:7},[U,s(J,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])],64)):c("",!0),"image"===l.type?(o(),t("div",b,[C,s(q,{name:"imageBlock",label:"",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,disabled:!1,checkbox:"1",class:"mt-2"},null,8,["modelValue","onUpdate:modelValue"])])):c("",!0),"pdf"===l.type?(o(),t("div",f,[O,s(q,{name:"pdf",label:"",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,disabled:!1,checkbox:"1",class:"mt-2",type:"document"},null,8,["modelValue","onUpdate:modelValue"])])):c("",!0),"video"===l.type?(o(),t("div",S,[T,s(e,{items:x.optionType,type:x.typeValue,name:"Video",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,label:"",disabled:!1},null,8,["items","type","modelValue","onUpdate:modelValue"])])):c("",!0),"snippet"===l.type?(o(),t("div",w,[R,s(z,{items:x.optionsSnippet,modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,label:"Snippet",chips:!0,disabled:!1},null,8,["items","modelValue","onUpdate:modelValue"])])):c("",!0),"relation"===l.type?(o(),t("div",j,[F,s(z,{items:x.optionsRelation,modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,chips:!0,disabled:!1},null,8,["items","modelValue","onUpdate:modelValue"])])):c("",!0)])),_:2},1024)],8,y)))),128))])))),128)}});export{x as default};
