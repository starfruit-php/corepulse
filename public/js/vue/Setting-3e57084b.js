import{g as e,r as l,o as a,h as s,f as t,a as i,w as n,c as o,d as u,i as d,t as r,b as c,k as p}from"./app-d39bbd6a.js";import m from"./Layout-9e96cc1e.js";const f={class:"mainAppWrapper adminSettingWrapper d-flex flex-column"},h={class:"mainBarWrapper px-5 pt-3 flex-grow-0 flex-shrink-0"},b={class:"d-flex align-center"},v={class:"--left d-flex align-center"},g=t("div",{class:"d-flex flex-column me-4"},[t("h3",{class:"--objectTitle me-4"},"Plausible Setting")],-1),y=t("span",{class:"--text"},"License",-1),_=t("span",{class:"--text"},"Setup",-1),w=t("span",{class:"--text"},"Account Login",-1),x={class:"mainContentWrapper detailContentWrapper d-flex flex-column flex-grow-1 flex-shrink-1 overflow-hidden"},S={class:"detailFormWrapper pa-5 overflow-auto"},k=t("h3",null,"License Status",-1),V={class:"d-flex flex-column mt-2 mb-4"},P={class:"d-flex align-center justify-space-between mb-2"},j=t("span",null,"Current Plan",-1),C=t("div",{class:"d-flex align-center justify-space-between"},[t("span",null,"End of plan"),t("strong",null,"20th December 2023")],-1),I={class:"d-flex"},U=t("h3",null,"Setup",-1),K=t("h4",{class:"mb-2"},"Link Public Plausible",-1),F=t("h4",{class:"mb-2"},"Domain",-1),T=t("h4",{class:"mb-2"},"Site ID",-1),W=t("h4",{class:"mb-2"},"Api Key",-1),D={class:"--right"},L=t("h3",null,"Account",-1),A={class:"flex-column mt-2 mb-4"},O={class:"align-center justify-space-between mb-2"},$={class:"--formContent componentField-input"},q=t("label",null,"Username",-1),z={class:"align-center justify-space-between"},B={class:"--formContent componentField-input"},E=t("label",null,"Password",-1),G={class:"d-flex"},H={data(){return{shows:!1,loading:!1,domain:this.plausibleSetting?this.plausibleSetting.domain:"",apiKey:this.plausibleSetting?this.plausibleSetting.apiKey:"",siteId:this.plausibleSetting?this.plausibleSetting.siteId:"",username:this.plausibleSetting?this.plausibleSetting.username:"",password:this.plausibleSetting?this.plausibleSetting.password:"",linkPublic:this.plausibleSetting?this.plausibleSetting.link:"",toast:p.useToast({position:"top-right"})}},methods:{saveUser(){this.loading=!0;const e={username:this.username,password:this.password};this.$inertia.post(route("vuetify_plausible_account"),{user:e},{forceFormData:!0}),setTimeout((()=>{this.flash.success&&(this.toast.open({message:this.flash.success,type:"success"}),this.loading=!1);var e=this.flash.errors.key??"",l=this.flash.errors.message??this.flash.errors;this.flash.errors&&this.toast.open({message:e+" "+l,type:"error"})}),1e3)},onSubmit(){this.loading=!0;const e={domain:this.domain,siteId:this.siteId,apiKey:this.apiKey,link:this.linkPublic};this.$inertia.post(route("vuetify_plausible_setup"),e,{forceFormData:!0}),setTimeout((()=>{this.flash.success&&(this.toast.open({message:this.flash.success,type:"success"}),this.loading=!1);var e=this.flash.errors.key??"",l=this.flash.errors.message??this.flash.errors;this.flash.errors&&this.toast.open({message:e+" "+l,type:"error"})}),1e3)}}},J=Object.assign(H,{layout:m},{__name:"Setting",props:{plausibleSetting:Object,flash:Object},setup(p){const m=p,H=e("tab-1"),J=m.plausibleSetting?m.plausibleSetting.link:"",M=()=>{J?window.open(J,"_blank"):alert("The link is empty. Please provide a valid link under 'Setup'.")},N=()=>{H.value="tab-3"};return(e,p)=>{const m=l("v-icon"),J=l("v-tab"),Q=l("v-tabs"),R=l("v-card-title"),X=l("v-card-item"),Y=l("v-chip"),Z=l("v-btn"),ee=l("v-card-text"),le=l("v-card"),ae=l("Input"),se=l("v-col"),te=l("v-row"),ie=l("v-text-field");return a(),s("div",f,[t("div",h,[t("div",b,[t("div",v,[i(m,{icon:"mdi-cog-outline",class:"--objectIcon me-3"}),g])]),i(Q,{modelValue:H.value,"onUpdate:modelValue":p[0]||(p[0]=e=>H.value=e),class:"mainTabPanel"},{default:n((()=>[i(J,{value:"tab-1"},{default:n((()=>[y])),_:1}),i(J,{value:"tab-3"},{default:n((()=>[_])),_:1}),i(J,{value:"tab-4"},{default:n((()=>[w])),_:1})])),_:1},8,["modelValue"])]),t("div",x,[t("div",S,["tab-1"===H.value?(a(),o(le,{key:0,width:"320",class:"pa-3 mb-5"},{default:n((()=>[i(X,null,{default:n((()=>[i(R,null,{default:n((()=>[k])),_:1})])),_:1}),i(ee,null,{default:n((()=>[t("div",V,[t("div",P,[j,i(Y,{size:"small",color:"primary"},{default:n((()=>[u("Free")])),_:1})]),C]),t("div",I,[i(Z,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-open-in-new",onClick:M},{default:n((()=>[u(" Go to Plausible ")])),_:1}),"tab-3"!==H.value?(a(),o(Z,{key:0,variant:"tonal",class:"","prepend-icon":"mdi-cog-outline",onClick:N},{default:n((()=>[u(" Configure ")])),_:1})):d("",!0)])])),_:1})])),_:1})):d("",!0),"tab-3"===H.value?(a(),o(le,{key:1,class:"pa-3 mb-5"},{default:n((()=>[i(X,null,{default:n((()=>[i(R,null,{default:n((()=>[U])),_:1})])),_:1}),i(ee,null,{default:n((()=>[i(te,null,{default:n((()=>[i(se,{cols:"6"},{default:n((()=>[i(se,{cols:"12"},{default:n((()=>[u(r(e.linkPublic)+" ",1),K,i(ae,{name:"linkPublic",label:"",modelValue:e.linkPublic,"onUpdate:modelValue":p[1]||(p[1]=l=>e.linkPublic=l)},null,8,["modelValue"])])),_:1}),i(se,{cols:"12"},{default:n((()=>[F,i(ae,{name:"domain",label:"",modelValue:e.domain,"onUpdate:modelValue":p[2]||(p[2]=l=>e.domain=l)},null,8,["modelValue"])])),_:1}),i(se,{cols:"12"},{default:n((()=>[T,i(ae,{name:"siteId",label:"",modelValue:e.siteId,"onUpdate:modelValue":p[3]||(p[3]=l=>e.siteId=l)},null,8,["modelValue"])])),_:1}),i(se,{cols:"12"},{default:n((()=>[W,i(ae,{name:"apiKey",label:"",modelValue:e.apiKey,"onUpdate:modelValue":p[4]||(p[4]=l=>e.apiKey=l)},null,8,["modelValue"])])),_:1}),i(se,{cols:"12"},{default:n((()=>[t("div",D,[i(Z,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-content-save",onClick:e.onSubmit,loading:e.loading},{default:n((()=>[u(" Save ")])),_:1},8,["onClick","loading"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):d("",!0),"tab-4"===H.value?(a(),o(le,{key:2,width:"320",class:"pa-3 mb-5"},{default:n((()=>[i(X,null,{default:n((()=>[i(R,null,{default:n((()=>[L])),_:1})])),_:1}),i(ee,null,{default:n((()=>[t("form",{onSubmit:p[8]||(p[8]=c(((...l)=>e.saveUser&&e.saveUser(...l)),["prevent"]))},[t("div",A,[t("div",O,[t("div",$,[q,i(ie,{variant:"outlined",density:"compact","bg-color":"white",type:e.text,modelValue:e.username,"onUpdate:modelValue":p[5]||(p[5]=l=>e.username=l)},null,8,["type","modelValue"])])]),t("div",z,[t("div",B,[E,i(ie,{variant:"outlined",density:"compact","bg-color":"white",modelValue:e.password,"onUpdate:modelValue":p[6]||(p[6]=l=>e.password=l),type:e.shows?"text":"password","append-inner-icon":e.shows?"mdi-eye":"mdi-eye-off","onClick:appendInner":p[7]||(p[7]=l=>e.shows=!e.shows)},null,8,["modelValue","type","append-inner-icon"])])])]),t("div",G,[i(Z,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-content-save",type:"submit",loading:e.loading},{default:n((()=>[u(" Save ")])),_:1},8,["loading"])])],32)])),_:1})])),_:1})):d("",!0)])])])}}});export{J as default};
