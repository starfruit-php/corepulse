import e from"./Layout-14500af4.js";import{r as t,o as a,h as i,f as l,a as o,w as d,F as n,l as s,c as r,t as c,i as u,z as m,d as p,x as g,M as h}from"./app-146fb9d8.js";import f from"./ModalCreatePage-e9f26522.js";const v={class:"mainAppWrapper d-flex flex-column"},y={class:"mainBarWrapper px-5 py-3 d-flex justify-space-between align-center flex-grow-0 flex-shrink-0"},k={class:"--left d-flex align-center"},b={class:"d-flex flex-column me-4"},C=l("span",null,"Home",-1),P=l("span",{class:"--divider"},"·",-1),_=l("span",{class:"--divider"},"·",-1),x=l("h3",{class:"--objectTitle me-4"},"Document",-1),A={class:"--right"},w={class:"mainContentWrapper px-5 py-4 d-flex flex-column flex-grow-1 flex-shrink-1 overflow-hidden"},D={class:"tableListingWrapper d-flex flex-column flex-shrink-1 flex-grow-1 overflow-hidden"},j={props:{nameParent:Object},data(){var e=window.location.href;let t=window.localStorage.getItem(e);t?t=JSON.parse(t):(t=[{title:"ID",align:"start",key:"id",sortable:!1,removable:!0},{title:"Title",key:"name",removable:!0,handleClick:!0,url:"vuetify_doc_detail",doubleClickIcon:"mdi-plus",doubleClickUrl:"vuetify_doc_get_item_chill",doubleClick:!0},{title:"Type",key:"type",removable:!0},{title:"Status",key:"status",removable:!0,searchType:"Select",type:"status",options:[{value:"-1",key:"All"},{value:"1",key:"Publish"},{value:"0",key:"Draft"}]},{title:"Last Update",key:"modificationDate",removable:!0,searchType:"DatePicker"}],window.localStorage.setItem(e,JSON.stringify(t)));var a=[];t.map((e=>{e.removable&&a.push(e)}));var i=[this.createAction("xem","mdi-eye-outline","detail","vuetify_doc_detail",!1,!1,!1),this.createAction("xóa","mdi-delete-outline","delete","vuetify_doc_delete",g,!0)],l=[{title:"Delete",icon:"mdi-delete-outline",url:{path:"vuetify_doc_delete",content:{title:"Delete",content:"Are you sure you want to Delete all selected",confirm:"Delete"},data:{test:"1"}},component:h,post:!0,reload:!1}];const o=new URLSearchParams(window.location.search).get("folderId");var d=[];return o&&(d={folderId:o}),{isActive:!1,items:[{text:"Add Page",icon:"mdi-file-document-plus-outline"},{text:"Audience",icon:"mdi-account"},{text:"Conversions",icon:"mdi-flag"}],object:this.listing,page:1,itemsPerPage:15,headers:a,desserts:this.listing,confirmDeleteDialog:!1,list:t,routerList:{router:route("vuetify_doc_listing",d)},action:i,fav:!0,menu:!1,message:!1,hints:!0,titlePage:"",navigationPage:"",keyPage:"",dialogCreatePage:!1,selectedAction:l,typeCreate:"",folderId:o}},computed:{pageCount(){return Math.ceil(this.countData/this.itemsPerPage)}},methods:{createAction:(e,t,a,i,l=!1,o=!0,d=!0,n=!0)=>({title:e,icon:t,key:a,url:i,component:l,multiple:o,post:d,reload:n}),updateData(){console.log(this.titlePage),this.keyPage=this.titlePage,this.navigationPage=this.titlePage},openDialog(){this.isActive=!0},navigateToFolder(){this.$inertia.post("/cms/document/listing")},navigateToFolderChill(e){this.$inertia.post("/cms/document/listing?folderId="+e.id)},createPage(){this.dialogCreatePage=!0,this.typeCreate="Page",this.menu=!1},createSnippet(){this.dialogCreatePage=!0,this.typeCreate="Snippet",this.menu=!1},createLink(){this.dialogCreatePage=!0,this.typeCreate="Link",this.menu=!1},createHardlink(){this.dialogCreatePage=!0,this.typeCreate="Hardlink",this.menu=!1},createFolder(){this.dialogCreatePage=!0,this.typeCreate="Folder",this.menu=!1}}},I=Object.assign(j,{layout:e},{__name:"Listing",props:{listing:[Object,Array],countData:Object,totalItems:Number,nameParent:Object,chips:[Object,Array],chipsColor:[Object,Array]},setup:e=>(g,h)=>{const j=t("v-icon"),I=t("v-breadcrumbs-item"),S=t("v-breadcrumbs"),L=t("v-btn"),F=t("v-list-item-title"),T=t("v-list-item"),O=t("v-list"),U=t("v-card"),H=t("v-menu"),V=t("v-dialog"),W=t("CustomField"),N=t("DataTableServer");return a(),i("div",v,[l("div",y,[l("div",k,[o(j,{icon:"mdi-file-document",class:"--objectIcon me-3"}),l("div",b,[o(S,{class:"breadcrumbWrapper pa-0"},{default:d((()=>[o(I,{class:"--itemBreadcrumb",disabled:!e.nameParent,onClick:g.navigateToFolder,title:"Home"},{default:d((()=>[C])),_:1},8,["disabled","onClick"]),P,(a(!0),i(n,null,s(e.nameParent,((e,t)=>(a(),i(n,{key:t},[e?(a(),r(I,{key:0,onClick:t=>g.navigateToFolderChill(e),class:"--itemBreadcrumb",disabled:e.end},{default:d((()=>[l("span",null,c(e.name),1)])),_:2},1032,["onClick","disabled"])):u("",!0),_],64)))),128))])),_:1}),x]),o(H,{modelValue:g.menu,"onUpdate:modelValue":h[5]||(h[5]=e=>g.menu=e),"close-on-content-click":!1},{activator:d((({props:e})=>[o(L,m({class:"btn-primary me-2",variant:"elevated","prepend-icon":"mdi-plus"},e),{default:d((()=>[p(" Add New ")])),_:2},1040),o(L,m({class:"btn-primary me-2",variant:"elevated","prepend-icon":"mdi-folder-plus"},e,{onClick:h[0]||(h[0]=e=>g.createFolder())}),{default:d((()=>[p(" Add Folder ")])),_:2},1040)])),default:d((()=>[o(U,{"min-width":"150"},{default:d((()=>[o(O,null,{default:d((()=>[o(T,{onClick:h[1]||(h[1]=e=>g.createPage())},{prepend:d((()=>[o(j,{icon:"mdi-file-document-plus-outline"})])),default:d((()=>[o(F,null,{default:d((()=>[p("Add Page")])),_:1})])),_:1}),o(T,{onClick:h[2]||(h[2]=e=>g.createSnippet())},{prepend:d((()=>[o(j,{icon:"mdi-file-code-outline"})])),default:d((()=>[o(F,null,{default:d((()=>[p("Add Snippet")])),_:1})])),_:1}),o(T,{onClick:h[3]||(h[3]=e=>g.createLink())},{prepend:d((()=>[o(j,{icon:"mdi-link"})])),default:d((()=>[o(F,null,{default:d((()=>[p("Add Link")])),_:1})])),_:1}),o(T,{onClick:h[4]||(h[4]=e=>g.createHardlink())},{prepend:d((()=>[o(j,{icon:"mdi-link-variant"})])),default:d((()=>[o(F,null,{default:d((()=>[p("Add Hardlink")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),o(V,{width:"500",modelValue:g.dialogCreatePage,"onUpdate:modelValue":h[7]||(h[7]=e=>g.dialogCreatePage=e)},{default:d((()=>[o(U,null,{default:d((()=>[o(f,{"onUpdate:dialog":h[6]||(h[6]=e=>g.dialogCreatePage=e),type:g.typeCreate,folderId:g.folderId},null,8,["type","folderId"])])),_:1})])),_:1},8,["modelValue"])]),l("div",A,[o(W,{headers:g.headers,list:g.list,"onUpdate:headers":h[8]||(h[8]=e=>g.headers=e)},null,8,["headers","list"])])]),l("div",w,[l("div",D,[o(N,{listing:e.listing,router:g.routerList,"total-items":e.totalItems,headers:g.headers,action:g.action,chips:e.chips,chipsColor:e.chipsColor,selectedAction:g.selectedAction},null,8,["listing","router","total-items","headers","action","chips","chipsColor","selectedAction"])])])])}});export{I as default};
