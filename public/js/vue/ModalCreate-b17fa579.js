import{r as e,o as a,h as t,a as o,w as s,f as l,F as i,l as r,I as n,d,k as u}from"./app-7d8d3c43.js";const m={class:"--formContent componentField-input"},c=l("label",null,"Key",-1),p={props:{formData:Object,url:{type:String,default:""}},data:()=>({rules:[e=>!!e||"Required!"],toast:u.useToast({position:"top-right"})}),methods:{closeDialog(){this.$emit("update:dialog",!1)},saveTrans(){const e=this.formData.key;if(console.log(e),void 0!==e&&""!==e.trim()){const a=JSON.stringify(this.formData),t=new FormData;t.append("data",a),t.append("key",e),fetch(route(this.url),{method:"POST",body:t}).then((e=>{if(!e.ok)throw new Error("Có lỗi khi gửi yêu cầu POST.");this.$nextTick((()=>{this.$emit("update:componentLoad",(new Date).getTime())}))})).catch((e=>{console.error(e)})),setTimeout((()=>{this.toast.open({message:"Create success",type:"success"}),this.$emit("update:dialog",!1)}),1e3)}else setTimeout((()=>{this.toast.open({message:"Key is required!",type:"error"})}),1e3)}}},f=Object.assign(p,{__name:"ModalCreate",setup:u=>(p,f)=>{const g=e("v-toolbar"),h=e("v-text-field"),y=e("v-card-text"),v=e("v-btn"),D=e("v-card-actions");return a(),t(i,null,[o(g,{density:"compact",title:"Create New Key"}),o(y,null,{default:s((()=>[l("div",m,[c,o(h,{variant:"outlined",density:"compact","bg-color":"white",modelValue:u.formData.key,"onUpdate:modelValue":f[0]||(f[0]=e=>u.formData.key=e),rules:[e=>!!e||"Key is required"],required:""},null,8,["modelValue","rules"])]),(a(!0),t(i,null,r(u.formData.languages,((e,s)=>(a(),t("div",{key:s},[o(n,{name:s,label:s,modelValue:u.formData.languages[s],"onUpdate:modelValue":e=>u.formData.languages[s]=e,disabled:!1},null,8,["name","label","modelValue","onUpdate:modelValue"])])))),128))])),_:1}),o(D,{class:"justify-end"},{default:s((()=>[o(v,{variant:"text",onClick:f[1]||(f[1]=e=>p.closeDialog())},{default:s((()=>[d("Close ")])),_:1}),o(v,{variant:"elevated",class:"btn-primary",onClick:f[2]||(f[2]=e=>p.saveTrans())},{default:s((()=>[d(" Save ")])),_:1})])),_:1})],64)}});export{f as default};
