import{r as e,o as t,c as i,w as l,a,f as s,E as c,G as n,t as o,i as r,d,B as h,h as u,l as g,F as m,z as p,C as f,k as S,H as v,J as w,K as k,L as C,N as b,O as _}from"./app-ff71be3c.js";const y={href:"/cms",class:"--appLogo"},M=["src"],x={class:"--sectionGroup"},I=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("defs",null,[s("mask",{id:"solarMagniferLineDuotone0"},[s("g",{fill:"none","stroke-width":"1.5"},[s("circle",{cx:"11.5",cy:"11.5",r:"9.5",stroke:"gray"}),s("path",{stroke:"#fff","stroke-linecap":"round",d:"M18.5 18.5L22 22"})])])]),s("path",{fill:"currentColor",d:"M0 0h24v24H0z",mask:"url(#solarMagniferLineDuotone0)"})],-1),L=s("small",{class:"ms-3"},"CMD + K",-1),R=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{d:"M2 12.204c0-2.289 0-3.433.52-4.381c.518-.949 1.467-1.537 3.364-2.715l2-1.241C9.889 2.622 10.892 2 12 2c1.108 0 2.11.622 4.116 1.867l2 1.241c1.897 1.178 2.846 1.766 3.365 2.715c.519.948.519 2.092.519 4.38v1.522c0 3.9 0 5.851-1.172 7.063C19.657 22 17.771 22 14 22h-4c-3.771 0-5.657 0-6.828-1.212C2 19.576 2 17.626 2 13.725z",opacity:".5"}),s("path",{"stroke-linecap":"round",d:"M9 16c.85.63 1.885 1 3 1s2.15-.37 3-1"})])],-1),T={class:"--sectionGroup"},$=s("h5",{class:"--sectionTitle"},"Content",-1),V=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{d:"M3 10c0-3.771 0-5.657 1.172-6.828C5.343 2 7.229 2 11 2h2c3.771 0 5.657 0 6.828 1.172C21 4.343 21 6.229 21 10v4c0 3.771 0 5.657-1.172 6.828C18.657 22 16.771 22 13 22h-2c-3.771 0-5.657 0-6.828-1.172C3 19.657 3 17.771 3 14z",opacity:".5"}),s("path",{"stroke-linecap":"round",d:"M8 12h8M8 8h8m-8 8h5"})])],-1),O=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-width":"1.5"},[s("path",{d:"m15.578 3.382l2 1.05c2.151 1.129 3.227 1.693 3.825 2.708C22 8.154 22 9.417 22 11.942v.117c0 2.524 0 3.787-.597 4.801c-.598 1.015-1.674 1.58-3.825 2.709l-2 1.049C13.822 21.539 12.944 22 12 22s-1.822-.46-3.578-1.382l-2-1.05c-2.151-1.129-3.227-1.693-3.825-2.708C2 15.846 2 14.583 2 12.06v-.117c0-2.525 0-3.788.597-4.802c.598-1.015 1.674-1.58 3.825-2.708l2-1.05C10.178 2.461 11.056 2 12 2s1.822.46 3.578 1.382Z"}),s("path",{d:"M21 7.5L12 12m0 0L3 7.5m9 4.5v9.5",opacity:".5"})])],-1),j=s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{opacity:"0.5",d:"M1.66699 10.0002C1.66699 6.85766 1.66699 5.286 2.64366 4.31016C3.61949 3.3335 5.19116 3.3335 8.33366 3.3335H11.667C14.8095 3.3335 16.3812 3.3335 17.357 4.31016C18.3337 5.286 18.3337 6.85766 18.3337 10.0002C18.3337 13.1427 18.3337 14.7143 17.357 15.6902C16.3812 16.6668 14.8095 16.6668 11.667 16.6668H8.33366C5.19116 16.6668 3.61949 16.6668 2.64366 15.6902C1.66699 14.7143 1.66699 13.1427 1.66699 10.0002Z",stroke:"#333333","stroke-width":"1.2"}),s("path",{d:"M5 6.66699L6.79917 8.16699C8.33 9.44199 9.095 10.0795 10 10.0795C10.905 10.0795 11.6708 9.44199 13.2008 8.16616L15 6.66699",stroke:"#333333","stroke-width":"1.2","stroke-linecap":"round"})],-1),H=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{d:"M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z"}),s("circle",{cx:"16",cy:"8",r:"2",opacity:".5"}),s("path",{"stroke-linecap":"round",d:"m2 12.5l1.752-1.533a2.3 2.3 0 0 1 3.14.105l4.29 4.29a2 2 0 0 0 2.564.222l.299-.21a3 3 0 0 1 3.731.225L21 18.5",opacity:".5"})])],-1),B=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{"stroke-linecap":"round",d:"M12 22v-2",opacity:".5"}),s("path",{"stroke-linecap":"round",d:"M4 16.562A10.287 10.287 0 0 0 11.687 20C17.383 20 22 15.383 22 9.687C22 6.633 20.672 3.888 18.562 2"}),s("path",{d:"M7 4.553c.585.552 1.79 2.063 1.931 3.684c.131 1.515 1.096 2.746 2.569 2.763c.566.006 1.139-.418 1.137-1.005c0-.182-.03-.367-.074-.538a1.137 1.137 0 0 1 .062-.79c.457-.978 1.357-1.241 2.07-1.772c.316-.236.604-.484.732-.684c.35-.553.702-1.658.526-2.211m-2.662 13c-.22-.414-.527-1.49 0-2.483c.659-1.241 2.854-1.241 2.854-1.241c1.692-.018 2.302-.782 2.588-1.462M19 10a7 7 0 1 1-14 0a7 7 0 0 1 14 0Z",opacity:".5"}),s("path",{"stroke-linecap":"round",d:"M10 22h4"})])],-1),P=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{d:"M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z",opacity:".5"}),s("path",{"stroke-linecap":"round",d:"M7 18V9m5 9V6m5 12v-5"})])],-1),U={key:0,class:"--sectionGroup"},E={class:"--sectionTitle"},D=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-width":"1.5"},[s("path",{d:"m15.578 3.382l2 1.05c2.151 1.129 3.227 1.693 3.825 2.708C22 8.154 22 9.417 22 11.942v.117c0 2.524 0 3.787-.597 4.801c-.598 1.015-1.674 1.58-3.825 2.709l-2 1.049C13.822 21.539 12.944 22 12 22s-1.822-.46-3.578-1.382l-2-1.05c-2.151-1.129-3.227-1.693-3.825-2.708C2 15.846 2 14.583 2 12.06v-.117c0-2.525 0-3.788.597-4.802c.598-1.015 1.674-1.58 3.825-2.708l2-1.05C10.178 2.461 11.056 2 12 2s1.822.46 3.578 1.382Z"}),s("path",{d:"M21 7.5L12 12m0 0L3 7.5m9 4.5v9.5",opacity:".5"})])],-1),A=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{d:"M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z",opacity:".5"}),s("path",{"stroke-linecap":"round",d:"M7 18V9m5 9V6m5 12v-5"})])],-1),N=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-width":"1.5"},[s("path",{d:"m15.578 3.382l2 1.05c2.151 1.129 3.227 1.693 3.825 2.708C22 8.154 22 9.417 22 11.942v.117c0 2.524 0 3.787-.597 4.801c-.598 1.015-1.674 1.58-3.825 2.709l-2 1.049C13.822 21.539 12.944 22 12 22s-1.822-.46-3.578-1.382l-2-1.05c-2.151-1.129-3.227-1.693-3.825-2.708C2 15.846 2 14.583 2 12.06v-.117c0-2.525 0-3.788.597-4.802c.598-1.015 1.674-1.58 3.825-2.708l2-1.05C10.178 2.461 11.056 2 12 2s1.822.46 3.578 1.382Z"}),s("path",{d:"M21 7.5L12 12m0 0L3 7.5m9 4.5v9.5",opacity:".5"})])],-1),z={key:1,class:"--sectionGroup"},J={class:"--sectionTitle"},G=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("circle",{cx:"9",cy:"6",r:"4"}),s("path",{d:"M12.5 4.341a3 3 0 1 1 0 3.318",opacity:".5"}),s("ellipse",{cx:"9",cy:"17",rx:"7",ry:"4"}),s("path",{"stroke-linecap":"round",d:"M18 14c1.754.385 3 1.359 3 2.5c0 1.03-1.014 1.923-2.5 2.37",opacity:".5"})])],-1),Z=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{d:"M3 10.417c0-3.198 0-4.797.378-5.335c.377-.537 1.88-1.052 4.887-2.081l.573-.196C10.405 2.268 11.188 2 12 2c.811 0 1.595.268 3.162.805l.573.196c3.007 1.029 4.51 1.544 4.887 2.081C21 5.62 21 7.22 21 10.417v1.574c0 5.638-4.239 8.375-6.899 9.536C13.38 21.842 13.02 22 12 22s-1.38-.158-2.101-.473C7.239 20.365 3 17.63 3 11.991z",opacity:".5"}),s("circle",{cx:"12",cy:"9",r:"2"}),s("path",{d:"M16 15c0 1.105 0 2-4 2s-4-.895-4-2s1.79-2 4-2s4 .895 4 2Z"})])],-1),q={key:2,class:"--sectionGroup"},W={class:"--sectionTitle"},F=s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("g",{"clip-path":"url(#clip0_537_1123)"},[s("path",{opacity:"0.5",d:"M1.6665 9.99999C1.6665 6.07166 1.6665 4.10749 2.8865 2.88666C4.10817 1.66666 6.0715 1.66666 9.99984 1.66666C13.9282 1.66666 15.8923 1.66666 17.1123 2.88666C18.3332 4.10832 18.3332 6.07166 18.3332 9.99999C18.3332 13.9283 18.3332 15.8925 17.1123 17.1125C15.8932 18.3333 13.9282 18.3333 9.99984 18.3333C6.0715 18.3333 4.10734 18.3333 2.8865 17.1125C1.6665 15.8933 1.6665 13.9283 1.6665 9.99999Z",stroke:"#6A1B9A","stroke-width":"1.5"}),s("path",{d:"M5.83301 11.6666L7.74384 9.75581C7.90011 9.59959 8.11204 9.51182 8.33301 9.51182C8.55398 9.51182 8.7659 9.59959 8.92217 9.75581L10.2438 11.0775C10.4001 11.2337 10.612 11.3215 10.833 11.3215C11.054 11.3215 11.2659 11.2337 11.4222 11.0775L14.1663 8.33331M14.1663 8.33331V10.4166M14.1663 8.33331H12.083",stroke:"#6A1B9A","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]),s("defs",null,[s("clipPath",{id:"clip0_537_1123"},[s("rect",{width:"20",height:"20",fill:"white"})])])],-1),K={key:3,class:"--sectionGroup"},Q={class:"--sectionTitle"},X=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M19 2H8c-1.1 0-2 .9-2 2v3h2V4h11v16H8v-3H6v3c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6.5 9H15V9h-2.5V7L9 10l3.5 3v-2zm-5 2H6v2.5H3.5V16L7 19l3.5-3H8v-2z"})],-1),Y={key:4,class:"--sectionGroup"},ee={class:"--sectionTitle"},te=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor","stroke-width":"2"}),s("path",{fill:"none",stroke:"currentColor","stroke-width":"2",d:"M8 8l8 8m0-8l-8 8"})],-1),ie={class:"sidebarProfileWrapper"},le={class:"d-flex align-center py-2"},ae=["src"],se={class:"d-flex flex-column"},ce={class:"text-caption"},ne={class:"d-flex align-center w-100 px-4"},oe=s("small",null,"Suggest",-1),re=["innerHTML"],de=["innerHTML"],he={class:"--icon me-4"},ue=s("small",null,"Recent",-1),ge=["innerHTML"],me=["innerHTML"],pe={class:"--icon me-4"},fe={key:2,class:"--body"},Se=["innerHTML"],ve=["innerHTML"],we={class:"--icon me-4"},ke={data(){let e=this.getRecentSearch(),t=[{id:"Dashboard",name:"Dashboard",title:"Dashboard",model:"other",route:"vuetify_dashboard",icon:"mdi-monitor-dashboard"},{id:"Logout",name:"Logout",title:"Logout",model:"other",route:"vuetify_logout",icon:"mdi-logout"},{id:"Asset",title:"Media Library",name:"Media Library",model:"other",route:"vuetify_asset",icon:"mdi-file-image-outline"},{id:"Document",title:"Pages",name:"Pages",model:"other",route:"vuetify_doc_listing",icon:"mdi-file-document-outline"},{id:"Role",title:"Role",name:"Role",model:"other",route:"role_listing",icon:"mdi-shield-account-outline"},{id:"Profile",title:"Profile",name:"Profile",model:"other",route:"vuetify_profile",icon:"mdi-account-circle-outline"},{id:"Translations",title:"Translations",name:"Translations",model:"other",route:"translations_listing",icon:"mdi-translate"},{id:"Setting",title:"Setting",name:"Setting",model:"other",route:"vuetify_setting_cms",icon:"mdi-cog-outline"},{id:"Report",title:"Report",name:"Report",model:"other",route:"cms_vuetify_report",icon:"mdi-chart-line"},{id:"Sitemap",title:"Sitemap",name:"Sitemap",model:"other",route:"seo_sitemap",icon:"mdi-translate"},{id:"404-301",title:"404 & 301",name:"404 & 301",model:"other",route:"seo_http_error",icon:"mdi-cog-outline"},{id:"Indexing",title:"Indexing",name:"Indexing",model:"other",route:"seo_indexing",icon:"mdi-chart-line"},{id:"Cache",title:"Clear Cache",name:"Clear Cache",model:"other",route:"cache_clear",icon:"mdi-close-circle"}];t=t.concat(this.classSearch);let i=window.localStorage.getItem(route("cms_catalog"));return i=JSON.parse(i),i||(i=[]),{dataNew:this.data,menuOpen:!1,rail:!1,open:["Users"],dropdownItems:[{title:"Item 1"},{title:"Item 2"},{title:"Item 3"}],logoUrl:this.appearance.logo?this.appearance.logo:"/Temp/1705054181-logo-corepulse.png",colorPrimary:this.appearance.color?this.appearance.color:"#6a1b9a",colorLight:this.appearance.colorLight?this.appearance.colorLight:"#f3e5f5",dialog:!1,nameObject:"",search:"",dialogSearch:!1,isLoadingSearch:!1,listingRecent:e,recent:!0,listingSearch:{},listingSugget:t,selectedIndex:0,selectedSugget:0,selectedRecent:-1,suggest:!0,widthSearch:"950",modeBool:!1,catalogView:i,activeItem:"",toast:S.useToast({position:"top-right"}),dialogImport:!1}},mounted(){v((()=>{this.handleLocalStorageChange()})),this.$i18n.locale=this.auth.language??"en";const e=w("Control",{events:["keydown"]}),t=w("Meta",{events:["keydown"]}),{arrowUp:i,arrowDown:l,Enter:a,arrowLeft:s,arrowRight:c}=k();C("k",(i=>{(e.value||t.value)&&(i.preventDefault(),this.dialogSearch?this.dialogSearch=!1:this.dialogSearch=!0)})),b(s,(e=>{e&&this.dialogSearch&&(this.checkSelected()||(-1==this.selectedRecent?(this.selectedRecent=0,this.selectedSugget=-1):-1==this.selectedSugget&&(this.selectedRecent=-1,this.selectedSugget=0)))})),b(c,(e=>{e&&this.dialogSearch&&(this.checkSelected()||(-1==this.selectedRecent?(this.selectedRecent=0,this.selectedSugget=-1):-1==this.selectedSugget&&(this.selectedRecent=-1,this.selectedSugget=0)))})),b(i,(e=>{e&&this.dialogSearch&&(this.checkSelected()?this.selectedIndex>0?this.selectedIndex--:this.selectedIndex=this.listingSearch.length-1:(-1!=this.selectedSugget&&(this.selectedSugget>0?this.selectedSugget--:this.selectedSugget=this.listingSugget.length-1),-1!=this.selectedRecent&&(this.selectedRecent>0?this.selectedRecent--:this.selectedRecent=this.listingRecent.length-1)))})),b(l,(e=>{e&&this.dialogSearch&&(this.checkSelected()?this.selectedIndex<this.listingSearch.length-1?this.selectedIndex++:this.selectedIndex=0:(-1!=this.selectedSugget&&(this.selectedSugget<this.listingSugget.length-1?this.selectedSugget++:this.selectedSugget=0),-1!=this.selectedRecent&&(this.selectedRecent<this.listingRecent.length-1?this.selectedRecent++:this.selectedRecent=0)))})),b(a,(e=>{if(e&&this.dialogSearch)if(this.checkSelected()){const e=this.listingSearch[this.selectedIndex];this.enterItem(e)}else if(-1!=this.selectedRecent){const e=this.listingRecent[this.selectedRecent];this.enterItem(e)}else if(-1!=this.selectedSugget){const e=this.listingSugget[this.selectedSugget];this.enterItem(e)}})),document.documentElement.style.setProperty("--color-primary",this.colorPrimary),document.documentElement.style.setProperty("--color-primary--light",this.colorLight)},watch:{dialogSearch(e){e?this.$nextTick((()=>{this.selectedIndex=0,this.selectedSugget=0,this.selectedRecent=-1,this.$refs.searchRef.focus()})):this.handleClearableClick()},search(e){e||(this.listingSearch=this.getRecentSearch(),this.recent=!0,this.suggest=!0,this.listingSearch.length||(this.suggest=!0,this.listingSearch=this.listingSugget))},selectedIndex(e){this.$nextTick((()=>{const t=this.$refs.scrollSearch;t&&t.scrollToIndex(e)}))},selectedSugget(e){console.log(e),-1!=e&&(this.selectedRecent=-1),this.$nextTick((()=>{const t=this.$refs.scrollSugget;window.asd=t,t&&t.scrollToIndex(e)}))},selectedRecent(e){-1!=e&&(this.selectedSugget=-1),this.$nextTick((()=>{const t=this.$refs.scrollRecent;t&&t.scrollToIndex(e)}))}},methods:{deleteView(e){this.catalogView=this.catalogView.filter((t=>t.id!==e));const t=route("cms_catalog");window.localStorage.setItem(t,JSON.stringify(this.catalogView))},handleLocalStorageChange(){setInterval((()=>{const e=JSON.parse(window.localStorage.getItem(route("cms_catalog")));e&&JSON.stringify(this.catalogView)!==JSON.stringify(e)&&(this.catalogView=e)}),1e3)},checkCatalogView(e){const t=window.location.href,i=new URL(t).search;return i&&e&&e.url&&i==e.url?"v-list-item--active active":i||e||!t.includes("/cms/catalog")?"":"v-list-item--active active"},enterItem(e){console.log(e),e&&("class"==e.model?"create"==e.action?this.checkRequest(e,"",{},!0):this.checkRequest(e,"vuetify_object",{object:e.id}):"dataObject"==e.model||"asset"==e.model||"document"==e.model?this.checkRequest(e,e.route,{id:e.id}):this.checkRequest(e,e.route),document.querySelectorAll(".itemMainMenu").forEach((function(e){e.classList.remove("v-list-item--active")})),this.activeItem=e.id)},checkSelected(){return!!this.search},checkRequest(e,t,i,l=!1){this.dialogSearch=!1,this.handleClearableClick(),this.setRecentSearch(e),this.selectedIndex=0,l?this.handleModal(e):this.redirect(t,i)},setRecentSearch(e){let t=[],i=window.localStorage.getItem("recentSearch");i&&(t=JSON.parse(i)),i&&(t=JSON.parse(i));const l=t.findIndex((t=>t.id===e.id));return-1!==l&&t.splice(l,1),t.unshift(e),window.localStorage.setItem("recentSearch",JSON.stringify(t)),!0},getRecentSearch(){const e=window.localStorage.getItem("recentSearch");return!e||JSON.parse(e)},getRecentSearch(){const e=window.localStorage.getItem("recentSearch");return e?JSON.parse(e):[]},highlightItem(e){if(this.search&&e&&_(e.toString().toLowerCase()).includes(_(this.search.toLowerCase()))){return e.toString().replace(new RegExp(this.search,"gi"),(e=>`<span class="highlighted">${e}</span>`))}return e},handleClearableClick(){this.search="",this.listingRecent=this.getRecentSearch(),this.recent=!0,this.suggest=!0,this.selectedIndex=0},checkHandleSearch(e){e=_(e.toLowerCase());const t=this.listingSugget.filter((t=>{const i=e.indexOf("create"),l=e.indexOf("listing"),a=_(t.title.toLowerCase()),s=_(t.name.toLowerCase()),c=t.action?_(t.action.toLowerCase()):"";if(-1!==i&&i<e.length/2+1){const t=_(e.replace(/\bcreate\b/gi,"").trim());return c.includes("create")&&s.includes(t.toLowerCase())}if(-1!==l&&l<e.length/2){const t=_(e.replace(/\blisting\b/gi,"").trim());return c.includes("listing")&&s.includes(t.toLowerCase())}return"object name"==e?c.includes("listing"):"object"==e?c.includes("listing")||c.includes("create"):a.includes(e)||s.includes(e)}));return!t.length||(this.listingSearch=t,this.isLoadingSearch=!1,this.selectedIndex=0,!1)},loadSearch(){this.handleSearchInput()},handleSearchInput(){if(this.search){this.isLoadingSearch=!0,this.recent=!1,this.listingSearch=[],this.suggest=!1;this.checkHandleSearch(this.search)&&this.submitSearch()}},submitSearch(){if(this.isLoadingSearch=!0,this.recent=!1,this.suggest=!1,this.listingSearch=[],this.search){const e=new FormData;e.append("search",this.search),fetch(route("cms_search"),{method:"POST",body:e}).then((e=>{if(e.ok)return e.json();throw new Error("Có lỗi khi gửi yêu cầu POST.")})).then((e=>{this.listingSearch=e,this.isLoadingSearch=!1,this.selectedIndex=0})).catch((e=>{console.error(e),this.isLoadingSearch=!1}))}},redirect(e,t){const i=window.location.href;let l=window.localStorage.getItem(i);l=JSON.parse(l),l&&"onchange"in l?confirm("Leave Site? Changes you made may not be saved.")&&this.$inertia.get(route(e,t)):this.$inertia.get(route(e,t))},handleModal(e){this.dialog=!0,this.nameObject=e.name},handleModalImport(){this.dialogImport=!0},clearCache(){fetch(route("cache_clear"),{method:"POST"}).then((e=>{if(e.ok)return e.json();throw new Error("Có lỗi khi gửi yêu cầu POST.")})).then((e=>{e?setTimeout((()=>{this.toast.open({message:"Cache clear successfully",type:"success"})}),1e3):setTimeout((()=>{this.toast.open({message:"Cache clear error",type:"error"})}),1e3)})).catch((e=>{console.error(e)}))}}};var Ce,be;Ce=document.createElement("script"),be=document.getElementsByTagName("script")[0],Ce.async=!0,Ce.src="https://embed.tawk.to/65b539458d261e1b5f589ef9/1hl5ufe8i",Ce.charset="UTF-8",Ce.setAttribute("crossorigin","*"),be.parentNode.insertBefore(Ce,be);const _e=Object.assign(ke,{__name:"Layout",props:{objectSetting:Array,auth:Object,classObject:[Object,Array],infoUser:{type:Object,default:{}},appearance:Object,data:Object,changeUser:Boolean,classSearch:[Object,Array],configSidebar:[Object,Array]},setup:S=>(v,w)=>{const k=e("v-list-item-title"),C=e("v-list-item"),b=e("v-btn"),_=e("ModalCreate"),ke=e("v-card"),Ce=e("v-dialog"),be=e("v-icon"),_e=e("v-list-group"),ye=e("ModalImport"),Me=e("v-list"),xe=e("v-avatar"),Ie=e("v-menu"),Le=e("v-navigation-drawer"),Re=e("v-text-field"),Te=e("v-toolbar"),$e=e("v-progress-linear"),Ve=e("v-list-item-subtitle"),Oe=e("v-virtual-scroll"),je=e("v-col"),He=e("v-row"),Be=e("v-card-text"),Pe=e("v-main"),Ue=e("v-layout");return t(),i(Ue,{class:"rounded rounded-md"},{default:l((()=>[a(Le,{class:"mainSidebarWrapper",rail:v.rail,permanent:"",width:240},{append:l((()=>[s("div",ie,[a(Ie,{"offset-y":"",bottom:""},{activator:l((({props:e})=>[a(C,c(n(e)),{default:l((()=>[s("div",le,[a(xe,{size:"42",class:"mr-2"},{default:l((()=>[s("img",{src:S.infoUser.avatar?S.infoUser.avatar:"/bundles/corepulse/image/avatarDefault.png",alt:"Avatar"},null,8,ae)])),_:1}),s("div",se,[s("strong",null,o("user"!=S.infoUser.name?S.infoUser.name:"Admin"),1),s("small",ce,o(S.infoUser.email),1)])])])),_:2},1040)])),default:l((()=>[a(Me,{nav:"",density:"compact"},{default:l((()=>[S.changeUser?(t(),i(C,{key:0,title:"My Profile","prepend-icon":"mdi-account-circle-outline",onClick:w[21]||(w[21]=e=>v.redirect("vuetify_profile"))})):r("",!0),a(C,{title:"Log Out","prepend-icon":"mdi mdi-logout",onClick:w[22]||(w[22]=e=>v.redirect("vuetify_logout"))})])),_:1})])),_:1})])])),default:l((()=>[s("a",y,[s("img",{src:S.appearance.logo?S.appearance.logo:"/bundles/corepulse/image/corepulse.png",alt:""},null,8,M)]),a(Me,{class:"mainMenuWrapper",nav:"",density:"compact"},{default:l((()=>[s("div",x,[a(C,{onClick:w[0]||(w[0]=e=>v.dialogSearch=!0),class:"itemMainMenu",id:"item-search",value:"Search"},{prepend:l((()=>[I])),default:l((()=>[a(k,{class:"d-flex align-center justify-space-between"},{default:l((()=>[s("span",null,o(v.$t("Search ")),1),L])),_:1})])),_:1}),!S.configSidebar||S.configSidebar&&S.configSidebar.home?(t(),i(C,{key:0,class:"itemMainMenu",onClick:w[1]||(w[1]=e=>v.redirect("vuetify_dashboard")),value:"home"},{prepend:l((()=>[R])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("home")),1)])),_:1})])),_:1})):r("",!0)]),s("div",T,[$,!S.configSidebar||S.configSidebar&&S.configSidebar.document?(t(),i(C,{key:0,class:h(["itemMainMenu",{"v-list-item--active":"Document"===v.activeItem}]),onClick:w[2]||(w[2]=e=>v.redirect("vuetify_doc_listing")),value:"document"},{prepend:l((()=>[V])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Pages")),1)])),_:1})])),_:1},8,["class"])):r("",!0),(t(!0),u(m,null,g(S.objectSetting,((e,s)=>(t(),i(C,{class:h(["itemMainMenu itemSubMenu",{"v-list-item--active":v.activeItem===e.title}]),value:s},{prepend:l((()=>[O])),default:l((()=>[a(k,{onClick:t=>v.redirect("vuetify_object",{object:e.id})},{default:l((()=>[d(o(e.title),1)])),_:2},1032,["onClick"]),a(b,{class:"btn-quickCreate",icon:"mdi-plus",size:"small",onClick:t=>v.handleModal(e)},null,8,["onClick"])])),_:2},1032,["class","value"])))),256)),a(Ce,{modelValue:v.dialog,"onUpdate:modelValue":w[4]||(w[4]=e=>v.dialog=e),width:"420"},{default:l((()=>[a(ke,null,{default:l((()=>[a(_,{"onUpdate:dialog":w[3]||(w[3]=e=>v.dialog=e),object:v.nameObject,url:{path:"object_check_key"},urlReturn:{path:"vuetify_object_detail"}},null,8,["object"])])),_:1})])),_:1},8,["modelValue"]),!S.configSidebar||S.configSidebar&&S.configSidebar.emails?(t(),i(C,{key:1,class:h(["itemMainMenu",{"v-list-item--active":"Email"===v.activeItem}]),onClick:w[5]||(w[5]=e=>v.redirect("vuetify_doc_listing_email")),value:"email"},{prepend:l((()=>[j])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Emails")),1)])),_:1})])),_:1},8,["class"])):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.asset?(t(),i(C,{key:2,class:h(["itemMainMenu",{"v-list-item--active":"Asset"===v.activeItem}]),onClick:w[6]||(w[6]=e=>v.redirect("vuetify_asset")),value:"asset"},{prepend:l((()=>[H])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Media Library")),1)])),_:1})])),_:1},8,["class"])):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.translation?(t(),i(C,{key:3,class:h(["itemMainMenu",{"v-list-item--active":"Translations"===v.activeItem}]),"prepend-icon":"mdi-translate",onClick:w[7]||(w[7]=e=>v.redirect("translations_listing")),value:"translations"},{prepend:l((()=>[B])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("translations")),1)])),_:1})])),_:1},8,["class"])):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.report?(t(),i(C,{key:4,class:h(["itemMainMenu",{"v-list-item--active":"Report"===v.activeItem}]),onClick:w[8]||(w[8]=e=>v.redirect("cms_vuetify_report")),value:"report"},{prepend:l((()=>[P])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("report")),1)])),_:1})])),_:1},8,["class"])):r("",!0)]),!S.configSidebar||S.configSidebar&&(S.configSidebar.catalog||S.configSidebar.catalogDocument||S.configSidebar.plausible)?(t(),u("div",U,[s("h5",E,o(v.$t("Commerce")),1),!S.configSidebar||S.configSidebar&&S.configSidebar.catalog?(t(),i(_e,{key:0,class:"itemGroupMenu",value:"Catalog layout"},{activator:l((({props:e})=>[a(C,p({class:"itemMainMenu"},e),{prepend:l((()=>[D])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Catalog Layout")),1)])),_:1})])),_:2},1040)])),default:l((()=>[a(C,{onClick:w[9]||(w[9]=e=>v.redirect("cms_catalog")),class:h(["itemSubMenu",v.checkCatalogView()])},{prepend:l((()=>[a(be,null,{default:l((()=>[d("mdi-plus-outline")])),_:1})])),default:l((()=>[a(k,null,{default:l((()=>[d(" Default ")])),_:1})])),_:1},8,["class"]),v.catalogView.length?(t(!0),u(m,{key:0},g(v.catalogView,((e,s)=>(t(),i(C,{class:h([v.checkCatalogView(e),"itemSubMenu"]),onClick:t=>v.redirect("cms_catalog",{tree:e.tree,table:e.table}),key:s},{prepend:l((()=>[a(be,null,{default:l((()=>[d("mdi-view-quilt-outline")])),_:1})])),default:l((()=>[a(k,null,{default:l((()=>[d(o(e.name),1)])),_:2},1024),a(b,{class:"btn-quickCreate",icon:"mdi-close-circle-outline",size:"small",onClick:t=>v.deleteView(e.id)},null,8,["onClick"])])),_:2},1032,["class","onClick"])))),128)):r("",!0)])),_:1})):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.catalogDocument?(t(),i(C,{key:1,class:"itemMainMenu",onClick:w[10]||(w[10]=e=>v.redirect("cms_document_catalog")),value:"Catalog document"},{prepend:l((()=>[A])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Catalog Document")),1)])),_:1})])),_:1})):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.plausible?(t(),i(_e,{key:2,class:"itemGroupMenu",value:"Plausible layout"},{activator:l((({props:e})=>[a(C,p({class:"itemMainMenu"},e),{prepend:l((()=>[N])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Plausible Analytics")),1)])),_:1})])),_:2},1040)])),default:l((()=>[a(C,{onClick:w[11]||(w[11]=e=>v.redirect("cms_setting_plausible")),class:"itemSubMenu"},{default:l((()=>[a(k,null,{default:l((()=>[d(" Setting ")])),_:1})])),_:1}),a(C,{onClick:w[12]||(w[12]=e=>v.redirect("cms_widget_plausible")),class:"itemSubMenu"},{default:l((()=>[a(k,null,{default:l((()=>[d(" Widget ")])),_:1})])),_:1})])),_:1})):r("",!0)])):r("",!0),!S.configSidebar||S.configSidebar&&(S.configSidebar.user||S.configSidebar.role)?(t(),u("div",z,[s("h5",J,o(v.$t("System")),1),!S.configSidebar||S.configSidebar&&S.configSidebar.user?(t(),i(C,{key:0,class:"itemMainMenu",onClick:w[13]||(w[13]=e=>v.redirect("user_listing")),value:"user"},{prepend:l((()=>[G])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Users")),1)])),_:1})])),_:1})):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.role?(t(),i(C,{key:1,class:"itemMainMenu",onClick:w[14]||(w[14]=e=>v.redirect("role_listing")),value:"role"},{prepend:l((()=>[Z])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("role")),1)])),_:1})])),_:1})):r("",!0)])):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.seo?(t(),u("div",q,[s("h5",W,o(v.$t("Seo Tool")),1),!S.configSidebar||S.configSidebar&&S.configSidebar.seo?(t(),i(_e,{key:0,class:"itemGroupMenu",value:v.$t("Seo")},{activator:l((({props:e})=>[a(C,p({class:"itemMainMenu"},e),{prepend:l((()=>[F])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Seo")),1)])),_:1})])),_:2},1040)])),default:l((()=>[!S.configSidebar||S.configSidebar&&S.configSidebar.sitemap?(t(),i(C,{key:0,onClick:w[15]||(w[15]=e=>v.redirect("seo_sitemap")),class:"itemSubMenu"},{default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Sitemap")),1)])),_:1})])),_:1})):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.httpError?(t(),i(C,{key:1,onClick:w[16]||(w[16]=e=>v.redirect("seo_http_error")),class:"itemSubMenu"},{default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("404 & 301")),1)])),_:1})])),_:1})):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.indexing?(t(),i(C,{key:2,onClick:w[17]||(w[17]=e=>v.redirect("seo_indexing")),class:"itemSubMenu"},{default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Instant Indexing")),1)])),_:1})])),_:1})):r("",!0)])),_:1},8,["value"])):r("",!0)])):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.import?(t(),u("div",K,[s("h5",Q,o(v.$t("Import DataBase")),1),!S.configSidebar||S.configSidebar&&S.configSidebar.import?(t(),i(C,{key:0,class:h(["itemMainMenu",{"v-list-item--active":"import"===v.activeItem}]),onClick:w[18]||(w[18]=e=>v.handleModalImport()),value:"import"},{prepend:l((()=>[X])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Import CSV")),1)])),_:1})])),_:1},8,["class"])):r("",!0),a(Ce,{modelValue:v.dialogImport,"onUpdate:modelValue":w[20]||(w[20]=e=>v.dialogImport=e),width:"420"},{default:l((()=>[a(ke,null,{default:l((()=>[a(ye,{"onUpdate:dialog":w[19]||(w[19]=e=>v.dialogImport=e)})])),_:1})])),_:1},8,["modelValue"])])):r("",!0),!S.configSidebar||S.configSidebar&&S.configSidebar.cache?(t(),u("div",Y,[s("h5",ee,o(v.$t("Cache")),1),!S.configSidebar||S.configSidebar&&S.configSidebar.cache?(t(),i(C,{key:0,class:h(["itemMainMenu",{"v-list-item--active":"cache"===v.activeItem}]),onClick:v.clearCache,value:"cache"},{prepend:l((()=>[te])),default:l((()=>[a(k,null,{default:l((()=>[d(o(v.$t("Clear Cache")),1)])),_:1})])),_:1},8,["class","onClick"])):r("",!0)])):r("",!0)])),_:1})])),_:1},8,["rail"]),a(Pe,{class:"align-center justify-center"},{default:l((()=>[a(Ce,{class:"dialog-commandPalette",modelValue:v.dialogSearch,"onUpdate:modelValue":w[27]||(w[27]=e=>v.dialogSearch=e),width:v.widthSearch},{default:l((()=>[a(ke,null,{default:l((()=>[a(Te,null,{default:l((()=>[s("div",ne,[a(Re,{density:"compact",variant:"solo","single-line":"",placeholder:"Search anything","hide-details":"",modelValue:v.search,"onUpdate:modelValue":w[24]||(w[24]=e=>v.search=e),clearable:"",ref:"searchRef",onInput:w[25]||(w[25]=e=>v.loadSearch()),"onClick:clear":w[26]||(w[26]=e=>v.handleClearableClick()),class:"--formContent componentField-input me-2"},{"append-inner":l((()=>[a(be,{onClick:w[23]||(w[23]=e=>v.submitSearch())},{default:l((()=>[d("mdi-magnify")])),_:1})])),_:1},8,["modelValue"])])])),_:1}),a(Be,{class:"pa-0"},{default:l((()=>[v.isLoadingSearch?(t(),i($e,{key:0,active:v.isLoadingSearch,indeterminate:""},null,8,["active"])):r("",!0),v.search?r("",!0):(t(),i(He,{key:1,"no-gutters":"",class:"--body"},{default:l((()=>[v.suggest?(t(),i(je,{key:0,cols:"9",class:"--suggestList d-flex flex-column"},{default:l((()=>[a(C,{type:"type",class:"--groupLabel"},{default:l((()=>[oe])),_:1}),v.listingSugget.length?(t(),i(Oe,{key:0,items:v.listingSugget,ref:"scrollSugget",class:"--listingWrapper"},{default:l((({item:e,index:c})=>[a(C,{class:h(["--item",{" selected v-list-item--active":v.selectedSugget===c}]),onClick:t=>v.enterItem(e)},{prepend:l((()=>[s("div",he,[a(be,null,{default:l((()=>[d(o(e.icon??"mdi-help-circle-outline"),1)])),_:2},1024)])])),append:l((()=>[a(b,{class:"ms-2","append-icon":"mdi-arrow-right",variant:"tonal",size:"small"},{default:l((()=>[d(o("class"==e.model&&"create"==e.action?"Enter to create":"Enter to go"),1)])),_:2},1024)])),default:l((()=>[a(k,null,{default:l((()=>[s("span",{innerHTML:v.highlightItem("class"==e.model?e.title+" "+e.name:e.name)},null,8,re)])),_:2},1024),"class"!==e.model?(t(),i(Ve,{key:0},{default:l((()=>[s("span",{innerHTML:v.highlightItem(e.path)},null,8,de)])),_:2},1024)):r("",!0)])),_:2},1032,["onClick","class"])])),_:1},8,["items"])):r("",!0)])),_:1})):r("",!0),v.recent?(t(),i(je,{key:1,cols:"3",class:"--recentList d-flex flex-column"},{default:l((()=>[a(C,{class:"--groupLabel",type:"type"},{default:l((()=>[ue])),_:1}),v.listingRecent.length?(t(),i(Oe,{key:0,items:v.listingRecent,ref:"scrollRecent",class:"--listingWrapper"},{default:l((({item:e,index:c})=>[a(C,{class:h(["--item",{" selected v-list-item--active":v.selectedRecent===c}]),onClick:t=>v.enterItem(e)},{prepend:l((()=>[s("div",pe,[a(be,null,{default:l((()=>[d(o(e.icon??"mdi-help-circle-outline"),1)])),_:2},1024)])])),append:l((()=>[a(b,{class:"ms-2 d-none","append-icon":"mdi-arrow-right",variant:"tonal",size:"small"},{default:l((()=>[d(o("class"==e.model&&"create"==e.action?"Enter to create":"Enter to go"),1)])),_:2},1024)])),default:l((()=>[a(k,null,{default:l((()=>[s("span",{innerHTML:v.highlightItem("class"==e.model?e.title+" "+e.name:e.name)},null,8,ge)])),_:2},1024),"class"!==e.model?(t(),i(Ve,{key:0},{default:l((()=>[s("span",{innerHTML:v.highlightItem(e.path)},null,8,me)])),_:2},1024)):r("",!0)])),_:2},1032,["onClick","class"])])),_:1},8,["items"])):r("",!0)])),_:1})):r("",!0)])),_:1})),v.search?(t(),u("div",fe,[v.listingSearch.length?(t(),i(Oe,{key:0,items:v.listingSearch,ref:"scrollSearch",class:"--listingWrapper"},{default:l((({item:e,index:c})=>[a(C,{class:h(["--item",{" selected v-list-item--active":v.selectedIndex===c}]),onClick:t=>v.enterItem(e)},{prepend:l((()=>[s("div",we,[a(be,null,{default:l((()=>[d(o(e.icon??"mdi-help-circle-outline"),1)])),_:2},1024)])])),append:l((()=>[a(b,{class:"ms-2","append-icon":"mdi-arrow-right",variant:"tonal",size:"small"},{default:l((()=>[d(o("class"==e.model&&"create"==e.action?"Enter to create":"Enter to go"),1)])),_:2},1024)])),default:l((()=>[a(k,null,{default:l((()=>[s("span",{innerHTML:v.highlightItem("class"==e.model?e.title+" "+e.name:e.name)},null,8,Se)])),_:2},1024),"class"!==e.model?(t(),i(Ve,{key:0},{default:l((()=>[s("span",{innerHTML:v.highlightItem(e.path)},null,8,ve)])),_:2},1024)):r("",!0)])),_:2},1032,["onClick","class"])])),_:1},8,["items"])):r("",!0)])):r("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue","width"]),f(v.$slots,"default")])),_:3})])),_:3})}});export{_e as default};
