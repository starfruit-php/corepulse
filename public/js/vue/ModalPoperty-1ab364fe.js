import{r as e,o as t,h as a,a as l,w as o,d as i,f as s,c as r,i as d,n,t as c,k as p}from"./app-058e573c.js";const u={style:{width:"500px"}},m={class:"--formContent componentField-input"},h=s("label",null,"Title",-1),g={class:"--formContent componentField-input"},v=s("label",null,"Type Property",-1),f={class:"--formContent componentField-input"},_=s("label",null,"Type Metric",-1),y={class:"--formContent componentField-input"},C=s("label",null,"Time",-1),b={class:"--formContent componentField-input"},V=s("label",null,"Color",-1),T={class:"d-flex align-center mt-2"},P={props:{catalog:{type:[Number,String],default:"page"},data:Object},data:()=>({toast:p.useToast({position:"top-right",style:{zIndex:"200"}}),rules:[e=>!!e||"Required."],titlePage:"",navigationPage:"",keyPage:"",typeTime:["Today","7 day","10 day","30 day","6 month","12 month","Custom range"],selectTime:"",typeMetric:["visits","visitors","pageviews","views_per_visit","bounce_rate","visit_duration","time_on_page"],selectMetric:"visitors",selectProper:"",typeProper:["event:page","visit:entry_page","visit:exit_page","visit:source","visit:utm_medium","visit:utm_source","visit:utm_campaign","visit:utm_content","visit:utm_term","visit:device","visit:browser","visit:os"],selectedColor:"#6a1b9a",current_date:"",start_date:"",dateRange:[],showCustomRange:!1}),watch:{selectTime(e){"Custom range"===e&&(this.showCustomRange=!0,this.selectTime="")},dateRange(e){let t=this.dateRange.split("-").map((e=>e.trim())),a=t[1].replace(/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/,((e,t,a,l)=>`${t}-${a=a.padStart(2,"0")}-${l=l.padStart(2,"0")}`)),l=t[0].replace(/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/,((e,t,a,l)=>`${t}-${a=a.padStart(2,"0")}-${l=l.padStart(2,"0")}`));this.current_date=a,this.start_date=l,console.log(this.current_date)}},methods:{closeDialog(){this.$emit("update:dialog",!1)},addDataMetric(){this.$emit("update:showArrChart",!1);const e=new FormData;e.append("title",this.titlePage),e.append("property",this.selectProper),e.append("metrics",this.selectMetric),e.append("time",this.selectTime),e.append("current_date",this.current_date),e.append("start_date",this.start_date),e.append("color",this.selectedColor),fetch("../cms/add-arr-chart-pro",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.$nextTick((()=>{this.data.push(e.data),this.$emit("update:arrChart",this.data),this.$emit("update:showArrChart",!0),this.closeDialog()}))})).catch((e=>{console.log(e)}))}}},w=Object.assign(P,{__name:"ModalPoperty",setup:p=>(p,P)=>{const w=e("v-card-title"),$=e("v-text-field"),x=e("Select"),M=e("DateRange"),R=e("v-color-picker"),k=e("v-card-text"),D=e("v-spacer"),S=e("v-btn"),F=e("v-card-actions"),U=e("v-card");return t(),a("div",u,[l(U,null,{default:o((()=>[l(w,{style:{background:"var(--color-primary--light)",color:"var(--color-primary)"}},{default:o((()=>[i(" Add Metric ")])),_:1}),l(k,null,{default:o((()=>[s("div",m,[h,l($,{variant:"outlined",density:"compact","bg-color":"white",modelValue:p.titlePage,"onUpdate:modelValue":P[0]||(P[0]=e=>p.titlePage=e),required:""},null,8,["modelValue"])]),s("div",g,[v,l(x,{items:p.typeProper,modelValue:p.selectProper,"onUpdate:modelValue":P[1]||(P[1]=e=>p.selectProper=e)},null,8,["items","modelValue"])]),s("div",f,[_,l(x,{items:p.typeMetric,modelValue:p.selectMetric,"onUpdate:modelValue":P[2]||(P[2]=e=>p.selectMetric=e)},null,8,["items","modelValue"])]),s("div",y,[C,l(x,{items:p.typeTime,modelValue:p.selectTime,"onUpdate:modelValue":P[3]||(P[3]=e=>p.selectTime=e)},null,8,["items","modelValue"]),p.showCustomRange?(t(),r(M,{key:0,modelValue:p.dateRange,"onUpdate:modelValue":P[4]||(P[4]=e=>p.dateRange=e),label:"Custom Range"},null,8,["modelValue"])):d("",!0)]),s("div",b,[V,l(R,{modelValue:p.selectedColor,"onUpdate:modelValue":P[5]||(P[5]=e=>p.selectedColor=e),class:"w-100","hide-canvas":"","hide-input":"","preset-colors":["#ffffff","#000000","#ff0000","#00ff00","#0000ff"]},null,8,["modelValue"]),s("div",T,[s("div",{class:"color-box",style:n({backgroundColor:p.selectedColor})},null,4),s("span",null,[i(" Color code selected: "),s("strong",null,c(p.selectedColor),1)])])])])),_:1}),l(F,null,{default:o((()=>[l(D),l(S,{text:"Close Dialog",onClick:p.closeDialog},null,8,["onClick"]),l(S,{color:"primary",variant:"text",onClick:P[6]||(P[6]=e=>p.addDataMetric())},{default:o((()=>[i(" OK ")])),_:1})])),_:1})])),_:1})])}});export{w as default};
