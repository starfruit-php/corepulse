import{g as e,r as l,o as a,h as s,f as t,a as i,w as n,c as o,d as u,i as d,b as r,k as p}from"./app-2b531625.js";import c from"./Layout-7b37c0dd.js";const m={class:"mainAppWrapper adminSettingWrapper d-flex flex-column"},f={class:"mainBarWrapper px-5 pt-3 flex-grow-0 flex-shrink-0"},h={class:"d-flex align-center"},b={class:"--left d-flex align-center"},v=t("div",{class:"d-flex flex-column me-4"},[t("h3",{class:"--objectTitle me-4"},"Plausible Setting")],-1),g=t("span",{class:"--text"},"License",-1),y=t("span",{class:"--text"},"Setup",-1),_=t("span",{class:"--text"},"Account Login",-1),w={class:"mainContentWrapper detailContentWrapper d-flex flex-column flex-grow-1 flex-shrink-1 overflow-hidden"},x={class:"detailFormWrapper pa-5 overflow-auto"},S=t("h3",null,"License Status",-1),k={class:"d-flex flex-column mt-2 mb-4"},V={class:"d-flex align-center justify-space-between mb-2"},P=t("span",null,"Current Plan",-1),j=t("div",{class:"d-flex align-center justify-space-between"},[t("span",null,"End of plan"),t("strong",null,"20th December 2023")],-1),C={class:"d-flex"},I=t("h3",null,"Setup",-1),U=t("h4",{class:"mb-2"},"Link Public Plausible",-1),K=t("h4",{class:"mb-2"},"Domain",-1),F=t("h4",{class:"mb-2"},"Site ID",-1),T=t("h4",{class:"mb-2"},"Api Key",-1),W={class:"--right"},D=t("h3",null,"Account",-1),L={class:"flex-column mt-2 mb-4"},A={class:"align-center justify-space-between mb-2"},O={class:"--formContent componentField-input"},$=t("label",null,"Username",-1),z={class:"align-center justify-space-between"},B={class:"--formContent componentField-input"},E=t("label",null,"Password",-1),G={class:"d-flex"},q={data(){return{shows:!1,loading:!1,domain:this.plausibleSetting?this.plausibleSetting.domain:"",apiKey:this.plausibleSetting?this.plausibleSetting.apiKey:"",siteId:this.plausibleSetting?this.plausibleSetting.siteId:"",username:this.plausibleSetting?this.plausibleSetting.username:"",password:this.plausibleSetting?this.plausibleSetting.password:"",linkPublic:this.plausibleSetting?this.plausibleSetting.link:"",toast:p.useToast({position:"top-right"})}},methods:{saveUser(){this.loading=!0;const e={username:this.username,password:this.password};this.$inertia.post(route("vuetify_plausible_account"),{user:e},{forceFormData:!0}),setTimeout((()=>{this.flash.success&&(this.toast.open({message:this.flash.success,type:"success"}),this.loading=!1);var e=this.flash.errors.key??"",l=this.flash.errors.message??this.flash.errors;this.flash.errors&&this.toast.open({message:e+" "+l,type:"error"})}),1e3)},onSubmit(){this.loading=!0;const e={domain:this.domain,siteId:this.siteId,apiKey:this.apiKey,link:this.linkPublic};this.$inertia.post(route("vuetify_plausible_setup"),e,{forceFormData:!0}),setTimeout((()=>{this.flash.success&&(this.toast.open({message:this.flash.success,type:"success"}),this.loading=!1);var e=this.flash.errors.key??"",l=this.flash.errors.message??this.flash.errors;this.flash.errors&&this.toast.open({message:e+" "+l,type:"error"})}),1e3)}}},H=Object.assign(q,{layout:c},{__name:"Setting",props:{plausibleSetting:Object,flash:Object},setup(p){const c=p,q=e("tab-1"),H=c.plausibleSetting?c.plausibleSetting.link:"",J=()=>{H?window.open(H,"_blank"):alert("The link is empty. Please provide a valid link under 'Setup'.")},M=()=>{q.value="tab-3"};return(e,p)=>{const c=l("v-icon"),H=l("v-tab"),N=l("v-tabs"),Q=l("v-card-title"),R=l("v-card-item"),X=l("v-chip"),Y=l("v-btn"),Z=l("v-card-text"),ee=l("v-card"),le=l("Input"),ae=l("v-col"),se=l("v-row"),te=l("v-text-field");return a(),s("div",m,[t("div",f,[t("div",h,[t("div",b,[i(c,{icon:"mdi-cog-outline",class:"--objectIcon me-3"}),v])]),i(N,{modelValue:q.value,"onUpdate:modelValue":p[0]||(p[0]=e=>q.value=e),class:"mainTabPanel"},{default:n((()=>[i(H,{value:"tab-1"},{default:n((()=>[g])),_:1}),i(H,{value:"tab-3"},{default:n((()=>[y])),_:1}),i(H,{value:"tab-4"},{default:n((()=>[_])),_:1})])),_:1},8,["modelValue"])]),t("div",w,[t("div",x,["tab-1"===q.value?(a(),o(ee,{key:0,width:"320",class:"pa-3 mb-5"},{default:n((()=>[i(R,null,{default:n((()=>[i(Q,null,{default:n((()=>[S])),_:1})])),_:1}),i(Z,null,{default:n((()=>[t("div",k,[t("div",V,[P,i(X,{size:"small",color:"primary"},{default:n((()=>[u("Free")])),_:1})]),j]),t("div",C,[i(Y,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-open-in-new",onClick:J},{default:n((()=>[u(" Go to Plausible ")])),_:1}),"tab-3"!==q.value?(a(),o(Y,{key:0,variant:"tonal",class:"","prepend-icon":"mdi-cog-outline",onClick:M},{default:n((()=>[u(" Configure ")])),_:1})):d("",!0)])])),_:1})])),_:1})):d("",!0),"tab-3"===q.value?(a(),o(ee,{key:1,class:"pa-3 mb-5"},{default:n((()=>[i(R,null,{default:n((()=>[i(Q,null,{default:n((()=>[I])),_:1})])),_:1}),i(Z,null,{default:n((()=>[i(se,null,{default:n((()=>[i(ae,{cols:"6"},{default:n((()=>[U,i(le,{name:"linkPublic",label:"",modelValue:e.linkPublic,"onUpdate:modelValue":p[1]||(p[1]=l=>e.linkPublic=l)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"6"},{default:n((()=>[K,i(le,{name:"domain",label:"",modelValue:e.domain,"onUpdate:modelValue":p[2]||(p[2]=l=>e.domain=l)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"6"},{default:n((()=>[F,i(le,{name:"siteId",label:"",modelValue:e.siteId,"onUpdate:modelValue":p[3]||(p[3]=l=>e.siteId=l)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"6"},{default:n((()=>[T,i(le,{name:"apiKey",label:"",modelValue:e.apiKey,"onUpdate:modelValue":p[4]||(p[4]=l=>e.apiKey=l)},null,8,["modelValue"])])),_:1}),i(ae,{cols:"12"},{default:n((()=>[t("div",W,[i(Y,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-content-save",onClick:e.onSubmit,loading:e.loading},{default:n((()=>[u(" Save ")])),_:1},8,["onClick","loading"])])])),_:1})])),_:1})])),_:1})])),_:1})):d("",!0),"tab-4"===q.value?(a(),o(ee,{key:2,width:"320",class:"pa-3 mb-5"},{default:n((()=>[i(R,null,{default:n((()=>[i(Q,null,{default:n((()=>[D])),_:1})])),_:1}),i(Z,null,{default:n((()=>[t("form",{onSubmit:p[8]||(p[8]=r(((...l)=>e.saveUser&&e.saveUser(...l)),["prevent"]))},[t("div",L,[t("div",A,[t("div",O,[$,i(te,{variant:"outlined",density:"compact","bg-color":"white",type:e.text,modelValue:e.username,"onUpdate:modelValue":p[5]||(p[5]=l=>e.username=l)},null,8,["type","modelValue"])])]),t("div",z,[t("div",B,[E,i(te,{variant:"outlined",density:"compact","bg-color":"white",modelValue:e.password,"onUpdate:modelValue":p[6]||(p[6]=l=>e.password=l),type:e.shows?"text":"password","append-inner-icon":e.shows?"mdi-eye":"mdi-eye-off","onClick:appendInner":p[7]||(p[7]=l=>e.shows=!e.shows)},null,8,["modelValue","type","append-inner-icon"])])])]),t("div",G,[i(Y,{elevated:"",class:"btn-primary me-2","prepend-icon":"mdi-content-save",type:"submit",loading:e.loading},{default:n((()=>[u(" Save ")])),_:1},8,["loading"])])],32)])),_:1})])),_:1})):d("",!0)])])])}}});export{H as default};
