import{d as e}from"./vue-toast-notification-f2a3de7a.js";import{am as t,o as a,c as l,k as o,q as i,N as s,a as r,C as d,E as n,L as c,M as p}from"./@vue-9ee83fb6.js";import"./@ckeditor-fa9b3055.js";import"./vue-abe8eda6.js";const u={style:{width:"500px"}},m={class:"--formContent componentField-input"},h=r("label",null,"Title",-1),v={class:"--formContent componentField-input"},g=r("label",null,"Type Property",-1),f={class:"--formContent componentField-input"},_=r("label",null,"Type Metric",-1),y={class:"--formContent componentField-input"},C=r("label",null,"Time",-1),b={class:"--formContent componentField-input"},V=r("label",null,"Color",-1),T={class:"d-flex align-center mt-2"},P={props:{catalog:{type:[Number,String],default:"page"},data:Object},data:()=>({toast:e.useToast({position:"top-right",style:{zIndex:"200"}}),rules:[e=>!!e||"Required."],titlePage:"",navigationPage:"",keyPage:"",typeTime:["Today","7 day","10 day","30 day","6 month","12 month","Custom range"],selectTime:"",typeMetric:["visits","visitors","pageviews","views_per_visit","bounce_rate","visit_duration","time_on_page"],selectMetric:"visitors",selectProper:"",typeProper:["event:page","visit:entry_page","visit:exit_page","visit:source","visit:utm_medium","visit:utm_source","visit:utm_campaign","visit:utm_content","visit:utm_term","visit:device","visit:browser","visit:os"],selectedColor:"#6a1b9a",current_date:"",start_date:"",dateRange:[],showCustomRange:!1}),watch:{selectTime(e){"Custom range"===e&&(this.showCustomRange=!0,this.selectTime="")},dateRange(e){let t=this.dateRange.split("-").map((e=>e.trim())),a=t[1].replace(/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/,((e,t,a,l)=>`${t}-${a=a.padStart(2,"0")}-${l=l.padStart(2,"0")}`)),l=t[0].replace(/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/,((e,t,a,l)=>`${t}-${a=a.padStart(2,"0")}-${l=l.padStart(2,"0")}`));this.current_date=a,this.start_date=l,console.log(this.current_date)}},methods:{closeDialog(){this.$emit("update:dialog",!1)},addDataMetric(){this.$emit("update:showArrChart",!1);const e=new FormData;e.append("title",this.titlePage),e.append("property",this.selectProper),e.append("metrics",this.selectMetric),e.append("time",this.selectTime),e.append("current_date",this.current_date),e.append("start_date",this.start_date),e.append("color",this.selectedColor),fetch("../cms/add-arr-chart-pro",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.$nextTick((()=>{this.data.push(e.data),this.$emit("update:arrChart",this.data),this.$emit("update:showArrChart",!0),this.closeDialog()}))})).catch((e=>{console.log(e)}))}}},w=Object.assign(P,{__name:"ModalPoperty",setup:e=>(e,P)=>{const w=t("v-card-title"),$=t("v-text-field"),M=t("Select"),k=t("DateRange"),x=t("v-color-picker"),R=t("v-card-text"),D=t("v-spacer"),S=t("v-btn"),j=t("v-card-actions"),F=t("v-card");return a(),l("div",u,[o(F,null,{default:i((()=>[o(w,{style:{background:"var(--color-primary--light)",color:"var(--color-primary)"}},{default:i((()=>[s(" Add Metric ")])),_:1}),o(R,null,{default:i((()=>[r("div",m,[h,o($,{variant:"outlined",density:"compact","bg-color":"white",modelValue:e.titlePage,"onUpdate:modelValue":P[0]||(P[0]=t=>e.titlePage=t),required:""},null,8,["modelValue"])]),r("div",v,[g,o(M,{items:e.typeProper,modelValue:e.selectProper,"onUpdate:modelValue":P[1]||(P[1]=t=>e.selectProper=t)},null,8,["items","modelValue"])]),r("div",f,[_,o(M,{items:e.typeMetric,modelValue:e.selectMetric,"onUpdate:modelValue":P[2]||(P[2]=t=>e.selectMetric=t)},null,8,["items","modelValue"])]),r("div",y,[C,o(M,{items:e.typeTime,modelValue:e.selectTime,"onUpdate:modelValue":P[3]||(P[3]=t=>e.selectTime=t)},null,8,["items","modelValue"]),e.showCustomRange?(a(),d(k,{key:0,modelValue:e.dateRange,"onUpdate:modelValue":P[4]||(P[4]=t=>e.dateRange=t),label:"Custom Range"},null,8,["modelValue"])):n("",!0)]),r("div",b,[V,o(x,{modelValue:e.selectedColor,"onUpdate:modelValue":P[5]||(P[5]=t=>e.selectedColor=t),class:"w-100","hide-canvas":"","hide-input":"","preset-colors":["#ffffff","#000000","#ff0000","#00ff00","#0000ff"]},null,8,["modelValue"]),r("div",T,[r("div",{class:"color-box",style:c({backgroundColor:e.selectedColor})},null,4),r("span",null,[s(" Color code selected: "),r("strong",null,p(e.selectedColor),1)])])])])),_:1}),o(j,null,{default:i((()=>[o(D),o(S,{text:"Close Dialog",onClick:e.closeDialog},null,8,["onClick"]),o(S,{color:"primary",variant:"text",onClick:P[6]||(P[6]=t=>e.addDataMetric())},{default:i((()=>[s(" OK ")])),_:1})])),_:1})])),_:1})])}});export{w as default};
