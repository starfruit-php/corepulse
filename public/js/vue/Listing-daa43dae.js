import e from"./Layout-a98fddfb.js";import{c as t,M as i}from"./app-059e4860.js";import a from"./ModalCreatePage-dadbbb60.js";import{am as l,o,c as s,a as r,k as n,q as d,K as p,p as c,C as m,M as u,E as g,A as h,N as f}from"./@vue-9ee83fb6.js";import"./@vueuse-3c3b27e0.js";import"./unidecode-5a54da0f.js";import"./@ckeditor-fa9b3055.js";import"./vue-abe8eda6.js";import"./vue-draggable-next-3bc70602.js";import"./ckeditor5-custom-build-7f9f8982.js";import"./vue-toast-notification-f2a3de7a.js";import"./vue3-treeview-e35ab4eb.js";import"./vue-filepond-82332930.js";import"./filepond-136e7cc4.js";import"./filepond-plugin-image-preview-4f29f0b3.js";import"./filepond-plugin-file-validate-type-324437b8.js";import"./mapbox-gl-38e32bee.js";/* empty css             */import"./vuetify-193e6d04.js";import"./@inertiajs-d76518b1.js";import"./axios-3d65c6bd.js";import"./deepmerge-3a6ffb65.js";import"./side-channel-e57be611.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./call-bind-36d0f176.js";import"./set-function-length-801a4962.js";import"./define-data-property-daf1763a.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-61b1e1fb.js";import"./object-inspect-0fa0b9de.js";import"./nprogress-9c4c7d08.js";import"./lodash.clonedeep-c1370659.js";import"./lodash.isequal-feeae999.js";import"./@vuepic-f846cd73.js";import"./date-fns-421fcf3e.js";import"./@babel-0d6f2215.js";import"./element-plus-e3c76eb0.js";import"./lodash-es-fb3d0246.js";import"./@element-plus-283d896c.js";import"./@popperjs-2d1e819d.js";import"./@ctrl-91de2ec7.js";import"./dayjs-7398d4dd.js";import"./async-validator-8d480e59.js";import"./memoize-one-63ab667a.js";import"./escape-html-5c28ffbb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-24fcdcc4.js";import"./vue3-apexcharts-663397fa.js";import"./apexcharts-4d1d416c.js";import"./vue-i18n-d397f996.js";import"./@intlify-90b40ed7.js";const v={class:"mainAppWrapper d-flex flex-column"},j={class:"mainBarWrapper px-5 py-3 d-flex justify-space-between align-center flex-grow-0 flex-shrink-0"},y={class:"--left d-flex align-center"},b={class:"d-flex flex-column me-4"},k=r("span",null,"Home",-1),C=r("span",{class:"--divider"},"·",-1),P=r("span",{class:"--divider"},"·",-1),_=r("h3",{class:"--objectTitle me-4"},"Document",-1),x={class:"--right"},A={class:"mainContentWrapper px-5 py-4 d-flex flex-column flex-grow-1 flex-shrink-1 overflow-hidden"},w={class:"tableListingWrapper d-flex flex-column flex-shrink-1 flex-grow-1 overflow-hidden"},D={props:{nameParent:Object},data(){var e=window.location.href;let a=window.localStorage.getItem(e);a?a=JSON.parse(a):(a=[{title:"ID",align:"start",key:"id",sortable:!1,removable:!0},{title:"Title",key:"name",removable:!0,handleClick:!0,url:"vuetify_doc_detail",doubleClickIcon:"mdi-plus",doubleClickUrl:"vuetify_doc_get_item_chill",doubleClick:!0},{title:"Type",key:"type",removable:!0},{title:"Status",key:"status",removable:!0,searchType:"Select",type:"status",options:[{value:"-1",key:"All"},{value:"1",key:"Publish"},{value:"0",key:"Draft"}]},{title:"Last Update",key:"modificationDate",removable:!0,searchType:"DatePicker"}],window.localStorage.setItem(e,JSON.stringify(a)));var l=[];a.map((e=>{e.removable&&l.push(e)}));var o=[this.createAction("xem","mdi-eye-outline","detail","vuetify_doc_detail",!1,!1,!1),this.createAction("xóa","mdi-delete-outline","delete","vuetify_doc_delete",t,!0)],s=[{title:"Delete",icon:"mdi-delete-outline",url:{path:"vuetify_doc_delete",content:{title:"Delete",content:"Are you sure you want to Delete all selected",confirm:"Delete"},data:{test:"1"}},component:i,post:!0,reload:!1}];const r=new URLSearchParams(window.location.search).get("folderId");var n=[];return r&&(n={folderId:r}),{isActive:!1,items:[{text:"Add Page",icon:"mdi-file-document-plus-outline"},{text:"Audience",icon:"mdi-account"},{text:"Conversions",icon:"mdi-flag"}],object:this.listing,page:1,itemsPerPage:15,headers:l,desserts:this.listing,confirmDeleteDialog:!1,list:a,routerList:{router:route("vuetify_doc_listing",n)},action:o,fav:!0,menu:!1,message:!1,hints:!0,titlePage:"",navigationPage:"",keyPage:"",dialogCreatePage:!1,selectedAction:s,typeCreate:"",folderId:r}},computed:{pageCount(){return Math.ceil(this.countData/this.itemsPerPage)}},methods:{createAction:(e,t,i,a,l=!1,o=!0,s=!0,r=!0)=>({title:e,icon:t,key:i,url:a,component:l,multiple:o,post:s,reload:r}),updateData(){console.log(this.titlePage),this.keyPage=this.titlePage,this.navigationPage=this.titlePage},openDialog(){this.isActive=!0},navigateToFolder(){this.$inertia.post("/cms/document/listing")},navigateToFolderChill(e){this.$inertia.post("/cms/document/listing?folderId="+e.id)},createPage(){this.dialogCreatePage=!0,this.typeCreate="Page",this.menu=!1},createSnippet(){this.dialogCreatePage=!0,this.typeCreate="Snippet",this.menu=!1},createLink(){this.dialogCreatePage=!0,this.typeCreate="Link",this.menu=!1},createEmail(){this.dialogCreatePage=!0,this.typeCreate="Email",this.menu=!1},createHardlink(){this.dialogCreatePage=!0,this.typeCreate="Hardlink",this.menu=!1},createFolder(){this.dialogCreatePage=!0,this.typeCreate="Folder",this.menu=!1}}},I=Object.assign(D,{layout:e},{__name:"Listing",props:{listing:[Object,Array],countData:Object,totalItems:Number,nameParent:Object,chips:[Object,Array],chipsColor:[Object,Array]},setup:e=>(t,i)=>{const D=l("v-icon"),I=l("v-breadcrumbs-item"),S=l("v-breadcrumbs"),L=l("v-btn"),T=l("v-list-item-title"),F=l("v-list-item"),O=l("v-list"),H=l("v-card"),U=l("v-menu"),V=l("v-dialog"),E=l("CustomField"),W=l("DataTableServer");return o(),s("div",v,[r("div",j,[r("div",y,[n(D,{icon:"mdi-file-document",class:"--objectIcon me-3"}),r("div",b,[n(S,{class:"breadcrumbWrapper pa-0"},{default:d((()=>[n(I,{class:"--itemBreadcrumb",disabled:!e.nameParent,onClick:t.navigateToFolder,title:"Home"},{default:d((()=>[k])),_:1},8,["disabled","onClick"]),C,(o(!0),s(p,null,c(e.nameParent,((e,i)=>(o(),s(p,{key:i},[e?(o(),m(I,{key:0,onClick:i=>t.navigateToFolderChill(e),class:"--itemBreadcrumb",disabled:e.end},{default:d((()=>[r("span",null,u(e.name),1)])),_:2},1032,["onClick","disabled"])):g("",!0),P],64)))),128))])),_:1}),_]),n(U,{modelValue:t.menu,"onUpdate:modelValue":i[6]||(i[6]=e=>t.menu=e),"close-on-content-click":!1},{activator:d((({props:e})=>[n(L,h({class:"btn-primary me-2",variant:"elevated","prepend-icon":"mdi-plus"},e),{default:d((()=>[f(" Add New ")])),_:2},1040),n(L,h({class:"btn-primary me-2",variant:"elevated","prepend-icon":"mdi-folder-plus"},e,{onClick:i[0]||(i[0]=e=>t.createFolder())}),{default:d((()=>[f(" Add Folder ")])),_:2},1040)])),default:d((()=>[n(H,{"min-width":"150"},{default:d((()=>[n(O,null,{default:d((()=>[n(F,{onClick:i[1]||(i[1]=e=>t.createPage())},{prepend:d((()=>[n(D,{icon:"mdi-file-document-plus-outline"})])),default:d((()=>[n(T,null,{default:d((()=>[f("Add Page")])),_:1})])),_:1}),n(F,{onClick:i[2]||(i[2]=e=>t.createSnippet())},{prepend:d((()=>[n(D,{icon:"mdi-file-code-outline"})])),default:d((()=>[n(T,null,{default:d((()=>[f("Add Snippet")])),_:1})])),_:1}),n(F,{onClick:i[3]||(i[3]=e=>t.createLink())},{prepend:d((()=>[n(D,{icon:"mdi-link"})])),default:d((()=>[n(T,null,{default:d((()=>[f("Add Link")])),_:1})])),_:1}),n(F,{onClick:i[4]||(i[4]=e=>t.createEmail())},{prepend:d((()=>[n(D,{icon:"mdi-email-outline"})])),default:d((()=>[n(T,null,{default:d((()=>[f("Add Email")])),_:1})])),_:1}),n(F,{onClick:i[5]||(i[5]=e=>t.createHardlink())},{prepend:d((()=>[n(D,{icon:"mdi-link-variant"})])),default:d((()=>[n(T,null,{default:d((()=>[f("Add Hardlink")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),n(V,{width:"500",modelValue:t.dialogCreatePage,"onUpdate:modelValue":i[8]||(i[8]=e=>t.dialogCreatePage=e)},{default:d((()=>[n(H,null,{default:d((()=>[n(a,{"onUpdate:dialog":i[7]||(i[7]=e=>t.dialogCreatePage=e),type:t.typeCreate,folderId:t.folderId},null,8,["type","folderId"])])),_:1})])),_:1},8,["modelValue"])]),r("div",x,[n(E,{headers:t.headers,list:t.list,"onUpdate:headers":i[9]||(i[9]=e=>t.headers=e)},null,8,["headers","list"])])]),r("div",A,[r("div",w,[n(W,{listing:e.listing,router:t.routerList,"total-items":e.totalItems,headers:t.headers,action:t.action,chips:e.chips,chipsColor:e.chipsColor,selectedAction:t.selectedAction},null,8,["listing","router","total-items","headers","action","chips","chipsColor","selectedAction"])])])])}});export{I as default};
