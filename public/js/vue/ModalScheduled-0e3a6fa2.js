import e from"./ModalVideo-19a36ba5.js";import{r as l,o as t,h as a,f as o,F as i,l as s,a as n,w as c,d as u,t as d,i as p,c as k}from"./app-20b362f3.js";const m={class:"container"},h={class:"lists"},r=o("h4",{class:"mb-1"},"List Scheduled",-1),v={class:"edit"},y=o("h4",{class:"mb-1"},"Create or Edit",-1),B={class:"--formContent componentField-input"},b=o("label",null,"Choose Date",-1),V=["value"],f={key:0,class:"--formContent componentField-input",style:{"margin-top":"15px"}},g=o("label",null,"Title",-1),w={key:8,class:"--formContent componentField-input"},S=o("label",null,"Image",-1),C={key:9,class:"--formContent componentField-input"},O=o("label",null,"Pdf",-1),U={key:10,class:"--formContent componentField-input"},x=o("label",null,"Video",-1),j={key:11,class:"--formContent componentField-input"},T={key:12,class:"--formContent componentField-input"},F=o("label",null,"Relation",-1),R={props:{listScheduled:Array,type:Array},data:()=>({inputBlock:"",contentBlock:"",wysiwygBlock:"",imgeBlock:"",selectBlock:"",numericBlock:"",multiselectBlock:"",dateBlock:"",linkBlock:"",pdfBlock:"",videoBlock:"",relationBlock:"",relationsBlock:"",snippetBlock:"",datetimescheduled:"",list:[],options:[],optionsRela:[],optionsSnippet:[],optionsRelation:[],optionType:[{key:"asset",value:"asset"},{key:"youtube",value:"youtube"},{key:"vimeo",value:"vimeo"},{key:"dailymotion",value:"dailymotion"}],typeValue:"asset"}),mounted(){this.getOptionSnippet(),this.getOptionRelation()},methods:{getOptionSnippet(){const e=new FormData;e.append("type","manyToOneRelation"),e.append("subTypes",JSON.stringify("snippet"));fetch("../get-list-options",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.optionsSnippet=e.data})).catch((e=>{console.log(e)}))},getOptionRelation(){const e=new FormData;e.append("type","manyToOneRelation");fetch("../get-list-options",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.optionsRelation=e.data})).catch((e=>{console.log(e)}))},handleButtonClick(e){if(e in this.listScheduled){const l=this.listScheduled[e];l&&"object"==typeof l&&(this.list=Object.values(l),this.list.length>0&&(this.datetimescheduled=e,this.list.forEach((e=>{switch(e.type){case"input":this.inputBlock=e.value;break;case"textarea":this.contentBlock=e.value;break;case"wysiwyg":this.wysiwygBlock=e.value;break;case"image":this.imgeBlock=e.value;break;case"select":this.selectBlock=e.value;break;case"numeric":this.numericBlock=e.value;break;case"multiselect":this.multiselectBlock=e.value;break;case"date":this.dateBlock=e.value;break;case"link":this.linkBlock=e.value;break;case"pdf":this.pdfBlock=e.value;break;case"video":this.videoBlock=e.value;break;case"snippet":this.snippetBlock=e.value;break;case"relation":this.relationBlock=e.value}}))))}},saveChange(){const e=this.datetimescheduled;var l=[];let t="";const a=Object.keys(this.listScheduled).length;for(const i in this.type)"name"==i&&(t=this.type[i]);const o=t+":"+a;for(const i in this.type)"name"!=i&&l.push({key:o+"."+this.type[i].value,value:{type:i,value:""}});if(e){if(e in this.listScheduled){const l=this.listScheduled[e];l&&"object"==typeof l&&(this.list=Object.keys(l).map((e=>({key:e,value:l[e]}))))}else this.list=l;if(this.list.length>0&&this.list.forEach((e=>{switch(e.value.type){case"input":e.value.value=this.inputBlock;break;case"textarea":e.value.value=this.contentBlock;break;case"wysiwyg":e.value.value=this.wysiwygBlock;break;case"image":e.value.value=this.imgeBlock;break;case"select":e.value.value=this.selectBlock;break;case"numeric":e.value.value=this.numericBlock;break;case"multiselect":e.value.value=this.multiselectBlock;break;case"date":e.value.value=this.dateBlock;break;case"link":e.value.value=this.linkBlock;break;case"pdf":e.value.value=this.pdfBlock;break;case"video":e.value.value=this.videoBlock;break;case"snippet":e.value.value=this.snippetBlock;break;case"relation":e.value.value=this.relationBlock}})),this.list){const l=[];for(const e of this.list){const t={[e.key]:e.value};l.push(t)}const t=Object.assign({},...l);this.listScheduled[e]=t}}}}},D=Object.assign(R,{__name:"ModalScheduled",setup:R=>(D,_)=>{const M=l("v-icon"),E=l("v-btn"),L=l("DateTime"),N=l("v-text-field"),P=l("Textarea"),A=l("Wysiwyg"),I=l("Select"),J=l("Numeric"),W=l("Multiselect"),q=l("Date"),z=l("Link"),G=l("Images"),H=l("ManyToOneRelation"),K=l("v-form");return t(),a("div",m,[o("div",h,[r,(t(!0),a(i,null,s(R.listScheduled,((e,l)=>(t(),a("div",{class:"",key:l},[n(E,{class:"btn-primary me-2",variant:"elevated",style:{margin:"5px 0px"},onClick:e=>D.handleButtonClick(l)},{default:c((()=>[n(M,{style:{"margin-right":"15px"}},{default:c((()=>[u("mdi-clock-outline")])),_:1}),u(" "+d(l),1)])),_:2},1032,["onClick"])])))),128))]),o("div",v,[y,o("div",B,[b,n(L,{modelValue:D.datetimescheduled,"onUpdate:modelValue":_[0]||(_[0]=e=>D.datetimescheduled=e)},null,8,["modelValue"])]),(t(!0),a(i,null,s(R.type,((l,o)=>(t(),a("div",{key:o,value:l,class:"content-block"},[n(K,null,{default:c((()=>["input"===o?(t(),a("div",f,[g,n(N,{variant:"outlined",density:"compact","bg-color":"white",modelValue:D.inputBlock,"onUpdate:modelValue":_[1]||(_[1]=e=>D.inputBlock=e)},null,8,["modelValue"])])):p("",!0),"textarea"===o?(t(),k(P,{key:1,label:"Content",modelValue:D.contentBlock,"onUpdate:modelValue":_[2]||(_[2]=e=>D.contentBlock=e)},null,8,["modelValue"])):p("",!0),"wysiwyg"===o?(t(),k(A,{key:2,label:"Description",modelValue:D.wysiwygBlock,"onUpdate:modelValue":_[3]||(_[3]=e=>D.wysiwygBlock=e)},null,8,["modelValue"])):p("",!0),"select"===o?(t(),k(I,{key:3,label:"Select",modelValue:D.selectBlock,"onUpdate:modelValue":_[4]||(_[4]=e=>D.selectBlock=e)},null,8,["modelValue"])):p("",!0),"numeric"===o?(t(),k(J,{key:4,label:"Numeric",modelValue:D.numericBlock,"onUpdate:modelValue":_[5]||(_[5]=e=>D.numericBlock=e)},null,8,["modelValue"])):p("",!0),"multiselect"===o?(t(),k(W,{key:5,label:"Multiselect",modelValue:D.multiselectBlock,"onUpdate:modelValue":_[6]||(_[6]=e=>D.multiselectBlock=e)},null,8,["modelValue"])):p("",!0),"date"===o?(t(),k(q,{key:6,label:"Date",modelValue:D.dateBlock,"onUpdate:modelValue":_[7]||(_[7]=e=>D.dateBlock=e)},null,8,["modelValue"])):p("",!0),"link"===o?(t(),k(z,{key:7,label:"Edit Link",modelValue:D.linkBlock,"onUpdate:modelValue":_[8]||(_[8]=e=>D.linkBlock=e)},null,8,["modelValue"])):p("",!0),"image"===o?(t(),a("div",w,[S,n(G,{name:"imageBlock",label:"",modelValue:D.imgeBlock,"onUpdate:modelValue":_[9]||(_[9]=e=>D.imgeBlock=e),disabled:!1,checkbox:"1",class:"mt-2"},null,8,["modelValue"])])):p("",!0),"pdf"===o?(t(),a("div",C,[O,n(G,{name:"pdf",label:"",modelValue:D.pdfBlock,"onUpdate:modelValue":_[10]||(_[10]=e=>D.pdfBlock=e),disabled:!1,checkbox:"1",class:"mt-2",type:"document"},null,8,["modelValue"])])):p("",!0),"video"===o?(t(),a("div",U,[x,n(e,{items:D.optionType,type:D.typeValue,name:"Video",modelValue:D.videoBlock,"onUpdate:modelValue":_[11]||(_[11]=e=>D.videoBlock=e),label:"",disabled:!1},null,8,["items","type","modelValue"])])):p("",!0),"snippet"===o?(t(),a("div",j,[n(H,{items:D.optionsSnippet,modelValue:D.snippetBlock,"onUpdate:modelValue":_[12]||(_[12]=e=>D.snippetBlock=e),label:"Snippet",chips:!0,disabled:!1},null,8,["items","modelValue"])])):p("",!0),"relation"===o?(t(),a("div",T,[F,n(H,{items:D.optionsRelation,modelValue:D.relationBlock,"onUpdate:modelValue":_[13]||(_[13]=e=>D.relationBlock=e),chips:!0,disabled:!1},null,8,["items","modelValue"])])):p("",!0)])),_:2},1024)],8,V)))),128)),n(E,{color:"primary",onClick:D.saveChange},{default:c((()=>[u("Save")])),_:1},8,["onClick"])])])}});export{D as default};
